(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService({instanceIdentifier:i});if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.normalizeInstanceIdentifier(void 0===e?o:e);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:i,options:r})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);return!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s)),s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},GyhO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("LRne"),i=n("bHdf");function s(...t){return Object(i.a)(1)(Object(r.a)(...t))}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JX91:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("GyhO"),i=n("z+Ro");function s(...t){const e=t[t.length-1];return Object(i.a)(e)?(t.pop(),n=>Object(r.a)(t,n,e)):e=>Object(r.a)(t,e)}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.1","app")},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},"RSv/":function(t,e,n){"use strict";n.r(e),n.d(e,"JuegosModule",function(){return I});var r=n("ofXK"),i=n("tyNb"),s=n("mrSG"),o=n("fXoL"),a=n("tk/3");let u=(()=>{class t{constructor(t){this.http=t}getImg(){return this.http.get("https://pixabay.com/api/?key=21351108-e70e13da005029798b867e59c&q=yellow+flowers&image_type=photo&category=nature&safesearch=true")}}return t.\u0275fac=function(e){return new(e||t)(o.Sb(a.a))},t.\u0275prov=o.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function c(t,e){if(1&t){const t=o.Pb();o.Ob(0,"div"),o.Ob(1,"div",12),o.Vb("click",function(){o.fc(t);const n=e.$implicit;return o.Xb().onClick(n)}),o.Mb(2,"div",13),o.Ob(3,"div",14),o.Mb(4,"img",15),o.Nb(),o.Nb(),o.Nb()}if(2&t){const t=e.$implicit,n=o.Xb();o.Ab(1),o.ac("ngClass",n.cardsArray[t.tarjeta].visible?n.claseVisible:n.sinClase),o.Ab(3),o.bc("src",t.img,o.gc)}}let l=(()=>{class t{constructor(t){this.svcImg=t,this.totalClicks=0,this.matchedCards=[],this.cardsArray=[],this.claseVisible="visible",this.sinClase="",this.start="visible",setTimeout(()=>{this.inicializarArray()},1e3)}ngOnInit(){this.svcImg.getImg().subscribe(t=>{this.img=t,this.getImg(this.img.hits)})}MixOrMatch(t){this.totalTime=t,this.timeRemaining=t,this.timer=100,this.ticker=0,this.victoria="",this.juegoTerminado="",this.inicializarArray()}startGame(){this.totalClicks=0,this.timeRemaining=this.totalTime,this.cardToCheck=null,this.matchedCards=[],this.busy=!0,setTimeout(()=>{this.shuffleCards(this.cardsArray),this.countdown=this.startCountdown(),this.busy=!1},500),this.hideCards(),this.timer=this.timeRemaining,this.ticker=this.totalClicks}startCountdown(){return setInterval(()=>{this.timeRemaining--,this.timer=this.timeRemaining,0===this.timeRemaining&&this.gameOver()},1e3)}gameOver(){clearInterval(this.countdown),this.juegoTerminado="visible"}victory(){clearInterval(this.countdown),this.victoria="visible"}hideCards(){this.cardsArray.forEach(t=>{t.visible=!1,t.macheada=!1})}flipCard(t){this.canFlipCard(t)&&(this.totalClicks++,this.ticker=this.totalClicks,this.cardsArray[t.tarjeta].visible=!0,this.cardToCheck?this.checkForCardMatch(t):this.cardToCheck=t)}checkForCardMatch(t){this.getCardType(t)===this.getCardType(this.cardToCheck)?this.cardMatch(t,this.cardToCheck):this.cardMismatch(t,this.cardToCheck),this.cardToCheck=null}cardMatch(t,e){this.matchedCards.push(t.tarjeta),this.matchedCards.push(e.tarjeta),this.cardsArray[t.tarjeta].macheada=!0,this.cardsArray[e.tarjeta].macheada=!0,this.matchedCards.length===this.cardsArray.length&&this.victory()}cardMismatch(t,e){this.busy=!0,setTimeout(()=>{this.cardsArray[t.tarjeta].visible=!1,this.cardsArray[e.tarjeta].visible=!1,this.busy=!1},1e3)}shuffleCards(t){for(let e=t.length-1;e>0;e--){let n,r=Math.floor(Math.random()*(e+1));n=t[r],t[r]=t[e],t[e]=n}this.cardsArray=t}getCardType(t){return t.img}canFlipCard(t){return!this.busy&&!this.matchedCards.includes(t)&&t!==this.cardToCheck}ready(){this.MixOrMatch(100),this.start="",this.victoria="",this.juegoTerminado="",this.startGame()}inicializarArray(){for(let t=0;t<6;t++)this.cardsArray[t]={tarjeta:t,visible:!1,macheada:!1,img:this.img2[t].largeImageURL},this.cardsArray[t+6]={tarjeta:t+6,visible:!1,macheada:!1,img:this.img2[t].largeImageURL}}onClick(t){this.flipCard(t)}getImg(t){return Object(s.b)(this,void 0,void 0,function*(){this.img2=t})}}return t.\u0275fac=function(e){return new(e||t)(o.Lb(u))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-memo-test"]],decls:33,vars:12,consts:[[1,"memory-game"],[1,"page-title"],[3,"click"],["id","game-over-text",3,"click"],[1,"overlay-text-small"],["id","victory-text",3,"click"],[1,"game-container"],[1,"game-info-container"],[1,"game-info"],["id","time-remaining"],["id","flips"],[4,"ngFor","ngForOf"],[1,"card",3,"ngClass","click"],[1,"card-back","card-face"],[1,"card-front","card-face"],[1,"card-value",3,"src"]],template:function(t,e){1&t&&(o.Ob(0,"section",0),o.Ob(1,"h1",1),o.kc(2,"Memotest"),o.Nb(),o.Ob(3,"div",2),o.Vb("click",function(){return e.ready()}),o.kc(4," Click para empezar "),o.Nb(),o.Ob(5,"div",3),o.Vb("click",function(){return e.ready()}),o.kc(6," Juego Terminado "),o.Mb(7,"br"),o.Ob(8,"span",4),o.Mb(9,"br"),o.Mb(10,"br"),o.Mb(11,"br"),o.Mb(12,"br"),o.kc(13," Click para jugar de nuevo"),o.Nb(),o.Nb(),o.Ob(14,"div",5),o.Vb("click",function(){return e.ready()}),o.kc(15," Ganaste "),o.Ob(16,"span",4),o.Mb(17,"br"),o.Mb(18,"br"),o.Mb(19,"br"),o.Mb(20,"br"),o.kc(21,"Click para jugar de nuevo"),o.Nb(),o.Nb(),o.Ob(22,"div",6),o.Ob(23,"div",7),o.Ob(24,"div",8),o.kc(25," Tiempo: "),o.Ob(26,"span",9),o.kc(27),o.Nb(),o.Nb(),o.Ob(28,"div",8),o.kc(29," Dadas vuelta: "),o.Ob(30,"span",10),o.kc(31),o.Nb(),o.Nb(),o.Nb(),o.ic(32,c,5,2,"div",11),o.Nb(),o.Nb()),2&t&&(o.Ab(3),o.Cb("overlay-text ",e.start,""),o.Ab(2),o.Cb("overlay-text ",e.juegoTerminado,""),o.Ab(9),o.Cb("overlay-text ",e.victoria,""),o.Ab(13),o.lc(e.timer),o.Ab(4),o.lc(e.ticker),o.Ab(1),o.ac("ngForOf",e.cardsArray))},directives:[r.j,r.i],styles:[".memory-game[_ngcontent-%COMP%]{background:#111;margin-top:30px;margin-bottom:30px}.page-title[_ngcontent-%COMP%]{color:#ff6d00;font-family:Creepy,serif;font-weight:400;text-align:center;font-size:6em}.game-info-container[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;justify-content:space-between}.game-info[_ngcontent-%COMP%]{color:#ffbb89;font-size:4em;padding:20px}.game-container[_ngcontent-%COMP%]{margin:50px auto;display:grid;grid-template-columns:repeat(4,auto);grid-gap:10px;justify-content:center;perspective:500px}.card[_ngcontent-%COMP%]{position:relative;height:175px;width:125px}.card-face[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:12px;border-width:1px;border-style:solid;overflow:hidden;transition:transform .5s ease-in-out;-webkit-backface-visibility:hidden;backface-visibility:hidden;background:linear-gradient(315deg,#03a9f4,#ff0058)}.card.visible[_ngcontent-%COMP%]   .card-back[_ngcontent-%COMP%]{transform:rotateY(-180deg)}.card.visible[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%]{transform:rotateY(0)}.card.matched[_ngcontent-%COMP%]   .card-front[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{animation:dance 1s linear .5s infinite}.card-back[_ngcontent-%COMP%]{background-color:#000;border-color:#ff6d00;transform:rotateY(0)}.cob-web[_ngcontent-%COMP%]{position:absolute;transition:width .1s ease-in-out,height .1s ease-in-out;width:47px;height:47px}.card-face[_ngcontent-%COMP%]:hover   .cob-web[_ngcontent-%COMP%]{width:52px;height:52px}.card-back[_ngcontent-%COMP%]:hover   .spider[_ngcontent-%COMP%]{transform:translateY(0)}.card-value[_ngcontent-%COMP%]{position:relative;transition:transform .1s ease-in-out;transform:scale(.9);height:175px;width:125px}.card-front[_ngcontent-%COMP%]:hover   .card-value[_ngcontent-%COMP%]{transform:scale(1)}.card-front[_ngcontent-%COMP%]{background-color:#ffbb89;border-color:#333;transform:rotateY(180deg);background:linear-gradient(315deg,#03a9f4,#ff0058)}.overlay-text[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;z-index:100;display:none;position:fixed;justify-content:center;align-items:center;flex-direction:column;color:#ff6d00;font-family:Creepy,serif;transition:background-color .5s,font-size .5s}.overlay-text-small[_ngcontent-%COMP%]{font-size:.3em}.overlay-text.visible[_ngcontent-%COMP%]{display:flex;animation:overlay-grow .5s forwards}@keyframes dance{0%,to{transform:rotate(0)}25%{transform:rotate(-30deg)}75%{transform:rotate(30deg)}}@keyframes overlay-grow{0%{background-color:transparent;font-size:0}to{background-color:rgba(0,0,0,.8);font-size:10em}}@media (max-width:600px){.game-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,auto)}.game-info-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}section[_ngcontent-%COMP%]{margin:30px}"]}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["app-menu-juegos"]],decls:27,vars:0,consts:[[1,"containerT"],[1,"container"],[1,"menu-container"],["routerLink","/juegos/mijuego",1,"box"],[1,"content"],["routerLink","/juegos/memotest",1,"box"],["routerLink","/juegos/piedrapapeltijera",1,"box"],["routerLink","/juegos/tateti",1,"box"]],template:function(t,e){1&t&&(o.Ob(0,"div",0),o.Ob(1,"div",1),o.Ob(2,"h1"),o.kc(3,"Juegos"),o.Nb(),o.Ob(4,"div",2),o.Ob(5,"div",3),o.Mb(6,"span"),o.Ob(7,"div",4),o.Ob(8,"h2"),o.kc(9,"Mi juego "),o.Nb(),o.Ob(10,"p"),o.kc(11,"Rompecabezas, ordenar los numeros"),o.Nb(),o.Nb(),o.Nb(),o.Ob(12,"div",5),o.Mb(13,"span"),o.Ob(14,"div",4),o.Ob(15,"h2"),o.kc(16,"Memotest "),o.Nb(),o.Nb(),o.Nb(),o.Ob(17,"div",6),o.Mb(18,"span"),o.Ob(19,"div",4),o.Ob(20,"h2"),o.kc(21,"Piedra Papel Tijera "),o.Nb(),o.Nb(),o.Nb(),o.Ob(22,"div",7),o.Mb(23,"span"),o.Ob(24,"div",4),o.Ob(25,"h2"),o.kc(26,"TaTeTi"),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb())},directives:[i.b],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:consolas}.containerT[_ngcontent-%COMP%]{margin:0;height:100vh}.container[_ngcontent-%COMP%], .containerT[_ngcontent-%COMP%]{width:100vw;background:#111}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;flex-wrap:wrap}h1[_ngcontent-%COMP%]{margin-top:auto;color:#fff;font-size:5.1em}.menu-container[_ngcontent-%COMP%]{padding:40px 0;flex-wrap:wrap}.menu-container[_ngcontent-%COMP%], .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:250px;height:250px;color:#fff;background:#111;margin:20px 30px;transition:.5s}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover{transform:translateY(-20px)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after, .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#ffbc00,#ff0058)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after{filter:blur(30px)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(2):after, .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(2):before{background:linear-gradient(315deg,#03a9f4,#ff0058)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3):after, .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3):before{background:linear-gradient(315deg,#4dff03,#00d0ff)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(4):after, .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(4):before{background:linear-gradient(315deg,#eeff03,#ff7b00)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:6px;left:6px;right:6px;bottom:6px;background:rgba(0,0,0,.6);z-index:2}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:hsla(0,0%,100%,.1);pointer-events:none}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;z-index:10;padding:20px 40px}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.1em;color:#fff;margin-bottom:10px}.container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;color:#fff;margin-bottom:10px;line-height:1.4em}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;color:#111;background:#fff;padding:10px;text-decoration:none;font-weight:700}']}),t})();class d{constructor(t,e){this.x=t,this.y=e}getTopBox(){return 0===this.y?null:new d(this.x,this.y-1)}getRightBox(){return 2===this.x?null:new d(this.x+1,this.y)}getBottomBox(){return 2===this.y?null:new d(this.x,this.y+1)}getLeftBox(){return 0===this.x?null:new d(this.x-1,this.y)}getNextdoorBoxes(){return[this.getTopBox(),this.getRightBox(),this.getBottomBox(),this.getLeftBox()].filter(t=>null!==t)}getRandomNextdoorBox(){const t=this.getNextdoorBoxes();return t[Math.floor(Math.random()*t.length)]}}class f{static swapBoxes(t,e,n){let r=t[e.y][e.x];return t[e.y][e.x]=t[n.y][n.x],t[n.y][n.x]=r,t}static isSolved(t){return 1===t[0][0]&&2===t[0][1]&&3===t[0][2]&&4===t[1][0]&&5===t[1][1]&&6===t[1][2]&&7===t[2][0]&&8===t[2][1]&&0===t[2][2]}static getRandomGrid(){let t=[[1,2,3],[4,5,6],[7,8,0]],e=new d(2,2);for(let n=0;n<1e3;n++){const n=e.getRandomNextdoorBox();f.swapBoxes(t,e,n),e=n}return f.isSolved(t)?this.getRandomGrid():t}}class p{constructor(t,e,n,r){this.move=0,this.time=0,this.status="",this.grid=t,this.move=e,this.time=n,this.status=r}static ready(){return new p([[0,0,0],[0,0,0],[0,0,0]],0,0,"listo")}static start(){return new p(f.getRandomGrid(),0,0,"jugando")}}function g(t,e){if(1&t){const t=o.Pb();o.Ob(0,"button",3),o.Vb("click",function(){o.fc(t);const n=e.index;return o.Xb().handleClickBox(n)}),o.kc(1),o.Nb()}if(2&t){const t=e.index,n=o.Xb();o.Ab(1),o.lc(n.contenido[t])}}let m=(()=>{class t{constructor(){this.tickId=null,this.boton="",this.contenido=new Array(9),this.mensaje="",this.victoria="",this.nuevoJuego(p.ready()),this.grupoCajas=[],this.contenido=[,1,2,3,4,5,6,7,8],this.boton="Jugar",this.start="visible"}ngOnInit(){}nuevoJuego(t){this.estado=t,this.tickId=null,this.tick=this.tick.bind(this)}tick(){this.estado.time=this.estado.time+1}setState(t){this.estado=t,this.render()}handleClickBox(t){let e=this.grupoCajas[t],n=e.getNextdoorBoxes().find(t=>0===this.estado.grid[t.y][t.x]);if(n){let t=f.swapBoxes(this.estado.grid,e,n);f.isSolved(t)?(clearInterval(this.tickId),this.setState({grid:t,move:this.estado.move+1,time:this.estado.time,status:"gano"})):this.setState({grid:t,move:this.estado.move+1,time:this.estado.time,status:this.estado.status})}}render(){this.contador=0;for(let t=0;t<3;t++)for(let e=0;e<3;e++){if("jugando"===this.estado.status){let n=new d(e,t);this.grupoCajas.push(n),this.boton="Reiniciar"}this.contenido[this.contador]=0===this.estado.grid[t][e]?"":this.estado.grid[t][e].toString(),this.contador++}"listo"===this.estado.status&&(this.boton="Jugar",this.start="visible"),"jugando"===this.estado.status&&(this.boton="Reiniciar"),"gano"===this.estado.status&&(this.boton="Jugar",this.victoria="visible")}clickBoton(){clearInterval(this.tickId),this.tickId=setInterval(this.tick,1e3),this.setState(p.start()),this.start="",this.victoria="",this.render()}ordenar(){this.setState({grid:[[1,2,3],[4,5,0],[7,8,6]],move:this.estado.move+1,time:this.estado.time,status:this.estado.status})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["app-mi-juego"]],decls:25,vars:10,consts:[[1,"juegoContainer"],[1,"juego"],[1,"game"],[3,"click"],["id","victory-text",3,"click"],[1,"overlay-text-small"],[1,"grid"],[3,"click",4,"ngFor","ngForOf"],[1,"footer"],["id","move"],[1,"ordenar",3,"click"],["id","time"]],template:function(t,e){1&t&&(o.Ob(0,"div",0),o.Ob(1,"div",1),o.Ob(2,"div",2),o.Ob(3,"div",3),o.Vb("click",function(){return e.clickBoton()}),o.kc(4," Click para empezar "),o.Nb(),o.Ob(5,"div",4),o.Vb("click",function(){return e.clickBoton()}),o.kc(6," Ganaste!!! "),o.Ob(7,"span",5),o.Mb(8,"br"),o.Mb(9,"br"),o.Mb(10,"br"),o.Mb(11,"br"),o.kc(12,"Click para jugar de nuevo"),o.Nb(),o.Nb(),o.Ob(13,"div",6),o.ic(14,g,2,1,"button",7),o.Nb(),o.Ob(15,"div",8),o.Ob(16,"button",3),o.Vb("click",function(){return e.clickBoton()}),o.kc(17),o.Nb(),o.Ob(18,"span",9),o.kc(19),o.Nb(),o.Nb(),o.Ob(20,"div",8),o.Ob(21,"button",10),o.Vb("click",function(){return e.ordenar()}),o.kc(22,"Ordenar para ganar"),o.Nb(),o.Ob(23,"span",11),o.kc(24),o.Nb(),o.Nb(),o.Nb(),o.Nb(),o.Nb()),2&t&&(o.Ab(3),o.Cb("overlay-text ",e.start,""),o.Ab(2),o.Cb("overlay-text ",e.victoria,""),o.Ab(9),o.ac("ngForOf",e.contenido),o.Ab(3),o.lc(e.boton),o.Ab(2),o.mc("Movimiento: ",e.estado.move,""),o.Ab(5),o.mc("Tiempo: ",e.estado.time,""))},directives:[r.j],styles:[".juegoContainer[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;background:#111}.juego[_ngcontent-%COMP%]{height:100%;background:#111;display:flex;justify-content:center;align-items:center;flex-direction:column}.game[_ngcontent-%COMP%]{box-shadow:0 1px 4px rgba(0,0,0,.5);padding:20px;background-image:linear-gradient(#7b9f35,#266);border-radius:5px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:106px 106px 106px;grid-template-rows:106px 106px 106px}.grid[_ngcontent-%COMP%], .grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid #500}.grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#cfcfcf;color:#033;font-size:24px;font-weight:700;outline:none;cursor:pointer}.footer[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:space-between}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .ordenar[_ngcontent-%COMP%]{border:none;font-size:20px;font-weight:700;border-radius:5px;box-shadow:0 1px 4px rgba(0,0,0,.5);padding:5px;background-color:#d4ee9f;color:#033;outline:none;cursor:pointer}.ordenar[_ngcontent-%COMP%]{width:150px;margin-top:15px}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .ordenar[_ngcontent-%COMP%]:hover{color:#d4ee9f;background-color:#033}.footer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:20px;color:#d4ee9f;font-weight:700;margin:auto 0}.message[_ngcontent-%COMP%]{color:#aa3939;height:80px}.overlay-text[_ngcontent-%COMP%]{top:0;left:0;right:0;bottom:0;z-index:100;display:none;position:fixed;justify-content:center;align-items:center;flex-direction:column;color:#ff6d00;font-family:Creepy,serif;font-size:4em;transition:background-color .5s,font-size .5s}.overlay-text.visible[_ngcontent-%COMP%]{display:flex;animation:overlay-grow .5s forwards}@keyframes overlay-grow{0%{background-color:transparent;font-size:0}to{background-color:rgba(0,0,0,.8);font-size:6em}}"]}),t})();class y{constructor(t,e,n){this.nombre="Sin Nombre",this.gano=!1,t&&(this.nombre=t),e&&(this.gano=e),this.jugador=n||"natalia natalia"}retornarAyuda(){return"No hay Ayuda definida"}}class b extends y{constructor(t,e,n){super("Adivina el n\xfamero",e,n),this.InicializaCero(),this.opciones=["piedra","papel","tijera"]}verificar(){return this.ValidaResultado()&&(this.gano=!0),!!this.gano}ValidaResultado(){return this.seleccionJugador===this.seleccionCompu?(this.mensaje="Empate!!",!1):"piedra"===this.seleccionJugador?"tijera"===this.seleccionCompu?(this.mensaje="Ganaste!!",!1):(this.mensaje="Perdistes. Te gano la compu",!0):"papel"===this.seleccionJugador?"tijera"===this.seleccionCompu?(this.mensaje="Perdistes. Te gano la compu",!1):(this.mensaje="Ganaste!!",!0):"tijera"===this.seleccionJugador&&("piedra"===this.seleccionCompu?(this.mensaje="Perdistes. Te gano la compu",!1):(this.mensaje="Ganaste!!",!0))}NuevoJuevo(){this.InicializaCero(),this.SeleccionComputadora()}InicializaCero(){this.seleccionJugador="",this.seleccionCompu="",this.mensaje="Inicia un nuevo juego de <brs> Piedra Papel Tejera"}SeleccionComputadora(){this.index=Math.floor(3*Math.random()),this.seleccionCompu=this.opciones[this.index]}}function v(t,e){if(1&t){const t=o.Pb();o.Ob(0,"div",7),o.Ob(1,"h2",8),o.kc(2),o.Nb(),o.Ob(3,"h3"),o.kc(4,"Jugador"),o.Nb(),o.Ob(5,"div",9),o.Mb(6,"img",10),o.Ob(7,"h3"),o.kc(8),o.Nb(),o.Nb(),o.Ob(9,"h3"),o.kc(10,"Vs"),o.Nb(),o.Ob(11,"h3"),o.kc(12,"Computadora"),o.Nb(),o.Ob(13,"div",11),o.Mb(14,"img",10),o.Ob(15,"h3"),o.kc(16),o.Nb(),o.Nb(),o.Ob(17,"button",12),o.Vb("click",function(){return o.fc(t),o.Xb().ClickIntro()}),o.kc(18," Jugar"),o.Nb(),o.Nb()}if(2&t){const t=o.Xb();o.Ab(2),o.lc(t.juego.mensaje),o.Ab(4),o.cc("src","./assets/imagenes/",t.juego.seleccionJugador,".png",o.gc),o.Ab(2),o.lc(t.juego.seleccionJugador),o.Ab(6),o.cc("src","./assets/imagenes/",t.juego.seleccionCompu,".png",o.gc),o.Ab(2),o.lc(t.juego.seleccionCompu)}}function _(t,e){if(1&t){const t=o.Pb();o.Ob(0,"div",13),o.Ob(1,"h1"),o.kc(2," Inicia un nuevo juego de "),o.Mb(3,"br"),o.Mb(4,"br"),o.kc(5," Piedra Papel Tijera"),o.Nb(),o.Ob(6,"button",12),o.Vb("click",function(){return o.fc(t),o.Xb().ClickIntro()}),o.kc(7," Juego nuevo"),o.Nb(),o.Nb()}}function w(t,e){if(1&t){const t=o.Pb();o.Ob(0,"div",14),o.Ob(1,"h2",8),o.kc(2,"Elige tu jugada"),o.Nb(),o.Ob(3,"div",15),o.Ob(4,"button",16),o.Vb("click",function(){return o.fc(t),o.Xb().Verificar("piedra")}),o.kc(5,"Piedra"),o.Nb(),o.Ob(6,"button",17),o.Vb("click",function(){return o.fc(t),o.Xb().Verificar("papel")}),o.kc(7,"Papel"),o.Nb(),o.Ob(8,"button",18),o.Vb("click",function(){return o.fc(t),o.Xb().Verificar("tijera")}),o.kc(9,"Tijera"),o.Nb(),o.Nb(),o.Nb()}}let O=(()=>{class t{constructor(){this.juego=new b,this.jugando=!1,this.visualizarBoton=!1}ClickIntro(){this.jugando=!0,this.NuevoJuego(),this.juego.mensaje=""}NuevoJuego(){this.juego.NuevoJuevo(),this.visualizarBoton=!1}Verificar(t){this.juego.seleccionJugador=t,this.juego.verificar(),this.visualizarBoton=!0}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["app-piedra-papel-tijera"]],decls:13,vars:3,consts:[[1,"containerT"],[1,"container",2,"text-align","center"],["href","https://fonts.googleapis.com/css2?family=Chewy&display=swap","rel","stylesheet"],[1,"juegoContainer"],["class","seleccion",4,"ngIf"],["class","intro",4,"ngIf"],["class","match fadeOut",4,"ngIf"],[1,"seleccion"],[1,"winner"],[1,"seleccionJugador","seleccionJ"],["alt","Avatar",1,"img-thumbnail",3,"src"],[1,"seleccionComputadora","seleccionJ"],[3,"click"],[1,"intro"],[1,"match","fadeOut"],[1,"options"],[1,"rock",3,"click"],[1,"paper",3,"click"],[1,"scissors",3,"click"]],template:function(t,e){1&t&&(o.Ob(0,"div",0),o.Ob(1,"div",1),o.Mb(2,"link",2),o.Mb(3,"br"),o.Mb(4,"br"),o.Mb(5,"br"),o.Ob(6,"div",3),o.ic(7,v,19,5,"div",4),o.ic(8,_,8,0,"div",5),o.ic(9,w,10,0,"div",6),o.Nb(),o.Mb(10,"br"),o.Mb(11,"br"),o.Mb(12,"br"),o.Nb(),o.Nb()),2&t&&(o.Ab(7),o.ac("ngIf",e.visualizarBoton),o.Ab(1),o.ac("ngIf",!e.jugando),o.Ab(1),o.ac("ngIf",e.jugando&&!e.visualizarBoton))},directives:[r.k],styles:[".containerT[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;background:#111}.juegoContainer[_ngcontent-%COMP%]{width:auto;font-family:Chewy,cursive;border:10px solid #5c4474;padding:30px;background:linear-gradient(315deg,#03a9f4,#ff0058);border-radius:25px;width:75%;margin:auto}.img-thumbnail[_ngcontent-%COMP%]{width:100px;margin-right:20px;margin-left:300px}.intro[_ngcontent-%COMP%]{color:#fff;height:50vh;display:flex;flex-direction:column;align-items:center;justify-content:space-around;transition:opacity .5s ease}.intro[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}.intro[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .match[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .seleccion[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:50px;background:none;border:none;color:#fff;font-size:20px;background:#d33ab2;border-radius:20px;cursor:pointer;margin:30px}.seleccionJ[_ngcontent-%COMP%], .titulo[_ngcontent-%COMP%]{align-self:center;text-align:center}.seleccionJ[_ngcontent-%COMP%]{display:flex;align-items:center}.seleccion[_ngcontent-%COMP%]{align-self:center;text-align:center}input[_ngcontent-%COMP%]{margin:20px}h2[_ngcontent-%COMP%]{padding:20px}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:#fff}"]}),t})();class C extends y{constructor(t,e,n){super("TaTeTi",e,n),this.turnoCirculo=!1,this.claseActual=this.x,this.x="x",this.o="o",this.combinaciones=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]}CambiarTurno(){this.turnoCirculo=!this.turnoCirculo}verificar(){return!0}}function S(t,e){if(1&t){const t=o.Pb();o.Ob(0,"div"),o.Ob(1,"div",7),o.Vb("click",function(){return o.fc(t),o.Xb().Jugar(0)}),o.kc(2,"1"),o.Nb(),o.Ob(3,"div",8),o.Vb("click",function(){return o.fc(t),o.Xb().Jugar(1)}),o.kc(4,"2"),o.Nb(),o.Ob(5,"div",9),o.Vb("click",function(){return o.fc(t),o.Xb().Jugar(2)}),o.kc(6,"3"),o.Nb(),o.Ob(7,"div",10),o.Vb("click",function(){return o.fc(t),o.Xb().Jugar(3)}),o.kc(8,"4"),o.Nb(),o.Ob(9,"div",11),o.Vb("click",function(){return o.fc(t),o.Xb().Jugar(4)}),o.kc(10,"5"),o.Nb(),o.Ob(11,"div",12),o.Vb("click",function(){return o.fc(t),o.Xb().Jugar(5)}),o.kc(12,"6"),o.Nb(),o.Ob(13,"div",13),o.Vb("click",function(){return o.fc(t),o.Xb().Jugar(6)}),o.kc(14,"7"),o.Nb(),o.Ob(15,"div",14),o.Vb("click",function(){return o.fc(t),o.Xb().Jugar(7)}),o.kc(16,"8"),o.Nb(),o.Ob(17,"div",15),o.Vb("click",function(){return o.fc(t),o.Xb().Jugar(8)}),o.kc(18,"9"),o.Nb(),o.Nb()}if(2&t){const t=o.Xb();o.Cb("CuadraditoContainer ",t.claseContainer,""),o.Ab(1),o.Cb("cuadradito ",t.clase1,""),o.Ab(2),o.Cb("cuadradito ",t.clase2,""),o.Ab(2),o.Cb("cuadradito ",t.clase3,""),o.Ab(2),o.Cb("cuadradito ",t.clase4,""),o.Ab(2),o.Cb("cuadradito ",t.clase5,""),o.Ab(2),o.Cb("cuadradito ",t.clase6,""),o.Ab(2),o.Cb("cuadradito ",t.clase7,""),o.Ab(2),o.Cb("cuadradito ",t.clase8,""),o.Ab(2),o.Cb("cuadradito ",t.clase9,"")}}function E(t,e){if(1&t){const t=o.Pb();o.Ob(0,"div",16),o.Ob(1,"div",17),o.kc(2),o.Nb(),o.Mb(3,"br"),o.Mb(4,"br"),o.Mb(5,"br"),o.Ob(6,"button",18),o.Vb("click",function(){return o.fc(t),o.Xb().nuevoJuego()}),o.kc(7,"Nuevo Juego"),o.Nb(),o.Nb()}if(2&t){const t=o.Xb();o.Ab(2),o.mc(" ",t.mensaje,"")}}const T=[{path:"tateti",component:(()=>{class t{constructor(){this.juego=new C,this.nuevoJuego(),this.clasesCuadritos=[this.clase1,this.clase2,this.clase3,this.clase4,this.clase5,this.clase6,this.clase4,this.clase8,this.clase9]}ngOnInit(){this.CuadraditoHover(),this.cellElements=document.querySelectorAll("[data-cell]")}Jugar(t){this.MarcarJugada(t),this.juego.claseActual=this.juego.turnoCirculo?this.juego.o:this.juego.x,this.VerificarJugada()&&this.FinalizarJuego(!1),this.EsEmpate()&&this.FinalizarJuego(!0),this.juego.CambiarTurno(),this.CuadraditoHover()}CuadraditoHover(){this.claseContainer=this.juego.turnoCirculo?this.juego.o:this.juego.x}FinalizarJuego(t){this.mensaje=t?"Empate!":this.juego.turnoCirculo?"O Gano!":"X Gano!",this.claseMensaje="show",this.ocultarVerificar=!0}VerificarJugada(){return this.juego.combinaciones.some(t=>t.every(t=>this.listaclases[t]==this.juego.claseActual.toString()))}EsEmpate(){return[...this.listaclases].every(t=>t==this.juego.o||t==this.juego.x)}MarcarJugada(t){let e=this.juego.turnoCirculo?this.juego.o:this.juego.x;switch(t){case 0:null!=this.clase1&&""!=this.clase1||(this.clase1=e,this.listaclases[t]=e);break;case 1:null!=this.clase2&&""!=this.clase2||(this.clase2=e,this.listaclases[t]=e);break;case 2:null!=this.clase3&&""!=this.clase3||(this.clase3=e,this.listaclases[t]=e);break;case 3:null!=this.clase4&&""!=this.clase4||(this.clase4=e,this.listaclases[t]=e);break;case 4:null!=this.clase5&&""!=this.clase5||(this.clase5=e,this.listaclases[t]=e);break;case 5:null!=this.clase6&&""!=this.clase6||(this.clase6=e,this.listaclases[t]=e);break;case 6:null!=this.clase7&&""!=this.clase7||(this.clase7=e,this.listaclases[t]=e);break;case 7:null!=this.clase8&&""!=this.clase8||(this.clase8=e,this.listaclases[t]=e);break;case 8:null!=this.clase9&&""!=this.clase9||(this.clase9=e,this.listaclases[t]=e)}}nuevoJuego(){this.ocultarVerificar=!1,this.claseMensaje="",this.listaclases=[null,null,null,null,null,null,null,null,null],this.ocultarVerificar=!1,this.mensaje=" ninguno",this.clase1="",this.clase2="",this.clase3="",this.clase4="",this.clase5="",this.clase6="",this.clase7="",this.clase8="",this.clase9=""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Fb({type:t,selectors:[["app-tateti"]],decls:12,vars:2,consts:[[1,"containerT"],[1,"container"],[1,"box"],[2,"text-align","center"],["href","https://fonts.googleapis.com/css2?family=Kreon:wght@700&display=swap","rel","stylesheet"],[3,"class",4,"ngIf"],["class","resultadoContainer show",4,"ngIf"],["data-cell","","id","1",3,"click"],["data-cell","","id","2",3,"click"],["data-cell","","id","3",3,"click"],["data-cell","","id","4",3,"click"],["data-cell","","id","5",3,"click"],["data-cell","","id","6",3,"click"],["data-cell","","id","7",3,"click"],["data-cell","","id","8",3,"click"],["data-cell","","id","9",3,"click"],[1,"resultadoContainer","show"],["id","mensajeResultado show"],[1,"btn","btn-info","btn-lg",3,"click"]],template:function(t,e){1&t&&(o.Ob(0,"div",0),o.Mb(1,"br"),o.Mb(2,"br"),o.Ob(3,"div",1),o.Mb(4,"span"),o.Ob(5,"div",2),o.Ob(6,"div",3),o.Mb(7,"link",4),o.Ob(8,"h1"),o.kc(9," Tateti "),o.Nb(),o.Nb(),o.ic(10,S,19,30,"div",5),o.ic(11,E,8,1,"div",6),o.Nb(),o.Nb(),o.Nb()),2&t&&(o.Ab(10),o.ac("ngIf",!e.ocultarVerificar),o.Ab(1),o.ac("ngIf",e.ocultarVerificar))},directives:[r.k],styles:['.containerT[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;background:#111}[_ngcontent-%COMP%]:root{--cuadrado-size:200px;--mark-size:calc(var(--cuadrado-size) * 0.9)}.container[_ngcontent-%COMP%]{width:auto;font-family:Kreon,serif;border:10px solid #5c4474;padding:30px;border-radius:25px;margin:auto;background:linear-gradient(315deg,#03a9f4,#ff0058);transition:.5s;color:#fff}.container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after, .container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:before{content:"";top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#ffbc00,#ff0058)}.container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after{filter:blur(30px)}.container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:6px;left:6px;right:6px;bottom:6px;background:rgba(0,0,0,.6);z-index:2}.container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:hsla(0,0%,100%,.1);pointer-events:none}.cuadradito[_ngcontent-%COMP%]{width:200px;height:200px;background-color:#fff;border:solid;border-color:#404;display:flex;justify-content:center;align-items:center;position:relative;cursor:pointer}.cuadradito.o[_ngcontent-%COMP%], .cuadradito.x[_ngcontent-%COMP%]{cursor:not-allowed}.cuadradito.o[_ngcontent-%COMP%]:before, .cuadradito.x[_ngcontent-%COMP%]:after, .cuadradito.x[_ngcontent-%COMP%]:before{background-color:#000}.CuadraditoContainer.o[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:before, .CuadraditoContainer.x[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:after, .CuadraditoContainer.x[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:before{background-color:#d3d3d3}.cuadradito.x[_ngcontent-%COMP%]:after, .cuadradito.x[_ngcontent-%COMP%]:before, .CuadraditoContainer.x[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:after, .CuadraditoContainer.x[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:before{content:"";position:absolute;width:calc(200px * .15);height:200px}.cuadradito.x[_ngcontent-%COMP%]:before, .CuadraditoContainer.x[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:before{transform:rotate(45deg)}.cuadradito.x[_ngcontent-%COMP%]:after, .CuadraditoContainer.x[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:after{transform:rotate(-45deg)}.cuadradito.o[_ngcontent-%COMP%]:after, .cuadradito.o[_ngcontent-%COMP%]:before, .CuadraditoContainer.o[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:after, .CuadraditoContainer.o[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:before{content:"";position:absolute;border-radius:50%}.cuadradito.o[_ngcontent-%COMP%]:before, .CuadraditoContainer.o[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:before{width:190px;height:190px}.cuadradito.o[_ngcontent-%COMP%]:after, .CuadraditoContainer.o[_ngcontent-%COMP%]   .cuadradito[_ngcontent-%COMP%]:not(.x):not(.o):hover:after{width:calc(200px * .7);height:calc(200px * .7);background-color:#fff}.CuadraditoContainer[_ngcontent-%COMP%]{display:grid;align-content:center;justify-items:center;grid-template-columns:repeat(3,auto)}.CuadraditoContainer[_ngcontent-%COMP%], .resultadoContainer[_ngcontent-%COMP%]{justify-content:center;align-items:center}.resultadoContainer[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.9);color:#fff;font-size:5rem;flex-direction:column}.resultadoContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:3rem;background-color:#fff;border:1px solid #000;padding:.25em .5em;cursor:pointer}.resultadoContainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff;border-color:#fff}.resultadoContainer.show[_ngcontent-%COMP%]{display:flex}']}),t})()},{path:"piedrapapeltijera",component:O},{path:"memotest",component:l},{path:"mijuego",component:m},{path:"juegos",component:h},{path:"",redirectTo:"juegos",pathMatch:"full"}];let x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({imports:[[i.d.forChild(T)],i.d]}),t})(),I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({imports:[[r.c,x]]}),t})()},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},SxV6:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("sVev"),i=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new r.a))}},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XDbj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("sVev"),i=n("7o/Q");function s(t=u){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e){return"function"==typeof e?n=>n.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))))):e=>e.lift(new a(t))}class a{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends s.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new s.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(s.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return rn}),n.d(e,"b",function(){return fu}),n.d(e,"c",function(){return uu}),n.d(e,"d",function(){return ou}),n.d(e,"e",function(){return au}),n.d(e,"f",function(){return oc}),n.d(e,"g",function(){return Ju}),n.d(e,"h",function(){return da}),n.d(e,"i",function(){return Su}),n.d(e,"j",function(){return Ro}),n.d(e,"k",function(){return mu}),n.d(e,"l",function(){return Uo}),n.d(e,"m",function(){return mr}),n.d(e,"n",function(){return Ba}),n.d(e,"o",function(){return Xi}),n.d(e,"p",function(){return Cn}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return nn}),n.d(e,"s",function(){return fs}),n.d(e,"t",function(){return sa}),n.d(e,"u",function(){return aa}),n.d(e,"v",function(){return gu}),n.d(e,"w",function(){return Ca}),n.d(e,"x",function(){return Yu}),n.d(e,"y",function(){return Oa}),n.d(e,"z",function(){return Gu}),n.d(e,"A",function(){return xu}),n.d(e,"B",function(){return Sn}),n.d(e,"C",function(){return du}),n.d(e,"D",function(){return hu}),n.d(e,"E",function(){return zo}),n.d(e,"F",function(){return Bo}),n.d(e,"G",function(){return _r}),n.d(e,"H",function(){return Go}),n.d(e,"I",function(){return hr}),n.d(e,"J",function(){return En}),n.d(e,"K",function(){return ec}),n.d(e,"L",function(){return ba}),n.d(e,"M",function(){return Du}),n.d(e,"N",function(){return sn}),n.d(e,"O",function(){return $o}),n.d(e,"P",function(){return Ko}),n.d(e,"Q",function(){return Ea}),n.d(e,"R",function(){return L}),n.d(e,"S",function(){return Ku}),n.d(e,"T",function(){return zu}),n.d(e,"U",function(){return g}),n.d(e,"V",function(){return Bu}),n.d(e,"W",function(){return ic}),n.d(e,"X",function(){return Lu}),n.d(e,"Y",function(){return pu}),n.d(e,"Z",function(){return Zi}),n.d(e,"ab",function(){return Oo}),n.d(e,"bb",function(){return cr}),n.d(e,"cb",function(){return Kn}),n.d(e,"db",function(){return Mn}),n.d(e,"eb",function(){return Ln}),n.d(e,"fb",function(){return qn}),n.d(e,"gb",function(){return Vn}),n.d(e,"hb",function(){return Fn}),n.d(e,"ib",function(){return Un}),n.d(e,"jb",function(){return bo}),n.d(e,"kb",function(){return rc}),n.d(e,"lb",function(){return vo}),n.d(e,"mb",function(){return _o}),n.d(e,"nb",function(){return Rn}),n.d(e,"ob",function(){return B}),n.d(e,"pb",function(){return Cs}),n.d(e,"qb",function(){return Vs}),n.d(e,"rb",function(){return Ls}),n.d(e,"sb",function(){return Fs}),n.d(e,"tb",function(){return yo}),n.d(e,"ub",function(){return xt}),n.d(e,"vb",function(){return d}),n.d(e,"wb",function(){return Dn}),n.d(e,"xb",function(){return gs}),n.d(e,"yb",function(){return wt}),n.d(e,"zb",function(){return Po}),n.d(e,"Ab",function(){return ri}),n.d(e,"Bb",function(){return Ts}),n.d(e,"Cb",function(){return ho}),n.d(e,"Db",function(){return Ys}),n.d(e,"Eb",function(){return eu}),n.d(e,"Fb",function(){return tt}),n.d(e,"Gb",function(){return at}),n.d(e,"Hb",function(){return O}),n.d(e,"Ib",function(){return C}),n.d(e,"Jb",function(){return it}),n.d(e,"Kb",function(){return ut}),n.d(e,"Lb",function(){return As}),n.d(e,"Mb",function(){return Ms}),n.d(e,"Nb",function(){return Ds}),n.d(e,"Ob",function(){return Ps}),n.d(e,"Pb",function(){return Rs}),n.d(e,"Qb",function(){return Xe}),n.d(e,"Rb",function(){return fo}),n.d(e,"Sb",function(){return _n}),n.d(e,"Tb",function(){return Ze}),n.d(e,"Ub",function(){return su}),n.d(e,"Vb",function(){return Us}),n.d(e,"Wb",function(){return nu}),n.d(e,"Xb",function(){return zs}),n.d(e,"Yb",function(){return Ua}),n.d(e,"Zb",function(){return qa}),n.d(e,"ac",function(){return js}),n.d(e,"bc",function(){return Hs}),n.d(e,"cc",function(){return Gs}),n.d(e,"dc",function(){return tu}),n.d(e,"ec",function(){return ks}),n.d(e,"fc",function(){return Kt}),n.d(e,"gc",function(){return dr}),n.d(e,"hc",function(){return st}),n.d(e,"ic",function(){return Is}),n.d(e,"jc",function(){return iu}),n.d(e,"kc",function(){return uo}),n.d(e,"lc",function(){return co}),n.d(e,"mc",function(){return lo});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("EQ5u"),u=n("x+ZX");function c(){return new r.a}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return d(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class b extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function w(t,e){const n=e?` in ${e}`:"";throw new b("201",`No provider for ${_(t)} found${n}`)}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return E(t,x)||E(t,k)}function E(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(A))?t[I]:null}const x=l({"\u0275prov":l}),I=l({"\u0275inj":l}),k=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let N;function P(t){const e=N;return N=t,e}function D(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void w(d(t),"Injector")}function M(t){return{toString:t}.toString()}var R=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),L=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=F||q||V||U,z={},H=[],G=[],K=l({"\u0275cmp":l}),$=l({"\u0275dir":l}),Q=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),J=l({"\u0275loc":l}),X=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let Z=0;function tt(t){return M(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||L.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Z++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[Q]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&M(()=>{rt[t.id]=t.type}),e}function st(t,e){return M(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function ot(t,e){if(null==t)return z;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[K]||null}function lt(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}const ht=20,dt=10;function ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(X)?t[X]:null}class _t{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return Ot}function Ot(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),Ct}function Ct(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===z)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:z,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new _t(u&&u.currentValue,e,o===z),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}let Tt;function xt(t){Tt=t}function It(t){return!!t.listen}wt.ngInherit=!0;const kt={createRenderer:(t,e)=>void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0};function At(t){for(;Array.isArray(t);)t=t[0];return t}function jt(t,e){return At(e[t])}function Nt(t,e){return At(e[t.index])}function Pt(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Mt(t,e){const n=e[t];return ft(n)?n:n[0]}function Rt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:ce(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Bt.bindingsEnabled}function Ht(){return Bt.lFrame.lView}function Gt(){return Bt.lFrame.tView}function Kt(t){Bt.lFrame.contextLView=t}function $t(){let t=Qt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Qt(){return Bt.lFrame.currentTNode}function Wt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Bt.lFrame.isParent}function Xt(){return Bt.isInCheckNoChangesMode}function Yt(t){Bt.isInCheckNoChangesMode=t}function Zt(){return Bt.lFrame.bindingIndex++}function te(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ee(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){Bt.lFrame.currentDirectiveIndex=t}function re(){return Bt.lFrame.currentQueryIndex}function ie(t){Bt.lFrame.currentQueryIndex=t}function se(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&j.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&j.Host||(r=se(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=ue();return r.currentTNode=e,r.lView=t,!0}function ae(t){const e=ue(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ue(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?ce(t):e}function ce(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function le(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const he=le;function de(){const t=le();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fe(){return Bt.lFrame.selectedIndex}function pe(t){Bt.lFrame.selectedIndex=t}function ge(){const t=Bt.lFrame;return Pt(t.tView,t.selectedIndex)}function me(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ye(t,e,n){_e(t,e,3,n)}function be(t,e,n,r){(3&t[2])===n&&_e(t,e,n,r)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _e(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(we(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function we(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Oe=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Se(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Te(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ee(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function xe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ie(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ie(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function ke(t){return t!==Oe}function Ae(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ne=!0;function Pe(t){const e=Ne;return Ne=t,e}let De=0;function Me(t,e){const n=Le(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=Fe(t,e),s=t.injectorIndex;if(ke(i)){const t=Ae(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Le(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Oe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Oe}function Ve(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=De++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ue(t,e,n){if(n&j.Optional)return t;w(e,"NodeInjector")}function qe(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),0==(n&(j.Self|j.Host))){const i=t[9],s=P(void 0);try{return i?i.get(e,r,n&j.Optional):D(e,r,n&j.Optional)}finally{P(s)}}return Ue(r,e,n)}function Be(t,e,n,r=j.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:He:e}(n);if("function"==typeof s){if(!oe(e,t,r))return r&j.Host?Ue(i,n,r):qe(e,n,r,i);try{const t=s();if(null!=t||r&j.Optional)return t;w(n)}finally{he()}}else if("number"==typeof s){let i=null,o=Le(t,e),a=Oe,u=r&j.Host?e[16][6]:null;for((-1===o||r&j.SkipSelf)&&(a=-1===o?Fe(t,e):e[o+8],a!==Oe&&We(r,!1)?(i=e[1],o=Ae(a),e=je(a,e)):o=-1);-1!==o;){const t=e[1];if(Qe(s,o,t.data)){const t=Ge(o,e,n,i,r,u);if(t!==ze)return t}a=e[o+8],a!==Oe&&We(r,e[1].data[o+8]===u)&&Qe(s,o,e)?(i=t,o=Ae(a),e=je(a,e)):o=-1}}}return qe(e,n,r,i)}const ze={};function He(){return new Je($t(),Ht())}function Ge(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=Ke(a,o,n,null==r?mt(a)&&Ne:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==u?$e(e,o,u,a):ze}function Ke(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&bt(t)&&t.type===n)return u}return null}function $e(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Ce){const o=i;o.resolving&&function(t,e){throw new b("200",`Circular dependency in DI detected for ${t}`)}(_(s[n]));const a=Pe(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?P(o.injectImpl):null;oe(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ot(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&P(u),Pe(a),o.resolving=!1,he()}}return i}function Qe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function We(t,e){return!(t&j.Self||t&j.Host&&e)}class Je{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Xe(t){return M(()=>{const e=t.prototype.constructor,n=e[X]||Ye(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||Ye(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ye(t){return y(t)?()=>{const e=Ye(m(t));return e&&e()}:vt(t)}function Ze(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ee(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}($t(),t)}const tn="__parameters__";function en(t,e,n){return M(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(tn)?t[tn]:Object.defineProperty(t,tn,{value:[]})[tn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),sn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e,n){let r=dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function hn(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const fn={},pn=/\n/gm,gn="__source",mn=l({provide:String,useValue:l});let yn;function bn(t){const e=yn;return yn=t,e}function vn(t,e=j.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?D(t,void 0,e):yn.get(t,e&j.Optional?null:void 0,e)}function _n(t,e=j.Default){return(N||vn)(m(t),e)}function wn(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=j.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(_n(t,n))}else e.push(_n(r))}return e}function On(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Cn=On(en("Inject",t=>({token:t})),-1),Sn=On(en("Optional"),8),En=On(en("SkipSelf"),4);let Tn;function xn(t){var e;return(null===(e=function(){if(void 0===Tn&&(Tn=null,B.trustedTypes))try{Tn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Tn}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kn extends In{getTypeName(){return"HTML"}}class An extends In{getTypeName(){return"Style"}}class jn extends In{getTypeName(){return"Script"}}class Nn extends In{getTypeName(){return"URL"}}class Pn extends In{getTypeName(){return"ResourceURL"}}function Dn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Mn(t,e){const n=Rn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Rn(t){return t instanceof In&&t.getTypeName()||null}function Ln(t){return new kn(t)}function Fn(t){return new An(t)}function Vn(t){return new jn(t)}function Un(t){return new Nn(t)}function qn(t){return new Pn(t)}class Bn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(xn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=xn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Hn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Gn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kn(t){return(t=String(t)).match(Hn)||t.match(Gn)?t:"unsafe:"+t}function $n(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Wn=$n("area,br,col,hr,img,wbr"),Jn=$n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=$n("rp,rt"),Yn=Qn(Xn,Jn),Zn=Qn(Wn,Qn(Jn,$n("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qn(Xn,$n("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),tr=$n("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),er=$n("srcset"),nr=Qn(tr,er,$n("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$n("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=$n("script,style,template");class ir{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Zn.hasOwnProperty(e))return this.sanitizedSomething=!0,!rr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!nr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;tr[s]&&(o=Kn(o)),er[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Kn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ar(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Zn.hasOwnProperty(e)&&!Wn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ar(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,or=/([^\#-~ |!])/g;function ar(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(or,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ur;function cr(t,e){let n=null;try{ur=ur||function(t){const e=new zn(t);return function(){try{return!!(new window.DOMParser).parseFromString(xn(""),"text/html")}catch(t){return!1}}()?new Bn(e):e}(t);let r=e?String(e):"";n=ur.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=ur.getInertBodyElement(r)}while(r!==s);return xn((new ir).sanitizeChildren(lr(n)||n))}finally{if(n){const t=lr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function lr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var hr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function dr(t){const e=function(){const t=Ht();return t&&t[12]}();return e?e.sanitize(hr.URL,t)||"":Mn(t,"URL")?Dn(t):Kn(v(t))}function fr(t){return t.ngDebugContext}function pr(t){return t.ngOriginalError}function gr(t,...e){t.error(...e)}class mr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||gr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?fr(t)?fr(t):this._findContext(pr(t)):null}_findOriginalError(t){let e=pr(t);for(;e&&pr(e);)e=pr(e);return e}}function yr(t,e){t.__ngContext__=e}const br=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function vr(t){return t instanceof Function?t():t}var _r=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function wr(t,e){return(void 0)(t,e)}function Or(t){const e=t[3];return pt(e)?e[3]:e}function Cr(t){return Er(t[13])}function Sr(t){return Er(t[4])}function Er(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Tr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:ft(r)&&(o=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Pr(e,n,a):Nr(e,n,a,i||null,!0):1===t&&null!==n?Nr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Mr(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==At(n)&&Tr(e,t,r,s,i);for(let o=dt;o<n.length;o++){const i=n[o];qr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function xr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function kr(t,e){if(t.length<=dt)return;const n=dt+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Ir(s,r),e>0&&(t[n-1][4]=r[4]);const o=cn(t,dt+e);qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ar(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return jr(t[1],t);for(;e;){let n=null;if(ft(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ft(e)&&jr(e[1],e),e=e[3];null===e&&(e=t),ft(e)&&jr(e[1],e),n=e&&e[4]}e=n}}(e)}}function jr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):At(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Nr(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Pr(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function Dr(t,e,n,r,i){null!==r?Nr(t,e,n,r,i):Pr(t,e,n)}function Mr(t,e){return It(t)?t.parentNode(e):e.parentNode}function Rr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===L.None||e===L.Emulated)return null}return Nt(r,n)}(t,e.parent,n)}(t,r,e),s=e[11],o=function(t,e,n){return function(t,e,n){return 40&t.type?Nt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Dr(s,i,n[a],o,!1);else Dr(s,i,n,o,!1)}function Lr(t,e){if(null!==e){const n=e.type;if(3&n)return Nt(e,t);if(4&n)return Vr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Lr(t,n);{const n=t[e.index];return pt(n)?Vr(-1,n):At(n)}}if(32&n)return wr(e,t)()||At(t[e.index]);{const n=Fr(t,e);return null!==n?Array.isArray(n)?n[0]:Lr(Or(t[16]),n):Lr(t,e.next)}}return null}function Fr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Vr(t,e){const n=dt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Lr(t,r)}return e[7]}function Ur(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&yr(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Ur(t,e,n.child,r,i,s,!1),Tr(e,t,i,a,s);else if(32&u){const o=wr(n,r);let u;for(;u=o();)Tr(e,t,i,u,s);Tr(e,t,i,a,s)}else 16&u?Br(t,e,r,n,i,s):Tr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function qr(t,e,n,r,i,s){Ur(n,r,t.firstChild,e,i,s,!1)}function Br(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Tr(e,t,i,a[u],s);else Ur(t,e,a,o[3],i,s,!0)}function zr(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Hr(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Gr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Kr="ng-template";function $r(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Gr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Qr(t){return 4===t.type&&t.value!==Kr}function Wr(t,e,n){return e===(4!==t.type||n?t.value:Kr)}function Jr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ee(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Wr(t,u,n)||""===u&&1===e.length){if(Xr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!$r(t.attrs,c,n)){if(Xr(r))return!1;o=!0}continue}const l=Yr(8&r?"class":u,i,Qr(t),n);if(-1===l){if(Xr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Gr(e,c,0)||2&r&&c!==t){if(Xr(r))return!1;o=!0}}}}else{if(!o&&!Xr(r)&&!Xr(u))return!1;if(o&&Xr(u))continue;o=!1,r=u|1&r}}return Xr(r)||o}function Xr(t){return 0==(1&t)}function Yr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Zr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Jr(t,e[r],n))return!0;return!1}function ti(t,e){return t?":not("+e.trim()+")":e}function ei(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Xr(o)||(e+=ti(s,i),i=""),r=o,s=s||!Xr(r);n++}return""!==i&&(e+=ti(s,i)),e}const ni={};function ri(t){ii(Gt(),Ht(),fe()+t,Xt())}function ii(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ye(e,r,n)}else{const r=t.preOrderHooks;null!==r&&be(e,r,0,n)}pe(n)}function si(t,e){return t<<17|e<<2}function oi(t){return t>>17&32767}function ai(t){return 2|t}function ui(t){return(131068&t)>>2}function ci(t,e){return-131069&t|e<<2}function li(t){return 1|t}function hi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];ie(i),n.contentQueries(2,e[s],s)}}}function di(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function fi(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Qt(),o=Jt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Wt(s,!0),s}function pi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gi(t,e,n){ae(e);try{const r=t.viewQuery;null!==r&&Hi(1,r,n);const i=t.template;null!==i&&bi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&hi(t,e),t.staticViewQueries&&Hi(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Vi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,de()}}function mi(t,e,n,r){const i=e[2];if(256==(256&i))return;ae(e);const s=Xt();try{Ut(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&bi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ye(e,n,null)}else{const n=t.preOrderHooks;null!==n&&be(e,n,0,null),ve(e,0)}if(function(t){for(let e=Cr(t);null!==e;e=Sr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Cr(t);null!==e;e=Sr(e))for(let t=dt;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&mi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&hi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ye(e,n)}else{const n=t.contentHooks;null!==n&&be(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,s=n[++t],o=n[++t];ee(s,i),o(2,e[i])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Li(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Hi(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ye(e,n)}else{const n=t.viewHooks;null!==n&&be(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{de()}}function yi(t,e,n,r){const i=e[10],s=!Xt(),o=Lt(e);try{s&&!o&&i.begin&&i.begin(),o&&gi(t,e,r),mi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function bi(t,e,n,r,i){const s=fe();try{pe(-1),2&r&&e.length>ht&&ii(t,e,ht,Xt()),n(r,i)}finally{pe(s)}}function vi(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Me(n,e),yr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=bt(r);s&&Pi(e,n,r);const u=$e(e,t,a,n);yr(u,e),null!==o&&Di(0,a-i,u,r,0,o),s&&(Mt(n.index,e)[8]=u)}}(t,e,n,Nt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{pe(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ne(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ii(r,i)}}finally{pe(-1),ne(o)}}(t,e,n))}function _i(t,e,n=Nt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function wi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oi(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ni);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ci(t,e,n,r){const i=Ki(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&$i(t).push(r,i.length-1))}function Si(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ei(t,e,n,r,i,s,o,a){const u=Nt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Wi(t,n,c,r,i),mt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,It(s)?s.setProperty(u,r,i):Te(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ti(t,e,n,r){let i=!1;if(zt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Zr(n,o.selectors,!1)&&(i||(i=[]),Ve(Me(n,e),t,o.type),bt(o)?(ki(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,ji(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=pi(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=xe(n.mergedAttrs,c.hostAttrs),Ni(t,n,e,u,c),Ai(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Qr(e)?null:Mi(n,i);s.push(c),o=Si(n,u,o),a=Si(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new b("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=xe(n.mergedAttrs,n.attrs),i}function xi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ii(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ki(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ai(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ni(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=vt(i.type)),o=new Ce(s,bt(i),null);t.blueprint[r]=o,n[r]=o,xi(t,e,0,r,pi(t,n,i.hostVars,ni),i)}function Pi(t,e,n){const r=Nt(e,t),i=wi(n),s=t[10],o=Ui(t,di(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Di(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Mi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ri(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Li(t,e){const n=Mt(e,t);if(Ft(n)){const t=n[1];80&n[2]?mi(t,n,t.template,n[8]):n[5]>0&&Fi(n)}}function Fi(t){for(let n=Cr(t);null!==n;n=Sr(n))for(let t=dt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];mi(t,e,t.template,e[8])}else e[5]>0&&Fi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);Ft(r)&&r[5]>0&&Fi(r)}}function Vi(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),gi(r,n,n[8])}function Ui(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qi(t){for(;t;){t[2]|=64;const e=Or(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Bi(t,e,n){const r=e[10];r.begin&&r.begin();try{mi(t,e,t.template,n)}catch(i){throw Qi(e,i),i}finally{r.end&&r.end()}}function zi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Rt(n),i=r[1];yi(i,r,i.template,n)}}(t[8])}function Hi(t,e,n){ie(0),e(t,n)}const Gi=(()=>Promise.resolve(null))();function Ki(t){return t[7]||(t[7]=[])}function $i(t){return t.cleanup||(t.cleanup=[])}function Qi(t,e){const n=t[9],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Wi(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ji(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=f(i,t):2==s&&(r=f(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Xi=new nn("INJECTOR",-1);class Yi{get(t,e=fn){if(e===fn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const Zi=new nn("Set Injector scope."),ts={},es={},ns=[];let rs;function is(){return void 0===rs&&(rs=new Yi),rs}function ss(t,e=null,n=null,r){return new os(t,n,e||is(),r)}class os{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(Xi,cs(void 0,this));const s=this.records.get(Zi);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fn,n=j.Default){this.assertNotDestroyed();const r=bn(this);try{if(!(n&j.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof nn)&&S(t);e=n&&this.injectableDefInScope(n)?cs(as(t),ts):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&j.Self?is():this.parent).get(t,e=n&j.Optional&&e===fn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(d(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[gn]&&i.unshift(e[gn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{bn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||ns))}}this.injectorDefTypes.add(s);const a=vt(s)||(()=>new s);this.records.set(s,cs(a,ts));const u=r.providers;if(null!=u&&!o){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=hs(t=m(t))?t:m(t&&t.provide);const i=function(t,e,n){return ls(t)?cs(void 0,t.useValue):cs(us(t),ts)}(t);if(hs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=cs(void 0,ts,!0),e.factory=()=>wn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ts&&(e.value=es,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function as(t){const e=S(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function us(t,e,n){let r;if(hs(t)){const e=m(t);return vt(e)||as(e)}if(ls(t))r=()=>m(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...wn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>_n(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||as(e);r=()=>new e(...wn(t.deps))}var i;return r}function cs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ls(t){return null!==t&&"object"==typeof t&&mn in t}function hs(t){return"function"==typeof t}const ds=function(t,e,n){return function(t,e=null,n=null,r){const i=ss(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let fs=(()=>{class t{static create(t,e){return Array.isArray(t)?ds(t,e,""):ds(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=fn,t.NULL=new Yi,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>_n(Xi)}),t.__NG_ELEMENT_ID__=-1,t})();function ps(t,e){me(Rt(t)[1],$t())}function gs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ms(t.inputs),e.declaredInputs=ms(t.declaredInputs),e.outputs=ms(t.outputs);const n=i.hostBindings;n&&vs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&ys(t,s),o&&bs(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===gs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=xe(i.hostAttrs,n=xe(n,i.hostAttrs))}}(r)}function ms(t){return t===z?{}:t===G?[]:t}function ys(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function bs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function vs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let _s=null;function ws(){if(!_s){const t=B.Symbol;if(t&&t.iterator)_s=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(_s=n)}}}return _s}class Os{constructor(t){this.wrapped=t}static wrap(t){return new Os(t)}static unwrap(t){return Os.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Os}}function Cs(t){return!!Ss(t)&&(Array.isArray(t)||!(t instanceof Map)&&ws()in t)}function Ss(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Es(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ts(t,e,n,r){const i=Ht();return Es(i,Zt(),e)&&(Gt(),function(t,e,n,r,i,s){const o=Nt(t,e);!function(t,e,n,r,i,s,o){if(null==s)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?v(s):o(s,r||"",i);It(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ge(),i,t,e,n,r)),Ts}function xs(t,e,n,r){return Es(t,Zt(),n)?e+v(n)+r:ni}function Is(t,e,n,r,i,s,o,a){const u=Ht(),c=Gt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=fi(e,t,4,o||null,Vt(c,a));Ti(e,n,l,Vt(c,u)),me(e,l);const h=l.tViews=Oi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Wt(h,!1);const d=u[11].createComment("");Rr(c,u,d,h),yr(d,u),Ui(u,u[l]=Ri(d,u,d,h)),yt(h)&&vi(c,u,h),null!=o&&_i(u,h,a)}function ks(t){return Dt(Bt.lFrame.contextLView,ht+t)}function As(t,e=j.Default){const n=Ht();return null===n?_n(t,e):Be($t(),n,m(t),e)}function js(t,e,n){const r=Ht();return Es(r,Zt(),e)&&Ei(Gt(),ge(),r,t,e,r[11],n,!1),js}function Ns(t,e,n,r,i){const s=i?"class":"style";Wi(t,n,e.inputs[s],s,r)}function Ps(t,e,n,r){const i=Ht(),s=Gt(),o=ht+t,a=i[11],u=i[o]=xr(a,e,Bt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=fi(e,t,2,i,Vt(a,s));return Ti(e,n,u,Vt(a,o)),null!==u.attrs&&Ji(u,u.attrs,!1),null!==u.mergedAttrs&&Ji(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Wt(c,!0);const l=c.mergedAttrs;null!==l&&Se(a,u,l);const h=c.classes;null!==h&&Hr(a,u,h);const d=c.styles;null!==d&&zr(a,u,d),64!=(64&c.flags)&&Rr(s,i,u,c),0===Bt.lFrame.elementDepthCount&&yr(u,i),Bt.lFrame.elementDepthCount++,yt(c)&&(vi(s,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&_i(i,c)}function Ds(){let t=$t();Jt()?Bt.lFrame.isParent=!1:(t=t.parent,Wt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Gt();n.firstCreatePass&&(me(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ns(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ns(n,e,Ht(),e.stylesWithoutHost,!1)}function Ms(t,e,n,r){Ps(t,e,n,r),Ds()}function Rs(){return Ht()}function Ls(t){return!!t&&"function"==typeof t.then}function Fs(t){return!!t&&"function"==typeof t.subscribe}const Vs=Fs;function Us(t,e,n=!1,r){const i=Ht(),s=Gt(),o=$t();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&$i(t),l=Ki(e);let h=!0;if(3&r.type){const d=Nt(r,e),f=a?a(d):z,p=f.target||d,g=l.length,m=a?t=>a(At(t[r.index])).target:r.index;if(It(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Bs(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),c&&c.push(i,m,g,g+1)}}else s=Bs(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,m,g,o)}else s=Bs(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),Us}function qs(t,e,n){try{return!1!==e(n)}catch(r){return Qi(t,r),!1}}function Bs(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&qi(o);let a=qs(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=qs(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function zs(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Hs(t,e,n){return Gs(t,"",e,"",n),Hs}function Gs(t,e,n,r,i){const s=Ht(),o=xs(s,e,n,r);return o!==ni&&Ei(Gt(),ge(),s,t,o,s[11],i,!1),Gs}function Ks(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?oi(s):ui(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];$s(t[a],e)&&(u=!0,t[a+1]=r?li(n):ai(n)),a=r?oi(n):ui(n)}u&&(t[n+1]=r?ai(s):li(s))}function $s(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}const Qs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ws(t){return t.substring(Qs.key,Qs.keyEnd)}function Js(t,e){const n=Qs.textEnd;return n===e?-1:(e=Qs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Qs.key=e,n),Xs(t,e,n))}function Xs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ys(t,e){return function(t,e,n,r){const i=Ht(),s=Gt(),o=te(2);s.firstUpdatePass&&eo(s,t,o,true),e!==ni&&Es(i,o,e)&&io(s,s.data[fe()],i,i[11],t,i[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=d(Dn(t))),t}(e),true,o)}(t,e),Ys}function Zs(t,e){for(let n=function(t){return function(t){Qs.key=0,Qs.keyEnd=0,Qs.value=0,Qs.valueEnd=0,Qs.textEnd=t.length}(t),Js(t,Xs(t,0,Qs.textEnd))}(e);n>=0;n=Js(e,n))ln(t,Ws(e),!0)}function to(t,e){return e>=t.expandoStartIndex}function eo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[fe()],o=to(t,n);ao(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ro(n=no(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=no(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ui(r))return t[oi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=no(null,t,e,n[1],r),n=ro(n,e.attrs,r),function(t,e,n,r){t[oi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=ro(r,t[s].hostAttrs,n);return ro(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=oi(o),u=ui(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||dn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=oi(t[a+1]);t[r+1]=si(e,a),0!==e&&(t[e+1]=ci(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=si(a,0),0!==a&&(t[a+1]=ci(t[a+1],r)),a=r;else t[r+1]=si(u,0),0===a?a=r:t[u+1]=ci(t[u+1],r),u=r;l&&(t[r+1]=ai(t[r+1])),Ks(t,c,r,!0),Ks(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&dn(s,e)>=0&&(n[r+1]=li(n[r+1]))}(e,c,t,r,s),o=si(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function no(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=ro(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ro(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ln(t,o,!!n||e[++s]))}return void 0===t?null:t}function io(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];oo(1==(1&c)?so(u,e,n,i,ui(c),o):void 0)||(oo(s)||2==(2&c)&&(s=so(u,null,n,i,a,o)),function(t,e,n,r,i){const s=It(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:_r.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=_r.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,jt(fe(),n),i,s))}function so(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===ni&&(l=c?H:void 0);let h=c?hn(l,r):u===r?l:void 0;if(s&&!oo(h)&&(h=hn(e,r)),oo(h)&&(a=h,o))return a;const d=t[i+1];i=o?oi(d):ui(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=hn(t,r))}return a}function oo(t){return void 0!==t}function ao(t,e){return 0!=(t.flags&(e?16:32))}function uo(t,e=""){const n=Ht(),r=Gt(),i=t+ht,s=r.firstCreatePass?fi(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return It(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Rr(r,n,o,s),Wt(s,!1)}function co(t){return lo("",t,""),co}function lo(t,e,n){const r=Ht(),i=xs(r,t,e,n);return i!==ni&&function(t,e,n){const r=jt(e,t);!function(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,fe(),i),lo}function ho(t,e,n){!function(t,e,n,r){const i=Gt(),s=te(2);i.firstUpdatePass&&eo(i,null,s,r);const o=Ht();if(n!==ni&&Es(o,s,n)){const a=i.data[fe()];if(ao(a,r)&&!to(i,s)){let t=a.classesWithoutHost;null!==t&&(n=f(t,n||"")),Ns(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===ni&&(i=H);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const o=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let f,p=null;l===h?(u+=2,c+=2,o!==d&&(p=h,f=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,f=d),null!==p&&io(t,e,n,r,p,f,true,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=Dn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(ln,Zs,xs(Ht(),t,e,n),!0)}function fo(t,e,n){const r=Ht();return Es(r,Zt(),e)&&Ei(Gt(),ge(),r,t,e,r[11],n,!0),fo}const po=void 0;var go=["en",[["a","p"],["AM","PM"],po],[["AM","PM"],po,po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",po,"{1} 'at' {0}",po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let mo={};function yo(t,e,n){"string"!=typeof e&&(n=e,e=t[Oo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),mo[e]=t,n&&(mo[e][Oo.ExtraData]=n)}function bo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=wo(e);if(n)return n;const r=e.split("-")[0];if(n=wo(r),n)return n;if("en"===r)return go;throw new Error(`Missing locale data for the locale "${t}".`)}function vo(t){return bo(t)[Oo.CurrencyCode]||null}function _o(t){return bo(t)[Oo.PluralCase]}function wo(t){return t in mo||(mo[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),mo[t]}var Oo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Co="en-US";let So=Co;function Eo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(So=t.toLowerCase().replace(/_/g,"-"))}function To(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)To(t[s],e,n,r,i);else{const s=Gt(),o=Ht();let a=hs(t)?t:m(t.provide),u=us(t);const c=$t(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(hs(t)||!t.multi){const r=new Ce(u,i,As),f=ko(a,e,i?l:l+d,h);-1===f?(Ve(Me(c,o),s,a),xo(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=ko(a,e,l+d,h),p=ko(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ve(Me(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ce(t,n,As);return s.multi=[],s.index=e,s.componentProviders=0,Io(s,i,r&&!n),s}(i?jo:Ao,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),xo(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else xo(s,t,f>-1?f:p,Io(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function xo(t,e,n,r){const i=hs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Io(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ko(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Ao(t,e,n,r){return No(this.multi,[])}function jo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=$e(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),No(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],No(i,s);return s}function No(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Po(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Gt();if(r.firstCreatePass){const i=bt(t);To(n,r.data,r.blueprint,i,!0),To(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Do{}class Mo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Ro=(()=>{class t{}return t.NULL=new Mo,t})();function Lo(...t){}function Fo(t,e){return new Uo(Nt(t,e))}const Vo=function(){return Fo($t(),Ht())};let Uo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Vo,t})();function qo(t){return t instanceof Uo?t.nativeElement:t}class Bo{}let zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ho(),t})();const Ho=function(){const t=Ht(),e=Mt($t().index,t);return function(t){return t[11]}(ft(e)?e:t)};let Go=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class Ko{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $o=new Ko("11.2.7");class Qo{constructor(){}supports(t){return Cs(t)}create(t){return new Jo(t)}}const Wo=(t,e)=>e;class Jo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Wo}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ta(n,r,i)?e:n,o=ta(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Cs(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ws()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Xo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Zo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Xo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Zo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Yo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ta(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ea{constructor(){}supports(t){return t instanceof Map||Ss(t)}create(){return new na}}class na{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ss(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ra(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ra{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ia(){return new sa([new Qo])}let sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ia()),deps:[[t,new En,new Sn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:ia}),t})();function oa(){return new aa([new ea])}let aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||oa()),deps:[[t,new En,new Sn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:oa}),t})();function ua(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(At(s)),pt(s))for(let t=dt;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ua(e[1],e,n,r)}const o=n.type;if(8&o)ua(t,e,n.child,r);else if(32&o){const t=wr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Fr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Or(e[16]);ua(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ca{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ua(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(kr(t,n),cn(e,n))}this._attachedToViewContainer=!1}Ar(this._lView[1],this._lView)}onDestroy(t){Ci(this._lView[1],this._lView,null,t)}markForCheck(){qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{Bi(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class la extends ca{constructor(t){super(t),this._view=t}detectChanges(){zi(this._view)}checkNoChanges(){!function(t){Yt(!0);try{zi(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}const ha=fa;let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=ha,t.__ChangeDetectorRef__=!0,t})();function fa(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Mt(t.index,e);return new ca(n,n)}return 47&t.type?new ca(e[16],e):null}($t(),Ht(),t)}const pa=[new ea],ga=new sa([new Qo]),ma=new aa(pa),ya=function(){return wa($t(),Ht())};let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=ya,t})();const va=ba,_a=class extends va{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=di(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),gi(e,n,t),new ca(n)}};function wa(t,e){return 4&t.type?new _a(e,t,Fo(t,e)):null}class Oa{}class Ca{}const Sa=function(){return Aa($t(),Ht())};let Ea=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Ta=Ea,xa=class extends Ta{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Fo(this._hostTNode,this._hostLView)}get injector(){return new Je(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(ke(t)){const e=je(t,this._hostLView),n=Ae(t);return new Je(e[1].data[n+8],e)}return new Je(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ia(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Oa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new xa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=dt+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-dt?(e[4]=n[i],un(n,dt+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Vr(i,s),a=n[11],u=Mr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,qr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),un(ka(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ia(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);n&&(cn(ka(this._lContainer),e),Ar(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);return n&&null!=cn(ka(this._lContainer),e)?new ca(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ia(t){return t[8]}function ka(t){return t[8]||(t[8]=[])}function Aa(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Nt(t,e);Nr(n,Mr(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ri(r,e,i,t),Ui(e,n)}return new xa(n,t,e)}const ja={};class Na extends Ro{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Ma(e,this.ngModule)}}function Pa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Da=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>br});class Ma extends Do{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ei).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Pa(this.componentDef.inputs)}get outputs(){return Pa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,ja,i);return s!==ja||r===ja?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Bo,kt),o=i.get(Go,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===L.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):xr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:br,clean:Gi,playerHandler:null,flags:0},d=Oi(0,null,null,1,0,null,null,null,null,null),f=di(null,d,h,l,null,null,s,a,o,i);let p,g;ae(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=fi(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ji(a,u,!0),null!==t&&(Se(i,t,u),null!==a.classes&&Hr(i,t,a.classes),null!==a.styles&&zr(i,t,a.styles)));const c=r.createRenderer(t,e),l=di(n,wi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Ve(Me(a,n),o,e.type),ki(o,a),ji(a,n.length,1)),Ui(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Se(a,c,["ng-version",$o.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Xr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Se(a,c,t),e&&e.length>0&&Hr(a,c,e.join(" "))}if(g=Pt(d,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=$t();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ni(t,r,e,pi(t,e,1,null),n));const i=$e(e,t,r.directiveStart,r);yr(i,e);const s=Nt(r,e);return s&&yr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=$t();e.contentQueries(1,o,t.directiveStart)}const a=$t();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),xi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ii(e,o)),o}(t,this.componentDef,f,h,[ps]),gi(d,f,null)}finally{de()}return new Ra(this.componentType,p,Fo(g,f),f,g)}}class Ra extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new la(r),this.componentType=t}get injector(){return new Je(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const La=new Map;class Fa extends Oa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Na(this);const n=lt(t),r=t[J]||null;r&&Eo(r),this._bootstrapComponents=vr(n.bootstrap),this._r3Injector=ss(t,e,[{provide:Oa,useValue:this},{provide:Ro,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=fs.THROW_IF_NOT_FOUND,n=j.Default){return t===fs||t===Oa||t===Xi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Va extends Ca{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,La.get(i),n),La.set(i,n));const s=vr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Fa(this.moduleType,t)}}function Ua(t,e){const n=Gt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new b("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=vt(r.type)),o=P(As);try{const t=Pe(!1),e=s();return Pe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ht(),i,e),e}finally{P(o)}}function qa(t,e,n){const r=t+ht,i=Ht(),s=Dt(i,r);return function(t,e){return Os.isWrapped(e)&&(e=Os.unwrap(e),t[Bt.lFrame.bindingIndex]=ni),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,s){const o=e+n;return Es(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===ni?void 0:n}(t,o+1)}(i,function(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n))}const Ba=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function za(){return this._results[ws()]()}class Ha{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ws(),n=Ha.prototype;n[e]||(n[e]=za)}get changes(){return this._changes||(this._changes=new Ba)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=on(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ga{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ga(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ka{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ka(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ru(t,e).matches&&this.queries[e].setDirty()}}class $a{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Qa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Qa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wa{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Wa(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Ja(e,i)),this.matchTNodeWithReadOption(t,e,Ke(e,t,i,!1,!1))}else n===ba?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Uo||r===Ea||r===ba&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ja(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Xa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Fo(t,e):4&t.type?wa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Uo?Fo(e,t):n===ba?wa(e,t):n===Ea?Aa(e,t):void 0}(t,e,r):$e(t,t[1],n,e)}function Ya(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Xa(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Za(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Ya(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=dt;t<o.length;t++){const e=o[t];e[17]===e[3]&&Za(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Za(n[1],n,i,r)}}}}}return r}function tu(t){const e=Ht(),n=Gt(),r=re();ie(r+1);const i=ru(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Za(n,e,r,[]):Ya(n,e,i,r);t.reset(s,qo),t.notifyOnChanges()}return!0}return!1}function eu(t,e,n,r){const i=Gt();if(i.firstCreatePass){const s=$t();(function(t,e,n){null===t.queries&&(t.queries=new Qa),t.queries.track(new Wa(e,n))})(i,new $a(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Ha(4==(4&n));Ci(t,e,r,r.destroy),null===e[19]&&(e[19]=new Ka),e[19].queries.push(new Ga(r))}(i,Ht(),n)}function nu(){return t=Ht(),e=re(),t[19].queries[e].queryList;var t,e}function ru(t,e){return t.queries.getByIndex(e)}function iu(t,e){return wa(t,e)}function su(t=j.Default){const e=fa(!0);if(null!=e||t&j.Optional)return e;w("ChangeDetectorRef")}const ou=new nn("Application Initializer");let au=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Lo,this.reject=Lo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ls(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(_n(ou,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const uu=new nn("AppId"),cu={provide:uu,useFactory:function(){return`${lu()}${lu()}${lu()}`},deps:[]};function lu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hu=new nn("Platform Initializer"),du=new nn("Platform ID"),fu=new nn("appBootstrapListener");let pu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const gu=new nn("LocaleId"),mu=new nn("DefaultCurrencyCode");class yu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const bu=function(t){return new Va(t)},vu=bu,_u=function(t){return Promise.resolve(bu(t))},wu=function(t){const e=bu(t),n=vr(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Ma(n)),t},[]);return new yu(e,n)},Ou=wu,Cu=function(t){return Promise.resolve(wu(t))};let Su=(()=>{class t{constructor(){this.compileModuleSync=vu,this.compileModuleAsync=_u,this.compileModuleAndAllComponentsSync=Ou,this.compileModuleAndAllComponentsAsync=Cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Eu=(()=>Promise.resolve(0))();function Tu(t){"undefined"==typeof Zone?Eu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class xu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Au(t),ku(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Au(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ju(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Nu(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return ju(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Nu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Au(t),ku(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Iu,Lo,Lo);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Iu={};function ku(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Au(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ju(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Nu(t){t._nesting--,ku(t)}class Pu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Du=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xu.assertNotInAngularZone(),Tu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Tu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(_n(xu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),Mu=(()=>{class t{constructor(){this._applications=new Map,Vu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Vu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class Ru{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Lu(t){Vu=t}let Fu,Vu=new Ru,Uu=!0,qu=!1;function Bu(){return qu=!0,Uu}function zu(){if(qu)throw new Error("Cannot enable prod mode after platform setup.");Uu=!1}const Hu=new nn("AllowMultipleToken");class Gu{constructor(t,e){this.name=t,this.token=e}}function Ku(t,e,n=[]){const r=`Platform: ${e}`,i=new nn(r);return(e=[])=>{let s=$u();if(!s||s.injector.get(Hu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Zi,useValue:"platform"});!function(t){if(Fu&&!Fu.destroyed&&!Fu.injector.get(Hu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Fu=t.get(Qu);const e=t.get(hu,null);e&&e.forEach(t=>t())}(fs.create({providers:t,name:r}))}return function(t){const e=$u();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function $u(){return Fu&&!Fu.destroyed?Fu:null}let Qu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Pu:("zone.js"===t?void 0:t)||new xu({enableLongStackTrace:Bu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:xu,useValue:n}];return n.run(()=>{const e=fs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(mr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Xu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ls(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(au);return t.runInitializers(),t.donePromise.then(()=>(Eo(i.injector.get(gu,Co)||Co),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Wu({},e);return function(t,e,n){const r=new Va(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ju);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(_n(fs))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Wu(t,e){return Array.isArray(e)?e.reduce(Wu,t):Object.assign(Object.assign({},t),e)}let Ju=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{xu.assertNotInAngularZone(),Tu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{xu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(l,h.pipe(t=>{return Object(u.a)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.b);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Do?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Oa),i=n.create(fs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Du,null),a=o&&i.injector.get(Mu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Xu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Xu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(_n(xu),_n(fs),_n(mr),_n(Ro),_n(au))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function Xu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Yu{}class Zu{}const tc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ec=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||tc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>nc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>nc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(_n(Su),_n(Zu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function nc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const rc=function(t){return null},ic=Ku(null,"core",[{provide:du,useValue:"unknown"},{provide:Qu,deps:[fs]},{provide:Mu,deps:[]},{provide:pu,deps:[]}]),sc=[{provide:Ju,useClass:Ju,deps:[xu,fs,mr,Ro,au]},{provide:Da,deps:[xu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:au,useClass:au,deps:[[new Sn,ou]]},{provide:Su,useClass:Su,deps:[]},cu,{provide:sa,useFactory:function(){return ga},deps:[]},{provide:aa,useFactory:function(){return ma},deps:[]},{provide:gu,useFactory:function(t){return Eo(t=t||"undefined"!=typeof $localize&&$localize.locale||Co),t},deps:[[new Cn(gu),new Sn,new En]]},{provide:mu,useValue:"USD"}];let oc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(_n(Ju))},t.\u0275mod=it({type:t}),t.\u0275inj=C({providers:sc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"b",function(){return B}),n.d(e,"c",function(){return z}),n.d(e,"d",function(){return u}),n.d(e,"e",function(){return O}),n.d(e,"f",function(){return h}),n.d(e,"g",function(){return C}),n.d(e,"h",function(){return b}),n.d(e,"i",function(){return j}),n.d(e,"j",function(){return P}),n.d(e,"k",function(){return M}),n.d(e,"l",function(){return w}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return K}),n.d(e,"o",function(){return G}),n.d(e,"p",function(){return a}),n.d(e,"q",function(){return H}),n.d(e,"r",function(){return s}),n.d(e,"s",function(){return A}),n.d(e,"t",function(){return o});var r=n("fXoL");let i=null;function s(){return i}function o(t){i||(i=t)}class a{}const u=new r.r("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Sb)(d)}const h=new r.r("Location Initialized");let d=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(u))},t.\u0275prov=Object(r.Hb)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(r.Sb)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Hb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Sb)(u).location;return new w(Object(r.Sb)(c),e&&e.origin||"")}const _=new r.r("appBaseHref");let w=(()=>{class t extends b{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(c),r.Sb(_,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t extends b{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(c),r.Sb(_,8))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(b),r.Sb(c))},t.normalizeQueryParams=y,t.joinWithSlash=g,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Hb)({factory:S,token:t,providedIn:"root"}),t})();function S(){return new C(Object(r.Sb)(b),Object(r.Sb)(c))}function E(t){return t.replace(/\/index.html$/,"")}var T=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const x=r.mb;class I{}let k=(()=>{class t extends I{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case T.Zero:return"zero";case T.One:return"one";case T.Two:return"two";case T.Few:return"few";case T.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(r.v))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let j=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.pb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.vb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.t),r.Lb(r.u),r.Lb(r.l),r.Lb(r.E))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class N{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new N(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new D(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L),r.Lb(r.t))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let M=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Lb(r.Q),r.Lb(r.L))},t.\u0275dir=r.Gb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class R{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.vb)(e)}'.`)}class F{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class V{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const U=new V,q=new F;let B=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.rb)(e))return U;if(Object(r.sb)(e))return q;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.vb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Ub())},t.\u0275pipe=r.Kb({name:"async",type:t,pure:!1}),t})(),z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[{provide:I,useClass:k}]}),t})();const H="browser";function G(t){return"server"===t}let K=(()=>{class t{}return t.\u0275prov=Object(r.Hb)({token:t,providedIn:"root",factory:()=>new $(Object(r.Sb)(u),window)}),t})();class ${constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Q(this.window.history)||Q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pLZG:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return d}),n.d(e,"o",function(){return g});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var m=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new m(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return S}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return m}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.P("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&C("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(u.V)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const E={provide:class{},useFactory:w,deps:[b,u.A,[new u.B,v]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.Sb(u.C))},t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({providers:[E]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class d extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function m(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},"tk/3":function(t,e,n){"use strict";n.d(e,"a",function(){return T}),n.d(e,"b",function(){return q});var r=n("fXoL"),i=n("LRne"),s=n("HDdC"),o=n("bOdf"),a=n("pLZG"),u=n("lJxs"),c=n("ofXK");class l{}class h{}class d{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof d?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new d;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof d?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class f{encodeKey(t){return p(t)}encodeValue(t){return p(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function p(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new f,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function m(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function y(t){return"undefined"!=typeof Blob&&t instanceof Blob}function b(t){return"undefined"!=typeof FormData&&t instanceof FormData}class v{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new d),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:m(this.body)||y(this.body)||b(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b(this.body)?null:y(this.body)?this.body.type||null:m(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new v(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var _=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class w{constructor(t,e=200,n="OK"){this.headers=t.headers||new d,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class O extends w{constructor(t={}){super(t),this.type=_.ResponseHeader}clone(t={}){return new O({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class C extends w{constructor(t={}){super(t),this.type=_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new C({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class S extends w{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function E(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let T=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof v)r=t;else{let i,s;i=n.headers instanceof d?n.headers:new d(n.headers),n.params&&(s=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new v(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=Object(i.a)(r).pipe(Object(o.a)(t=>this.handler.handle(t)));if(t instanceof v||"events"===n.observe)return s;const c=s.pipe(Object(a.a)(t=>t instanceof C));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return c.pipe(Object(u.a)(t=>t.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,E(n,e))}post(t,e,n={}){return this.request("POST",t,E(n,e))}put(t,e,n={}){return this.request("PUT",t,E(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(l))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();class x{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const I=new r.r("HTTP_INTERCEPTORS");let k=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const A=/^\)\]\}',?\n/;class j{}let N=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new s.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new d(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new O({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(A,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new C({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new S({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new S({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(j))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})();const D=new r.r("XSRF_COOKIE_NAME"),M=new r.r("XSRF_HEADER_NAME");class R{}let L=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.s)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(c.d),r.Sb(r.C),r.Sb(D))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(R),r.Sb(M))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),V=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(I,[]);this.chain=t.reduceRight((t,e)=>new x(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Sb(h),r.Sb(r.s))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:F,useClass:k}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:D,useValue:e.cookieName}:[],e.headerName?{provide:M,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[F,{provide:I,useExisting:F,multi:!0},{provide:R,useClass:L},{provide:D,useValue:"XSRF-TOKEN"},{provide:M,useValue:"X-XSRF-TOKEN"}]}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({providers:[T,{provide:l,useClass:V},P,{provide:h,useExisting:P},N,{provide:j,useExisting:N}],imports:[[U.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},tyNb:function(t,e,n){"use strict";n.d(e,"a",function(){return Sn}),n.d(e,"b",function(){return En}),n.d(e,"c",function(){return Tn}),n.d(e,"d",function(){return Fn}),n.d(e,"e",function(){return In});var r=n("ofXK"),i=n("fXoL"),s=n("Cfvw"),o=n("LRne"),a=n("XNiG"),u=n("9ppp");class c extends a.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.a;return this._value}next(t){super.next(this._value=t)}}var l=n("z+Ro"),h=n("DH7j"),d=n("7o/Q");class f extends d.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class p extends d.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var g=n("SeVD"),m=n("HDdC");function y(t,e,n,r,i=new p(t,n,r)){if(!i.closed)return e instanceof m.a?e.subscribe(i):Object(g.a)(e)(i)}var b=n("yCtX");const v={};class _{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new w(t,this.resultSelector))}}class w extends f{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(v),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(y(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===v?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var O=n("sVev"),C=n("GyhO"),S=n("EY2u");function E(t){return new m.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(S.b)()).subscribe(e)})}var T=n("EQ5u"),x=n("lJxs"),I=n("eIep"),k=n("IzEk"),A=n("JX91"),j=n("Kqap"),N=n("pLZG"),P=n("zx2A");function D(t){return function(e){const n=new M(t),r=e.lift(n);return n.caught=r}}class M{constructor(t){this.selector=t}call(t,e){return e.subscribe(new R(t,this.selector,this.caught))}}class R extends P.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new P.a(this);this.add(r);const i=Object(P.c)(n,r);i!==r&&this.add(i)}}}var L=n("bOdf"),F=n("4I5i");function V(t){return function(e){return 0===t?Object(S.b)():e.lift(new U(t))}}class U{constructor(t){if(this.total=t,this.total<0)throw new F.a}call(t,e){return e.subscribe(new q(t,this.total))}}class q extends d.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var B=n("XDbj"),z=n("xbPD"),H=n("SpAZ"),G=n("SxV6"),K=n("5+tZ"),$=n("vkgz"),Q=n("x+ZX"),W=n("quSY");class J{constructor(t){this.callback=t}call(t,e){return e.subscribe(new X(t,this.callback))}}class X extends d.a{constructor(t,e){super(t),this.add(new W.a(e))}}var Y=n("bHdf");class Z{constructor(t,e){this.id=t,this.url=e}}class tt extends Z{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class et extends Z{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nt extends Z{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rt extends Z{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class it extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends Z{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class at extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends Z{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lt{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ht{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pt{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mt="primary";class yt{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function bt(t){return new yt(t)}function vt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function _t(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wt(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ot(t[i],e[i]))return!1;return!0}function Ot(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ct(t){return Array.prototype.concat.apply([],t)}function St(t){return t.length>0?t[t.length-1]:null}function Et(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Tt(t){return Object(i.qb)(t)?t:Object(i.rb)(t)?Object(s.a)(Promise.resolve(t)):Object(o.a)(t)}function xt(t,e,n){return n?function(t,e){return wt(t,e)}(t.queryParams,e.queryParams)&&It(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ot(t[n],e[n]))}(t.queryParams,e.queryParams)&&kt(t.root,e.root)}function It(t,e){if(!Dt(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!It(t.children[n],e.children[n]))return!1}return!0}function kt(t,e){return At(t,e,e.segments)}function At(t,e,n){if(t.segments.length>n.length)return!!Dt(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Dt(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!kt(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Dt(t.segments,r)&&!!t.children.primary&&At(t.children.primary,e,i)}}class jt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return Lt.serialize(this)}}class Nt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Et(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ft(this)}}class Pt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=bt(this.parameters)),this._parameterMap}toString(){return Gt(this)}}function Dt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Mt{}class Rt{parse(t){const e=new Jt(t);return new jt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Vt(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${qt(e)}=${qt(t)}`).join("&"):`${qt(e)}=${qt(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Lt=new Rt;function Ft(t){return t.segments.map(t=>Gt(t)).join("/")}function Vt(t,e){if(!t.hasChildren())return Ft(t);if(e){const e=t.children.primary?Vt(t.children.primary,!1):"",n=[];return Et(t.children,(t,e)=>{e!==mt&&n.push(`${e}:${Vt(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Et(t.children,(t,r)=>{r===mt&&(n=n.concat(e(t,r)))}),Et(t.children,(t,r)=>{r!==mt&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===mt?[Vt(t.children.primary,!1)]:[`${n}:${Vt(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Ft(t)}/${e[0]}`:`${Ft(t)}/(${e.join("//")})`}}function Ut(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qt(t){return Ut(t).replace(/%3B/gi,";")}function Bt(t){return Ut(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zt(t){return decodeURIComponent(t)}function Ht(t){return zt(t.replace(/\+/g,"%20"))}function Gt(t){return`${Bt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Bt(t)}=${Bt(e[t])}`).join("")}`;var e}const Kt=/^[^\/()?;=#]+/;function $t(t){const e=t.match(Kt);return e?e[0]:""}const Qt=/^[^=?&#]+/,Wt=/^[^?&#]+/;class Jt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nt([],{}):new Nt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Nt(t,e)),n}parseSegment(){const t=$t(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Pt(zt(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$t(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=$t(this.remaining);t&&(n=t,this.capture(n))}t[zt(e)]=zt(n)}parseQueryParam(t){const e=function(t){const e=t.match(Qt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Wt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Ht(e),i=Ht(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$t(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=mt);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Nt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Xt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yt(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yt(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zt(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zt(t,this._root).map(t=>t.value)}}function Yt(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yt(t,n);if(e)return e}return null}function Zt(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Zt(t,n);if(r.length)return r.unshift(e),r}return[]}class te{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ee(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ne extends Xt{constructor(t,e){super(t),this.snapshot=e,ue(this,t)}toString(){return this.snapshot.toString()}}function re(t,e){const n=function(t,e){const n=new oe([],{},{},"",{},mt,e,null,t.root,-1,{});return new ae("",new te(n,[]))}(t,e),r=new c([new Pt("",{})]),i=new c({}),s=new c({}),o=new c({}),a=new c(""),u=new ie(r,i,o,a,s,mt,e,n.root);return u.snapshot=n.root,new ne(new te(u,[]),n)}class ie{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(x.a)(t=>bt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(x.a)(t=>bt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function se(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class oe{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ae extends Xt{constructor(t,e){super(e),this.url=t,ue(this,e)}toString(){return ce(this._root)}}function ue(t,e){e.value._routerState=t,e.children.forEach(e=>ue(t,e))}function ce(t){const e=t.children.length>0?` { ${t.children.map(ce).join(", ")} } `:"";return`${t.value}${e}`}function le(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function he(t,e){var n,r;return wt(t.params,e.params)&&Dt(n=t.url,r=e.url)&&n.every((t,e)=>wt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||he(t.parent,e.parent))}function de(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return de(t,e,r);return de(t,e)})}(t,e,n);return new te(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return fe(e,t),t}{const n=new ie(new c((r=e.value).url),new c(r.params),new c(r.queryParams),new c(r.fragment),new c(r.data),r.outlet,r.component,r),i=e.children.map(e=>de(t,e));return new te(n,i)}}var r}function fe(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)fe(t.children[n],e.children[n])}function pe(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ge(t){return"object"==typeof t&&null!=t&&t.outlets}function me(t,e,n,r,i){let s={};return r&&Et(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new jt(n.root===t?e:ye(n.root,t,e),s,i)}function ye(t,e,n){const r={};return Et(t.children,(t,i)=>{r[i]=t===e?n:ye(t,e,n)}),new Nt(t.segments,r)}class be{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&pe(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ge);if(r&&r!==St(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ve{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function _e(t,e,n){if(t||(t=new Nt([],{})),0===t.segments.length&&t.hasChildren())return we(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(ge(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ee(a,u,e))return s;r+=2}else{if(!Ee(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Nt(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Nt(t.segments.slice(r.pathIndex),t.children),we(e,0,i)}return r.match&&0===i.length?new Nt(t.segments,{}):r.match&&!t.hasChildren()?Oe(t,e,n):r.match?we(t,0,i):Oe(t,e,n)}function we(t,e,n){if(0===n.length)return new Nt(t.segments,{});{const r=function(t){return ge(t[0])?t[0].outlets:{[mt]:t}}(n),i={};return Et(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=_e(t.children[r],e,n))}),Et(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Nt(t.segments,i)}}function Oe(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ge(s)){const t=Ce(s.outlets);return new Nt(r,t)}if(0===i&&pe(n[0])){r.push(new Pt(t.segments[e].path,Se(n[0]))),i++;continue}const o=ge(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&pe(a)?(r.push(new Pt(o,Se(a))),i+=2):(r.push(new Pt(o,{})),i++)}return new Nt(r,{})}function Ce(t){const e={};return Et(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Oe(new Nt([],{}),0,t))}),e}function Se(t){const e={};return Et(t,(t,n)=>e[n]=`${t}`),e}function Ee(t,e,n){return t==n.path&&wt(e,n.parameters)}class Te{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),le(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ee(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Et(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=ee(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=ee(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new pt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new dt(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(le(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),xe(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function xe(t){le(t.value),t.children.forEach(xe)}class Ie{constructor(t,e){this.routes=t,this.module=e}}function ke(t){return"function"==typeof t}function Ae(t){return t instanceof jt}const je=Symbol("INITIAL_VALUE");function Ne(){return Object(I.a)(t=>function(...t){let e,n;return Object(l.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(h.a)(t[0])&&(t=t[0]),Object(b.a)(t,n).lift(new _(e))}(t.map(t=>t.pipe(Object(k.a)(1),Object(A.a)(je)))).pipe(Object(j.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==je)return t;if(r===je&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ae(r))return r}return t},t)},je),Object(N.a)(t=>t!==je),Object(x.a)(t=>Ae(t)?t:!0===t),Object(k.a)(1)))}let Pe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Mb(0,"router-outlet")},directives:function(){return[In]},encapsulation:2}),t})();function De(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Me(r,Re(e,r))}}function Me(t,e){t.children&&De(t.children,e)}function Re(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Le(t){const e=t.children&&t.children.map(Le),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==mt&&(n.component=Pe),n}function Fe(t){return t.outlet||mt}function Ve(t,e){const n=t.filter(t=>Fe(t)===e);return n.push(...t.filter(t=>Fe(t)!==e)),n}const Ue={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qe(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ue):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||_t)(n,t,e);if(!i)return Object.assign({},Ue);const s={};Et(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Be(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ze(t,e,n)&&Fe(n)!==mt)}(t,n,r)){const i=new Nt(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Fe(s)!==mt){const n=new Nt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Fe(s)]=n}return i}(t,e,r,new Nt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ze(t,e,n))}(t,n,r)){const s=new Nt(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(ze(t,n,a)&&!i[Fe(a)]){const n=new Nt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Fe(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Nt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function ze(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function He(t,e,n,r){return!!(Fe(t)===r||r!==mt&&ze(e,n,t))&&("**"===t.path||qe(e,t,n).matched)}function Ge(t,e,n){return 0===e.length&&!t.children[n]}class Ke{constructor(t){this.segmentGroup=t||null}}class $e{constructor(t){this.urlTree=t}}function Qe(t){return new m.a(e=>e.error(new Ke(t)))}function We(t){return new m.a(e=>e.error(new $e(t)))}function Je(t){return new m.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Xe{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.y)}apply(){const t=Be(this.urlTree.root,[],[],this.config).segmentGroup,e=new Nt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,mt).pipe(Object(x.a)(t=>this.createUrlTree(Ye(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(D(t=>{if(t instanceof $e)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ke)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,mt).pipe(Object(x.a)(e=>this.createUrlTree(Ye(e),t.queryParams,t.fragment))).pipe(D(t=>{if(t instanceof Ke)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Nt([],{[mt]:t}):t;return new jt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(x.a)(t=>new Nt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(s.a)(r).pipe(Object(L.a)(r=>{const i=n.children[r],s=Ve(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(x.a)(t=>({segment:t,outlet:r})))}),Object(j.a)((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(N.a)((e,n)=>t(e,n,r)):H.a,V(1),n?Object(z.a)(e):Object(B.a)(()=>new O.a))}())}expandSegment(t,e,n,r,i,a){return Object(s.a)(n).pipe(Object(L.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,a).pipe(D(t=>{if(t instanceof Ke)return Object(o.a)(null);throw t}))),Object(G.a)(t=>!!t),D((t,n)=>{if(t instanceof O.a||"EmptyError"===t.name){if(Ge(e,r,i))return Object(o.a)(new Nt([],{}));throw new Ke(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return He(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Qe(e):Qe(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?We(i):this.lineralizeSegments(n,i).pipe(Object(K.a)(n=>{const i=new Nt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=qe(e,r,i);if(!o)return Qe(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?We(l):this.lineralizeSegments(r,l).pipe(Object(K.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(o.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(x.a)(t=>(n._loadedConfig=t,new Nt(r,{})))):Object(o.a)(new Nt(r,{}));const{matched:s,consumedSegments:a,lastChild:u}=qe(e,n,r);if(!s)return Qe(e);const c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(K.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:u,slicedSegments:l}=Be(e,a,c,s),h=new Nt(u.segments,u.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,s,h).pipe(Object(x.a)(t=>new Nt(a,t)));if(0===s.length&&0===l.length)return Object(o.a)(new Nt(a,{}));const d=Fe(n)===i;return this.expandSegment(r,h,s,l,d?mt:i,!0).pipe(Object(x.a)(t=>new Nt(a.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(o.a)(new Ie(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(o.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(K.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(x.a)(t=>(e._loadedConfig=t,t))):function(t){return new m.a(e=>e.error(vt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(o.a)(new Ie([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&ke(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!ke(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Tt(s)});return Object(o.a)(i).pipe(Ne(),Object($.a)(t=>{if(!Ae(t))return;const e=vt(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(x.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(o.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Je(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new jt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Et(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return Et(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Nt(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Ye(t){const e={};for(const n of Object.keys(t.children)){const r=Ye(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Nt(t.segments.concat(e.segments),e.children)}return t}(new Nt(t.segments,e))}class Ze{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class tn{constructor(t,e){this.component=t,this.route=e}}function en(t,e,n){const r=t._root;return rn(r,e?e._root:null,n,[r.value])}function nn(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function rn(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=ee(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dt(t.url,e.url)||!wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!he(t,e)||!wt(t.queryParams,e.queryParams);case"paramsChange":default:return!he(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ze(r)):(s.data=o.data,s._resolvedData=o._resolvedData),rn(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new tn(a.outlet.component,o))}else o&&sn(e,a,i),i.canActivateChecks.push(new Ze(r)),rn(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),Et(s,(t,e)=>sn(t,n.getContext(e),i)),i}function sn(t,e,n){const r=ee(t),i=t.value;Et(r,(t,r)=>{sn(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new tn(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class on{}function an(t){return new m.a(e=>e.error(t))}class un{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Be(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,mt);if(null===e)return null;const n=new oe([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new te(n,e),i=new ae(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=se(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Ve(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!cn(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===mt?-1:e.value.outlet===mt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Ge(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!He(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?St(n).parameters:{};i=new oe(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dn(t),Fe(t),t.component,t,ln(e),hn(e)+n.length,fn(t))}else{const r=qe(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new oe(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,dn(t),Fe(t),t.component,t,ln(e),hn(e)+s.length,fn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Be(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new te(i,t)]}if(0===a.length&&0===c.length)return[new te(i,[])];const l=Fe(t)===r,h=this.processSegment(a,u,c,l?mt:r);return null===h?null:[new te(i,h)]}}function cn(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ln(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function hn(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function dn(t){return t.data||{}}function fn(t){return t.resolve||{}}function pn(t){return Object(I.a)(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(x.a)(()=>e)):Object(o.a)(e)})}class gn extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const mn=new i.r("ROUTES");class yn{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(x.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Ie(Ct(r.injector.get(mn,void 0,i.q.Self|i.q.Optional)).map(Le),r)}),D(t=>{throw e._loader$=void 0,t}));return e._loader$=new T.a(n,()=>new a.a).pipe(Object(Q.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):Tt(t()).pipe(Object(K.a)(t=>t instanceof i.w?Object(o.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class bn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vn,this.attachRef=null}}class vn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new bn,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class _n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wn(t){throw t}function On(t,e,n){return e.parse("/")}function Cn(t,e){return Object(o.a)(null)}let Sn=(()=>{class t{constructor(t,e,n,r,s,o,u,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new a.a,this.errorHandler=wn,this.malformedUriErrorHandler=On,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cn,afterPreactivation:Cn},this.urlHandlingStrategy=new _n,this.routeReuseStrategy=new gn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(i.y),this.console=s.get(i.Y);const h=s.get(i.A);this.isNgZoneEnabled=h instanceof i.A&&i.A.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new jt(new Nt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yn(o,u,t=>this.triggerEvent(new ct(t)),t=>this.triggerEvent(new lt(t))),this.routerState=re(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(N.a)(t=>0!==t.id),Object(x.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(I.a)(t=>{let n=!1,r=!1;return Object(o.a)(t).pipe(Object($.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(I.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(o.a)(t).pipe(Object(I.a)(t=>{const n=this.transitions.getValue();return e.next(new tt(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?S.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,a=this.config,Object(I.a)(t=>function(t,e,n,r,i){return new Xe(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,a).pipe(Object(x.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object($.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(K.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const a=new un(t,e,n,r,i,s).recognize();return null===a?an(new on):Object(o.a)(a)}catch(a){return an(a)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(x.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object($.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new it(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:a}=t,u=new tt(n,this.serializeUrl(r),i,s);e.next(u);const c=re(r,this.rootComponentType).snapshot;return Object(o.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),S.a}),pn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object($.a)(t=>{const e=new st(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(x.a)(t=>Object.assign(Object.assign({},t),{guards:en(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(K.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(o.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(K.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(o.a)(!0);const a=s.map(s=>{const o=nn(s,e,i);let a;if(function(t){return t&&ke(t.canDeactivate)}(o))a=Tt(o.canDeactivate(t,e,n,r));else{if(!ke(o))throw new Error("Invalid CanDeactivate guard");a=Tt(o(t,e,n,r))}return a.pipe(Object(G.a)())});return Object(o.a)(a).pipe(Ne())}(t.component,t.route,n,e,r)),Object(G.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(K.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Object(L.a)(e=>Object(C.a)(function(t,e){return null!==t&&e&&e(new ht(t)),Object(o.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ft(t)),Object(o.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>E(()=>{const i=e.guards.map(i=>{const s=nn(i,e.node,n);let o;if(function(t){return t&&ke(t.canActivateChild)}(s))o=Tt(s.canActivateChild(r,t));else{if(!ke(s))throw new Error("Invalid CanActivateChild guard");o=Tt(s(r,t))}return o.pipe(Object(G.a)())});return Object(o.a)(i).pipe(Ne())}));return Object(o.a)(i).pipe(Ne())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(o.a)(!0);const i=r.map(r=>E(()=>{const i=nn(r,e,n);let s;if(function(t){return t&&ke(t.canActivate)}(i))s=Tt(i.canActivate(e,t));else{if(!ke(i))throw new Error("Invalid CanActivate guard");s=Tt(i(e,t))}return s.pipe(Object(G.a)())}));return Object(o.a)(i).pipe(Ne())}(t,e.route,n))),Object(G.a)(t=>!0!==t,!0))}(r,a,t,e):Object(o.a)(n)),Object(x.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object($.a)(t=>{if(Ae(t.guardsResult)){const e=vt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new ot(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(N.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new nt(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),pn(t=>{if(t.guards.canActivateChecks.length)return Object(o.a)(t).pipe(Object($.a)(t=>{const e=new at(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(I.a)(t=>{let n=!1;return Object(o.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(K.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(o.a)(t);let a=0;return Object(s.a)(n).pipe(Object(L.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(o.a)({});const a={};return Object(s.a)(i).pipe(Object(K.a)(i=>function(t,e,n,r){const i=nn(t,e,r);return Tt(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object($.a)(t=>{a[i]=t}))),V(1),Object(K.a)(()=>Object.keys(a).length===i.length?Object(o.a)(a):S.a))}(t._resolve,t,e,r).pipe(Object(x.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),se(t,n).resolve),null)))}(t.route,e,r,i)),Object($.a)(()=>a++),V(1),Object(K.a)(e=>a===n.length?Object(o.a)(t):S.a))})),Object($.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new nt(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object($.a)(t=>{const e=new ut(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),pn(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(x.a)(t=>{const e=function(t,e,n){const r=de(t,e._root,n?n._root:void 0);return new ne(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object($.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(a=this.rootContexts,u=this.routeReuseStrategy,c=t=>this.triggerEvent(t),Object(x.a)(t=>(new Te(u,t.targetRouterState,t.currentRouterState,c).activate(a),t))),Object($.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new nt(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new J(i))),D(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ae(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new nt(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new rt(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return S.a}));var i,a,u,c}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){De(t),this.config=t.map(Le),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return me(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new be(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Et(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new be(n,e,r)}(n);if(s.toRoot())return me(e.root,new Nt([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new ve(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ve(t,t===e.root,0)}const r=pe(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ve(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?we(o.segmentGroup,o.index,s.commands):_e(o.segmentGroup,o.index,s.commands);return me(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ae(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ae(t))return xt(this.currentUrlTree,t,e);const n=this.parseUrl(t);return xt(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new et(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(i.N),i.Sb(Mt),i.Sb(vn),i.Sb(r.g),i.Sb(i.s),i.Sb(i.x),i.Sb(i.i),i.Sb(void 0))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})(),En=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new a.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:xn(this.skipLocationChange),replaceUrl:xn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(Sn),i.Lb(ie),i.Tb("tabindex"),i.Lb(i.E),i.Lb(i.l))},t.\u0275dir=i.Gb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.Vb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.yb]}),t})(),Tn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new a.a,this.subscription=t.events.subscribe(t=>{t instanceof et&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:xn(this.skipLocationChange),replaceUrl:xn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(Sn),i.Lb(ie),i.Lb(r.h))},t.\u0275dir=i.Gb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.Vb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Rb("href",e.href,i.gc),i.Bb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.yb]}),t})();function xn(t){return""===t||!!t}let In=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new kn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(vn),i.Lb(i.Q),i.Lb(i.j),i.Tb("name"),i.Lb(i.h))},t.\u0275dir=i.Gb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class kn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ie?this.route:t===vn?this.childContexts:this.parent.get(t,e)}}class An{}class jn{preload(t,e){return Object(o.a)(null)}}let Nn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new yn(e,n,e=>t.triggerEvent(new ct(e)),e=>t.triggerEvent(new lt(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(N.a)(t=>t instanceof et),Object(L.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(Y.a)(),Object(x.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(o.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(K.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(Sn),i.Sb(i.x),i.Sb(i.i),i.Sb(i.s),i.Sb(An))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})(),Pn=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof et&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(Sn),i.Sb(r.n),i.Sb(void 0))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const Dn=new i.r("ROUTER_CONFIGURATION"),Mn=new i.r("ROUTER_FORROOT_GUARD"),Rn=[r.g,{provide:Mt,useClass:Rt},{provide:Sn,useFactory:function(t,e,n,i,s,o,a,u={},c,l){const h=new Sn(null,t,e,n,i,s,o,Ct(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=Object(r.r)();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Mt,vn,r.g,i.s,i.x,i.i,mn,Dn,[class{},new i.B],[class{},new i.B]]},vn,{provide:ie,useFactory:function(t){return t.routerState.root},deps:[Sn]},{provide:i.x,useClass:i.K},Nn,jn,class{preload(t,e){return e().pipe(D(()=>Object(o.a)(null)))}},{provide:Dn,useValue:{enableTracing:!1}}];function Ln(){return new i.z("Router",Sn)}let Fn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Rn,Bn(e),{provide:Mn,useFactory:qn,deps:[[Sn,new i.B,new i.J]]},{provide:Dn,useValue:n||{}},{provide:r.h,useFactory:Un,deps:[r.m,[new i.p(r.a),new i.B],Dn]},{provide:Pn,useFactory:Vn,deps:[Sn,r.n,Dn]},{provide:An,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:jn},{provide:i.z,multi:!0,useFactory:Ln},[zn,{provide:i.d,multi:!0,useFactory:Hn,deps:[zn]},{provide:Kn,useFactory:Gn,deps:[zn]},{provide:i.b,multi:!0,useExisting:Kn}]]}}static forChild(e){return{ngModule:t,providers:[Bn(e)]}}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(Mn,8),i.Sb(Sn,8))},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({}),t})();function Vn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Pn(t,e,n)}function Un(t,e,n={}){return n.useHash?new r.e(t,e):new r.l(t,e)}function qn(t){return"guarded"}function Bn(t){return[{provide:i.a,multi:!0,useValue:t},{provide:mn,multi:!0,useValue:t}]}let zn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new a.a}appInitializer(){return this.injector.get(r.f,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Sn),r=this.injector.get(Dn);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(o.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Dn),n=this.injector.get(Nn),r=this.injector.get(Pn),s=this.injector.get(Sn),o=this.injector.get(i.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(i.s))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();function Hn(t){return t.appInitializer.bind(t)}function Gn(t){return t.bootstrapListener.bind(t)}const Kn=new i.r("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},xbPD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.3.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.17",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("ofXK"),i=n("fXoL");class s extends r.p{constructor(){super()}supportsDOMEvents(){return!0}}class o extends s{static makeCurrent(){Object(r.t)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=u||(u=document.querySelector("base"),u)?u.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.s)(document.cookie,t)}}let a,u=null;const c=new i.r("TRANSITION_ID"),l=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=Object(r.r)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.d,i.s],multi:!0}];class h{static init(){Object(i.X)(new h)}addToWindow(t){i.ob.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.ob.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.ob.getAllAngularRootElements=()=>t.getAllRootElements(),i.ob.frameworkStabilizers||(i.ob.frameworkStabilizers=[]),i.ob.frameworkStabilizers.push(t=>{const e=i.ob.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r.r)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const d=new i.r("EventManagerPlugins");let f=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(d),i.Sb(i.A))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();class p{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r.r)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})(),m=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(r.r)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(r.d))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function v(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?v(t,i,n):(i=i.replace(b,t),n.push(i))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let w=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new O(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new C(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case i.R.ShadowDom:return new S(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=v(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(f),i.Sb(m),i.Sb(i.c))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();class O{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(y[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=y[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=y[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(i.G.DashCase|i.G.Important)?t.style.setProperty(e,n,r&i.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class C extends O{constructor(t,e,n,r){super(t),this.component=n;const i=v(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class S extends O{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=v(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let E=(()=>{class t extends p{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(r.d))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const T=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},k={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let A=(()=>{class t extends p{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.r)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(T.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&I.hasOwnProperty(e)&&(e=I[e]))}return x[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),T.forEach(r=>{r!=n&&(0,k[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(r.d))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const j=[{provide:i.C,useValue:r.q},{provide:i.D,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.d,useFactory:function(){return Object(i.ub)(document),document},deps:[]}],N=Object(i.S)(i.W,"browser",j),P=[[],{provide:i.Z,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:d,useClass:E,multi:!0,deps:[r.d,i.A,i.C]},{provide:d,useClass:A,multi:!0,deps:[r.d]},[],{provide:w,useClass:w,deps:[f,m,i.c]},{provide:i.F,useExisting:w},{provide:g,useExisting:m},{provide:m,useClass:m,deps:[r.d]},{provide:i.M,useClass:i.M,deps:[i.A]},{provide:f,useClass:f,deps:[d,i.A]},[]];let D=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:c,useExisting:i.c},l]}}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(t,12))},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({providers:P,imports:[r.c,i.f]}),t})();"undefined"!=typeof window&&window;var M=n("tyNb");let R=(()=>{class t{constructor(){this.state=!1}ngOnInit(){}display(){}toggleState(){this.state=!this.state,this.showOrHideChatBox()}showOrHideChatBox(){this.state?(this.chatboxStatus="chatbox--active",this.toggleIcon(!0)):this.state||(this.chatboxStatus="",this.toggleIcon(!1))}toggleIcon(t){t?this.chatBoxContent='<img src="./assets/imagenes/chatbox-icon.svg" />':t||(this.chatBoxContent='<img src="./assets/imagenes/chatbox-icon.svg" />')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-chat"]],decls:29,vars:3,consts:[[1,"container"],[1,"chatbox"],[1,"chatbox__header"],[1,"chatbox__image--header"],[1,"chatbox__content--header"],[1,"chatbox__heading--header"],[1,"chatbox__messages"],[1,"messages__item","messages__item--visitor"],[1,"messages__item","messages__item--operator"],[1,"messages__item","messages__item--typing"],[1,"messages__dot"],[1,"chatbox__footer"],["type","text","placeholder","Write a message..."],[1,"chatbox__send--footer"],[1,"chatbox__button"],[3,"click"],["src","././assets/imagenes/chat/chatbox-icon.svg"]],template:function(t,e){1&t&&(i.Ob(0,"div",0),i.Ob(1,"div",1),i.Ob(2,"div"),i.Ob(3,"div",2),i.Mb(4,"div",3),i.Ob(5,"div",4),i.Ob(6,"h4",5),i.kc(7,"Chat"),i.Nb(),i.Nb(),i.Nb(),i.Ob(8,"div",6),i.Ob(9,"div"),i.Ob(10,"div",7),i.kc(11," Can you let me talk to the support? "),i.Nb(),i.Ob(12,"div",8),i.kc(13," Sure! "),i.Nb(),i.Ob(14,"div",7),i.kc(15," Need your help, I need a developer in my site. "),i.Nb(),i.Ob(16,"div",8),i.kc(17," Hi... What is it? I'm a front-end developer, yay! "),i.Nb(),i.Ob(18,"div",9),i.Mb(19,"span",10),i.Mb(20,"span",10),i.Mb(21,"span",10),i.Nb(),i.Nb(),i.Nb(),i.Ob(22,"div",11),i.Mb(23,"input",12),i.Ob(24,"p",13),i.kc(25,"Send"),i.Nb(),i.Nb(),i.Nb(),i.Ob(26,"div",14),i.Ob(27,"button",15),i.Vb("click",function(){return e.toggleState()}),i.Mb(28,"img",16),i.Nb(),i.Nb(),i.Nb(),i.Nb()),2&t&&(i.Ab(2),i.Cb("chatbox__support ",e.chatboxStatus,""))},styles:['*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0}.container[_ngcontent-%COMP%]{--primaryGradient:linear-gradient(93.12deg,#581b98 0.52%,#9c1de7);--secondaryGradient:linear-gradient(268.91deg,#581b98 -2.14%,#9c1de7 99.69%);--primaryBoxShadow:0px 10px 15px rgba(0,0,0,0.1);--secondaryBoxShadow:0px -10px 15px rgba(0,0,0,0.1);--light:300;--regular:400;--semiBold:600;--extraLight:300;--italic:300;--primary:#581b98}.container[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{font-family:Nunito,sans-serif;font-weight:400;font-size:100%;background:#f1f1f1}.chatbox__support[_ngcontent-%COMP%]{background:#f9f9f9;height:450px;width:350px;box-shadow:0 0 15px rgba(0,0,0,.1)}.chatbox__header[_ngcontent-%COMP%], .chatbox__support[_ngcontent-%COMP%]{border-top-left-radius:20px;border-top-right-radius:20px}.chatbox__header[_ngcontent-%COMP%]{background:var(--primaryGradient);display:flex;flex-direction:row;align-items:center;justify-content:center;padding:15px 20px;box-shadow:var(--primaryBoxShadow)}.chatbox__image--header[_ngcontent-%COMP%]{margin-right:10px}.chatbox__heading--header[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff}.chatbox__description--header[_ngcontent-%COMP%]{font-size:.9rem;color:#fff}.chatbox__messages[_ngcontent-%COMP%]{padding:0 20px}.messages__item[_ngcontent-%COMP%]{margin-top:10px;background:#e0e0e0;padding:8px 12px;max-width:70%}.messages__item--typing[_ngcontent-%COMP%], .messages__item--visitor[_ngcontent-%COMP%]{border-top-left-radius:20px;border-top-right-radius:20px;border-bottom-right-radius:20px}.messages__item--operator[_ngcontent-%COMP%]{border-top-left-radius:20px;border-top-right-radius:20px;border-bottom-left-radius:20px;background:var(--primary);color:#fff}.chatbox__footer[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:20px;background:var(--secondaryGradient);box-shadow:var(--secondaryBoxShadow);border-bottom-right-radius:10px;border-bottom-left-radius:10px;margin-top:20px}.chatbox__footer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;padding:10px;border-radius:30px;text-align:center}.chatbox__send--footer[_ngcontent-%COMP%]{color:#fff}.chatbox__button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .chatbox__button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .chatbox__button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:visited{padding:10px;background:#fff;border:none;outline:none;border-top-left-radius:50px;border-top-right-radius:50px;border-bottom-left-radius:50px;box-shadow:0 10px 15px rgba(0,0,0,.1);cursor:pointer}.chatbox[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px}.chatbox__support[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#eee;width:300px;height:350px;z-index:-123456;opacity:0;transition:all .5s ease-in-out}.chatbox--active[_ngcontent-%COMP%]{transform:translateY(-40px);z-index:123456;opacity:1}.chatbox__button[_ngcontent-%COMP%]{text-align:right}.chatbox__header[_ngcontent-%COMP%]{position:sticky;top:0;background:linear-gradient(93.12deg,#581b98 .52%,#9c1de7)}.chatbox__messages[_ngcontent-%COMP%]{margin-top:auto;display:flex;flex-direction:column;overflow-y:scroll;flex-direction:column-reverse}.messages__item[_ngcontent-%COMP%]{background:linear-gradient(93.12deg,#581b98 .52%,#9c1de7);max-width:60.6%;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.messages__item--operator[_ngcontent-%COMP%]{margin-left:auto}.messages__item--visitor[_ngcontent-%COMP%]{margin-right:auto}.chatbox__footer[_ngcontent-%COMP%]{position:sticky;bottom:0}.messages__item--typing[_ngcontent-%COMP%]{will-change:transform;width:auto;border-top-right-radius:20px;border-top-left-radius:20px;border-bottom-right-radius:20px;padding:15px 20px;display:table;margin-right:auto;position:relative;animation:bulge 2s ease-out infinite}.messages__item--typing[_ngcontent-%COMP%]:after, .messages__item--typing[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-2px;left:-2px;height:10px;width:10px;border-radius:50%}.messages__item--typing[_ngcontent-%COMP%]:after{height:10px;width:10px;left:-10px;bottom:-10px}span.messages__dot[_ngcontent-%COMP%]{height:8px;width:8px;float:left;margin:0 1px;background-color:#9e9ea1;display:block;border-radius:50%;opacity:.4;animation:blink 1s infinite}@keyframes blink{50%{opacity:1}}@keyframes bulge{50%{transform:scale(1.05)}}']}),t})(),L=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-home"]],decls:36,vars:0,consts:[[1,"containerD"],[1,"hero-text"],["src","./assets/imagenes/sala.png","width","700"],["href","https://github.com/Vaninaquezada/tpSalaDeJuego/tree/master","target","_blank"],[1,"fa","fa-github"],["routerLink","/quiensoy"],[1,"fa","fa-user"],[1,"menu-container"],["routerLink","/juegos",1,"box"],[1,"content"],["routerLink","/chat",1,"box"],[1,"box"]],template:function(t,e){1&t&&(i.Ob(0,"div",0),i.Mb(1,"br"),i.Ob(2,"div",1),i.Ob(3,"div"),i.Mb(4,"img",2),i.Nb(),i.Ob(5,"div"),i.Ob(6,"p"),i.kc(7,"Vanina Quezada"),i.Nb(),i.Ob(8,"a",3),i.kc(9,"en GitHub "),i.Mb(10,"i",4),i.Nb(),i.Ob(11,"a",5),i.kc(12,"\xbfQuien Soy? "),i.Mb(13,"i",6),i.Nb(),i.Nb(),i.Nb(),i.Ob(14,"div",7),i.Ob(15,"div",8),i.Mb(16,"span"),i.Ob(17,"div",9),i.Ob(18,"h2"),i.kc(19,"Juegos "),i.Nb(),i.Nb(),i.Nb(),i.Ob(20,"div",10),i.Mb(21,"span"),i.Ob(22,"div",9),i.Ob(23,"h2"),i.kc(24,"Chat "),i.Nb(),i.Nb(),i.Nb(),i.Ob(25,"div",11),i.Mb(26,"span"),i.Ob(27,"div",9),i.Ob(28,"h2"),i.kc(29,"Encuesta"),i.Nb(),i.Nb(),i.Nb(),i.Ob(30,"div",11),i.Mb(31,"span"),i.Ob(32,"div",9),i.Ob(33,"h2"),i.kc(34,"Listado de Resultados"),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Mb(35,"app-chat"))},directives:[M.c,M.b,R],styles:['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:consolas}.containerD[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;width:100vw;height:100vh;background:#111;flex-direction:column;width:100%;height:100%}.menu-container[_ngcontent-%COMP%]{padding:40px 0;flex-wrap:wrap}.menu-container[_ngcontent-%COMP%], .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:150px;height:150px;color:#fff;background:#111;margin:20px 30px;transition:.5s;text-align:center}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:hover{transform:translateY(-20px)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after, .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(45deg,#ffbc00,#ff0058)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:after{filter:blur(30px)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(2):after, .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(2):before{background:linear-gradient(315deg,#03a9f4,#ff0058)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3):after, .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(3):before{background:linear-gradient(315deg,#4dff03,#00d0ff)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(4):after, .menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]:nth-child(4):before{background:linear-gradient(315deg,#ff8903,#c3ff00)}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:6px;left:6px;right:6px;bottom:6px;background:rgba(0,0,0,.6);z-index:2}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:50%;height:100%;background:hsla(0,0%,100%,.1);pointer-events:none}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:relative;z-index:10;padding:20px 40px}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.1em;color:#fff;margin-bottom:10px}.container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1em;color:#fff;margin-bottom:10px;line-height:1.4em}.menu-container[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;font-size:1.1em;color:#111;background:#fff;padding:10px;text-decoration:none;font-weight:700}.hero-text[_ngcontent-%COMP%]{text-align:center;position:relative;color:#fff;align-self:auto;justify-content:center;align-items:center}.hero-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:none;outline:0;padding:10px 25px;color:#000;background-color:#ddd;text-align:center;cursor:pointer}.hero-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#555;color:#fff}']}),t})();var F=n("mrSG"),V=n("Cfvw"),U=n("HDdC"),q=n("DH7j"),B=n("lJxs"),z=n("XoHu");function H(t,e){return new U.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(V.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class G{}const K=new i.r("NgValueAccessor"),$={provide:K,useExisting:Object(i.U)(()=>W),multi:!0},Q=new i.r("CompositionEventMode");let W=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Object(r.r)()?Object(r.r)().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(i.E),i.Lb(i.l),i.Lb(Q,8))},t.\u0275dir=i.Gb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.Vb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i.zb([$])]}),t})();const J=new i.r("NgValidators"),X=new i.r("NgAsyncValidators");function Y(t){return null!=t}function Z(t){const e=Object(i.rb)(t)?Object(V.a)(t):t;return Object(i.qb)(e),e}function tt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function et(t,e){return e.map(e=>e(t))}function nt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function rt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Y);return 0==e.length?null:function(t){return tt(et(t,e))}}(nt(t)):null}function it(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Y);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(q.a)(e))return H(e,null);if(Object(z.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return H(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return H(t=1===t.length&&Object(q.a)(t[0])?t[0]:t,null).pipe(Object(B.a)(t=>e(...t)))}return H(t,null)}(et(t,e).map(Z)).pipe(Object(B.a)(tt))}}(nt(t)):null}function st(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ot(t){return t._rawValidators}function at(t){return t._rawAsyncValidators}let ut=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=rt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Gb({type:t}),t})(),ct=(()=>{class t extends ut{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return lt(e||t)},t.\u0275dir=i.Gb({type:t,features:[i.xb]}),t})();const lt=i.Qb(ct);class ht extends ut{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dt{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let ft=(()=>{class t extends dt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(ht,2))},t.\u0275dir=i.Gb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.xb]}),t})(),pt=(()=>{class t extends dt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(ct,10))},t.\u0275dir=i.Gb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Db("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.xb]}),t})();function gt(t,e){return[...e.path,t]}function mt(t,e){vt(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&wt(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&wt(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function yt(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),_t(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function bt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vt(t,e,n){const r=ot(t);null!==e.validator?t.setValidators(st(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=at(t);if(null!==e.asyncValidator?t.setAsyncValidators(st(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();bt(e._rawValidators,n),bt(e._rawAsyncValidators,n)}}function _t(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=ot(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=at(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};bt(e._rawValidators,t),bt(e._rawAsyncValidators,t)}return r}function wt(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ot(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Ct(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===W?n=t:Object.getPrototypeOf(t.constructor)===G?r=t:i=t}),i||r||n||null}function St(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Et="VALID",Tt="INVALID",xt="PENDING",It="DISABLED";function kt(t){return(Pt(t)?t.validators:t)||null}function At(t){return Array.isArray(t)?rt(t):t||null}function jt(t,e){return(Pt(e)?e.asyncValidators:t)||null}function Nt(t){return Array.isArray(t)?it(t):t||null}function Pt(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Dt{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=At(this._rawValidators),this._composedAsyncValidatorFn=Nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Et}get invalid(){return this.status===Tt}get pending(){return this.status==xt}get disabled(){return this.status===It}get enabled(){return this.status!==It}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=At(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Nt(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xt,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=It,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Et,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Et&&this.status!==xt||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?It:Et}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xt,this._hasOwnPendingAsyncValidator=!0;const e=Z(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Rt?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Lt&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.n,this.statusChanges=new i.n}_calculateStatus(){return this._allControlsDisabled()?It:this.errors?Tt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xt)?xt:this._anyControlsHaveStatus(Tt)?Tt:Et}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Pt(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Mt extends Dt{constructor(t=null,e,n){super(kt(e),jt(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){St(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){St(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Rt extends Dt{constructor(t,e,n){super(kt(e),jt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Mt?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Lt extends Dt{constructor(t,e,n){super(kt(e),jt(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Mt?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ft={provide:ht,useExisting:Object(i.U)(()=>Ut)},Vt=(()=>Promise.resolve(null))();let Ut=(()=>{class t extends ht{constructor(t,e,n,r){super(),this.control=new Mt,this._registered=!1,this.update=new i.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ct(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Ot(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?gt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){mt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Vt.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Vt.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(ct,9),i.Lb(J,10),i.Lb(X,10),i.Lb(K,10))},t.\u0275dir=i.Gb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.zb([Ft]),i.xb,i.yb]}),t})(),qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Gb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({}),t})();const zt=new i.r("NgModelWithFormControlWarning"),Ht={provide:ct,useExisting:Object(i.U)(()=>Gt)};let Gt=(()=>{class t extends ct{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(_t(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return mt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){yt(t.control||null,t,!1),St(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(yt(e||null,t),n instanceof Mt&&(mt(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){vt(t,e,!1)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return _t(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vt(this.form,this,!1),this._oldForm&&_t(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(J,10),i.Lb(X,10))},t.\u0275dir=i.Gb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.Vb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.zb([Ht]),i.xb,i.yb]}),t})();const Kt={provide:ht,useExisting:Object(i.U)(()=>$t)};let $t=(()=>{class t extends ht{constructor(t,e,n,r,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new i.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ct(0,r)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Ot(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return gt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(ct,13),i.Lb(J,10),i.Lb(X,10),i.Lb(K,10),i.Lb(zt,8))},t.\u0275dir=i.Gb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.zb([Kt]),i.xb,i.yb]}),t._ngModelWarningSentOnce=!1,t})();const Qt={provide:K,useExisting:Object(i.U)(()=>Jt),multi:!0};function Wt(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Jt=(()=>{class t extends G{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Wt(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(i.E),i.Lb(i.l))},t.\u0275dir=i.Gb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.Vb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.zb([Qt]),i.xb]}),t})(),Xt=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Wt(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(i.l),i.Lb(i.E),i.Lb(Jt,9))},t.\u0275dir=i.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Yt={provide:K,useExisting:Object(i.U)(()=>te),multi:!0};function Zt(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let te=(()=>{class t extends G{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(i.E),i.Lb(i.l))},t.\u0275dir=i.Gb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.Vb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.zb([Yt]),i.xb]}),t})(),ee=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Zt(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Zt(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(i.l),i.Lb(i.E),i.Lb(te,9))},t.\u0275dir=i.Gb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),ne=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({imports:[[Bt]]}),t})(),re=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({imports:[ne]}),t})(),ie=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:zt,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({imports:[ne]}),t})();var se=n("eIep"),oe=n("SxV6"),ae=n("LRne"),ue=n("XNiG"),ce=n("VRyK"),le=n("pxpQ"),he=n("qgXg"),de=n("quSY"),fe=n("9ppp"),pe=n("Ylt2");class ge extends ue.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new me(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new fe.a;if(this.isStopped||this.hasError?s=de.a.EMPTY:(this.observers.push(t),s=new pe.a(this,t)),r&&t.add(t=new le.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||he.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class me{constructor(t,e){this.time=t,this.value=e}}function ye(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new ge(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function be(t,e){return e?Object(se.a)(()=>t,e):Object(se.a)(()=>t)}var ve=n("tf+s"),_e=n("pLZG"),we=n("spgP");const Oe=new i.r("angularfire2.auth.use-emulator"),Ce=new i.r("angularfire2.auth.settings"),Se=new i.r("angularfire2.auth.tenant-id"),Ee=new i.r("angularfire2.auth.langugage-code"),Te=new i.r("angularfire2.auth.use-device-language"),xe=new i.r("angularfire.auth.persistence");let Ie=(()=>{class t{constructor(t,e,i,s,o,a,u,c,l,h){const d=new we.d(s),f=Object(we.h)(d),p=new ue.a,g=Object(ae.a)(void 0).pipe(Object(le.b)(d.outsideAngular),Object(se.a)(()=>s.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(B.a)(()=>Object(we.g)(t,s,e)),Object(B.a)(t=>s.runOutsideAngular(()=>{const e=o,n=a;return Object(we.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=s.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r},[e,u,c,l,n,h])})),ye({bufferSize:1,refCount:!1}));if(Object(r.o)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(ae.a)(null);else{g.pipe(Object(oe.a)()).subscribe();const t=g.pipe(Object(se.a)(t=>t.getRedirectResult().then(t=>t,()=>null)),f,ye({bufferSize:1,refCount:!1})),e=t=>new U.a(e=>({unsubscribe:s.runOutsideAngular(()=>t(e))})),n=g.pipe(Object(se.a)(t=>e(t.onAuthStateChanged.bind(t)))),r=g.pipe(Object(se.a)(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(be(n),Object(ve.a)(d.outsideAngular),Object(le.b)(d.insideAngular)),this.user=t.pipe(be(r),Object(ve.a)(d.outsideAngular),Object(le.b)(d.insideAngular)),this.idToken=this.user.pipe(Object(se.a)(t=>t?Object(V.a)(t.getIdToken()):Object(ae.a)(null))),this.idTokenResult=this.user.pipe(Object(se.a)(t=>t?Object(V.a)(t.getIdTokenResult()):Object(ae.a)(null))),this.credential=Object(ce.a)(t,p,this.authState.pipe(Object(_e.a)(t=>!t))).pipe(Object(B.a)(t=>(null==t?void 0:t.user)?t:null),Object(ve.a)(d.outsideAngular),Object(le.b)(d.insideAngular))}return Object(we.i)(this,g,s,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>p.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(we.c),i.Sb(we.b,8),i.Sb(i.C),i.Sb(i.A),i.Sb(Oe,8),i.Sb(Ce,8),i.Sb(Se,8),i.Sb(Ee,8),i.Sb(Te,8),i.Sb(xe,8))},t.\u0275prov=Object(i.Hb)({factory:function(){return new t(Object(i.Sb)(we.c),Object(i.Sb)(we.b,8),Object(i.Sb)(i.C),Object(i.Sb)(i.A),Object(i.Sb)(Oe,8),Object(i.Sb)(Ce,8),Object(i.Sb)(Se,8),Object(i.Sb)(Ee,8),Object(i.Sb)(Te,8),Object(i.Sb)(xe,8))},token:t,providedIn:"any"}),t})();Object(we.e)(Ie,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let ke=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({providers:[Ie]}),t})();var Ae=n("D0XW"),je=n("JX91"),Ne=n("7o/Q");function Pe(){return t=>t.lift(new De)}class De{call(t,e){return e.subscribe(new Me(t))}}class Me extends Ne.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Re=n("Kqap");class Le{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Fe(t,this.compare,this.keySelector))}}class Fe extends Ne.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ve=n("Jgta"),Ue=n("zIRd"),qe=n("q/0M"),Be=n("qOnz"),ze=function(t,e){return(ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function He(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ge,Ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$e=$e||{},Qe=Ke||self;function We(){}function Je(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Xe(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ye="closure_uid_"+(1e9*Math.random()>>>0),Ze=0;function tn(t,e,n){return t.call.apply(t.bind,arguments)}function en(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function nn(t,e,n){return(nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tn:en).apply(null,arguments)}function rn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function sn(){return Date.now()}function on(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function an(){this.j=this.j,this.i=this.i}an.prototype.j=!1,an.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ye)&&t[Ye]||(t[Ye]=++Ze)}(this)},an.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var un=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},cn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ln(t){return Array.prototype.concat.apply([],arguments)}function hn(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function dn(t){return/^[\s\xa0]*$/.test(t)}var fn,pn=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function gn(t,e){return-1!=t.indexOf(e)}function mn(t,e){return t<e?-1:t>e?1:0}t:{var yn=Qe.navigator;if(yn){var bn=yn.userAgent;if(bn){fn=bn;break t}}fn=""}function vn(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function _n(t){var e={};for(var n in t)e[n]=t[n];return e}var wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<wn.length;s++)n=wn[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cn(t){return Cn[" "](t),t}Cn[" "]=We;var Sn,En,Tn=gn(fn,"Opera"),xn=gn(fn,"Trident")||gn(fn,"MSIE"),In=gn(fn,"Edge"),kn=In||xn,An=gn(fn,"Gecko")&&!(gn(fn.toLowerCase(),"webkit")&&!gn(fn,"Edge"))&&!(gn(fn,"Trident")||gn(fn,"MSIE"))&&!gn(fn,"Edge"),jn=gn(fn.toLowerCase(),"webkit")&&!gn(fn,"Edge");function Nn(){var t=Qe.document;return t?t.documentMode:void 0}t:{var Pn="",Dn=(En=fn,An?/rv:([^\);]+)(\)|;)/.exec(En):In?/Edge\/([\d\.]+)/.exec(En):xn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(En):jn?/WebKit\/(\S+)/.exec(En):Tn?/(?:Version)[ \/]?(\S+)/.exec(En):void 0);if(Dn&&(Pn=Dn?Dn[1]:""),xn){var Mn=Nn();if(null!=Mn&&Mn>parseFloat(Pn)){Sn=String(Mn);break t}}Sn=Pn}var Rn={};function Ln(t){return function(t,e){var n=Rn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=pn(String(Sn)).split("."),r=pn(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=mn(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||mn(0==o[2].length,0==a[2].length)||mn(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Fn=Qe.document&&xn&&(Nn()||parseInt(Sn,10))||void 0,Vn=!xn||9<=Number(Fn),Un=xn&&!Ln("9"),qn=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Qe.addEventListener("test",We,e),Qe.removeEventListener("test",We,e)}catch(n){}return t}();function Bn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function zn(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(An){t:{try{Cn(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Hn[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Bn.prototype.b=function(){this.defaultPrevented=!0},on(zn,Bn);var Hn={2:"touch",3:"pen",4:"mouse"};zn.prototype.b=function(){zn.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Un)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Gn="closure_listenable_"+(1e6*Math.random()|0),Kn=0;function $n(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Kn,this.Y=this.Z=!1}function Qn(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Wn(t){this.src=t,this.a={},this.b=0}function Jn(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=un(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Qn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Xn(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Wn.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=Xn(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new $n(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var Yn="closure_lm_"+(1e6*Math.random()|0),Zn={};function tr(t,e,n,r,i){if(r&&r.once)return nr(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)tr(t,e[s],n,r,i);return null}return n=lr(n),t&&t[Gn]?t.va(e,n,Xe(r)?!!r.capture:!!r,i):er(t,e,n,!1,r,i)}function er(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xe(i)?!!i.capture:!!i;if(o&&!Vn)return null;var a=ur(t);if(a||(t[Yn]=a=new Wn(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=ar,e=Vn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)qn||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(sr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function nr(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nr(t,e[s],n,r,i);return null}return n=lr(n),t&&t[Gn]?t.wa(e,n,Xe(r)?!!r.capture:!!r,i):er(t,e,n,!0,r,i)}function rr(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)rr(t,e[s],n,r,i);else r=Xe(r)?!!r.capture:!!r,n=lr(n),t&&t[Gn]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Xn(s=t.a[e],n,r,i))&&(Qn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=ur(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Xn(e,n,r,i)),(n=-1<t?e[t]:null)&&ir(n))}function ir(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Gn])Jn(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(sr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ur(e))?(Jn(n,t),0==n.b&&(n.src=null,e[Yn]=null)):Qn(t)}}}function sr(t){return t in Zn?Zn[t]:Zn[t]="on"+t}function or(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ir(t),n.call(r,e)}function ar(t,e){if(t.Y)return!0;if(!Vn){if(!e)t:{e=["window","event"];for(var n=Qe,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return or(t,e=new zn(e,this))}return or(t,new zn(e,this))}function ur(t){return(t=t[Yn])instanceof Wn?t:null}var cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function lr(t){return"function"==typeof t?t:(t[cr]||(t[cr]=function(e){return t.handleEvent(e)}),t[cr])}function hr(){an.call(this),this.c=new Wn(this),this.J=this,this.C=null}function dr(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;On(e=new Bn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=fr(o,r,!0,e)&&i}if(i=fr(o=e.a=t,r,!0,e)&&i,i=fr(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=fr(o=e.a=n[s],r,!1,e)&&i}function fr(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&Jn(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}on(hr,an),hr.prototype[Gn]=!0,(Ge=hr.prototype).addEventListener=function(t,e,n,r){tr(this,t,e,n,r)},Ge.removeEventListener=function(t,e,n,r){rr(this,t,e,n,r)},Ge.G=function(){if(hr.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Qn(n[r]);delete e.a[t],e.b--}}this.C=null},Ge.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ge.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var pr=Qe.JSON.stringify;function gr(){this.b=this.a=null}var mr,yr=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new vr},function(t){t.reset()});function br(){var t=Cr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function vr(){this.next=this.b=this.a=null}function _r(t){Qe.setTimeout(function(){throw t},0)}function wr(t,e){mr||function(){var t=Qe.Promise.resolve(void 0);mr=function(){t.then(Sr)}}(),Or||(mr(),Or=!0),Cr.add(t,e)}gr.prototype.add=function(t,e){var n=yr.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},vr.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},vr.prototype.reset=function(){this.next=this.b=this.a=null};var Or=!1,Cr=new gr;function Sr(){for(var t;t=br();){try{t.a.call(t.b)}catch(n){_r(n)}var e=yr;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Or=!1}function Er(t,e){hr.call(this),this.b=t||1,this.a=e||Qe,this.f=nn(this.Za,this),this.g=sn()}function Tr(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function xr(t,e,n){if("function"==typeof t)n&&(t=nn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=nn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Qe.setTimeout(t,e||0)}function Ir(t){t.a=xr(function(){t.a=null,t.c&&(t.c=!1,Ir(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}on(Er,hr),(Ge=Er.prototype).aa=!1,Ge.M=null,Ge.Za=function(){if(this.aa){var t=sn()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),dr(this,"tick"),this.aa&&(Tr(this),this.start()))}},Ge.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=sn())},Ge.G=function(){Er.X.G.call(this),Tr(this),delete this.a};var kr=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ze(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ir(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Qe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(an);function Ar(t){an.call(this),this.b=t,this.a={}}on(Ar,an);var jr=[];function Nr(t,e,n,r){Array.isArray(n)||(n&&(jr[0]=n.toString()),n=jr);for(var i=0;i<n.length;i++){var s=tr(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Pr(t){vn(t.a,function(t,e){this.a.hasOwnProperty(e)&&ir(t)},t),t.a={}}function Dr(){this.a=!0}function Mr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return pr(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ar.prototype.G=function(){Ar.X.G.call(this),Pr(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dr.prototype.info=function(){};var Rr={},Lr=null;function Fr(){return Lr=Lr||new hr}function Vr(t){Bn.call(this,Rr.Fa,t)}function Ur(t){var e=Fr();dr(e,new Vr(e,t))}function qr(t,e){Bn.call(this,Rr.STAT_EVENT,t),this.stat=e}function Br(t){var e=Fr();dr(e,new qr(e,t))}function zr(t){Bn.call(this,Rr.Ga,t)}function Hr(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){t()},e)}Rr.Fa="serverreachability",on(Vr,Bn),Rr.STAT_EVENT="statevent",on(qr,Bn),Rr.Ga="timingevent",on(zr,Bn);var Gr={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Kr={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function $r(){}function Qr(){}$r.prototype.a=null;var Wr,Jr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Xr(){Bn.call(this,"d")}function Yr(){Bn.call(this,"c")}function Zr(){}function ti(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ar(this),this.P=ei,this.R=new Er(t=kn?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}on(Xr,Bn),on(Yr,Bn),on(Zr,$r),Wr=new Zr;var ei=45e3,ni={},ri={};function ii(t,e,n){t.H=1,t.i=Ti(_i(e)),t.j=n,t.I=!0,si(t,null)}function si(t,e){t.u=sn(),ui(t),t.l=_i(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Vi(n.b,"t",r),t.D=0,t.a=Ps(t.g,t.g.C?e:null),0<t.O&&(t.F=new kr(nn(t.Ca,t,t.a),t.O)),Nr(t.J,t.a,"readystatechange",t.Xa),e=t.B?_n(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ur(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function oi(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ai(t,n);if(i==ri){4==e&&(t.h=4,Br(14),r=!1),Mr(t.c,t.f,null,"[Incomplete Response]");break}if(i==ni){t.h=4,Br(15),Mr(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Mr(t.c,t.f,i,null),fi(t,i)}4==e&&0==n.length&&(t.h=1,Br(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Es(e),e.F=!0,Br(11))):(Mr(t.c,t.f,n,"[Invalid Chunked Response]"),di(t),hi(t))}function ai(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ri:(n=Number(e.substring(n,r)),isNaN(n)?ni:(r+=1)+n>e.length?ri:(e=e.substr(r,n),t.D=r+n,e))}function ui(t){t.T=sn()+t.P,ci(t,t.P)}function ci(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Hr(nn(t.Va,t),e)}function li(t){t.o&&(Qe.clearTimeout(t.o),t.o=null)}function hi(t){0==t.g.v||t.A||Is(t.g,t)}function di(t){li(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Tr(t.R),Pr(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function fi(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ki(n.b,t)))if(n.I=t.N,!t.C&&Ki(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(yg){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;xs(n),ms(n)}Ss(n),Br(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Hr(nn(n.Sa,n),6e3));if(1>=Gi(n.b)&&n.ea){try{n.ea()}catch(yg){}n.ea=void 0}}else As(n,11)}else if((t.C||n.a==t)&&xs(n),!dn(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(gn(l,"spdy")||gn(l,"quic")||gn(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&($i(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,Ei(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=sn()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=Ns(u,u.C?u.ga:null,u.fa),f.C){Qi(u.b,f);var p=f,g=u.D;g&&p.setTimeout(g),p.o&&(li(p),ui(p)),u.a=f}else Cs(u);0<n.g.length&&vs(n)}else"stop"!=i[0]&&"close"!=i[0]||As(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?As(n,7):gs(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ur(4)}catch(yg){}}function pi(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Je(t)||"string"==typeof t)cn(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Je(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Je(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function gi(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof gi)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function mi(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];yi(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)yi(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function yi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ge=ti.prototype).setTimeout=function(t){this.P=t},Ge.Xa=function(t){t=t.target;var e=this.F;e&&3==hs(t)?e.f():this.Ca(t)},Ge.Ca=function(t){try{if(t==this.a)t:{var e=hs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!kn&&!this.a.$())){this.A||4!=e||7==n||Ur(8==n||0>=r?3:2),li(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dn(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Br(12),di(this),hi(this);break t}Mr(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,fi(this,u)}this.I?(oi(this,e,s),kn&&this.b&&3==e&&(Nr(this.J,this.R,"tick",this.Wa),this.R.start())):(Mr(this.c,this.f,s,null),fi(this,s)),4==e&&di(this),this.b&&!this.A&&(4==e?Is(this.g,this):(this.b=!1,ui(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Br(12)):(this.h=0,Br(13)),di(this),hi(this)}}}catch(c){}},Ge.Wa=function(){if(this.a){var t=hs(this.a),e=this.a.$();this.D<e.length&&(li(this),oi(this,t,e),this.b&&4!=t&&ui(this))}},Ge.cancel=function(){this.A=!0,di(this)},Ge.Va=function(){this.o=null;var t=sn();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ur(3),Br(17)),di(this),this.h=2,hi(this)):ci(this,this.T-t)},(Ge=gi.prototype).K=function(){mi(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ge.L=function(){return mi(this),this.a.concat()},Ge.get=function(t,e){return yi(this.b,t)?this.b[t]:e},Ge.set=function(t,e){yi(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ge.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var bi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vi(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof vi){this.a=void 0!==e?e:t.a,wi(this,t.f),this.j=t.j,Oi(this,t.c),Ci(this,t.h),this.g=t.g,e=t.b;var n=new Mi;n.c=e.c,e.a&&(n.a=new gi(e.a),n.b=e.b),Si(this,n),this.i=t.i}else t&&(n=String(t).match(bi))?(this.a=!!e,wi(this,n[1]||"",!0),this.j=xi(n[2]||""),Oi(this,n[3]||"",!0),Ci(this,n[4]),this.g=xi(n[5]||"",!0),Si(this,n[6]||"",!0),this.i=xi(n[7]||"")):(this.a=!!e,this.b=new Mi(null,this.a))}function _i(t){return new vi(t)}function wi(t,e,n){t.f=n?xi(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Oi(t,e,n){t.c=n?xi(e,!0):e}function Ci(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Si(t,e,n){e instanceof Mi?(t.b=e,function(t,e){e&&!t.f&&(Ri(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Li(this,e),Vi(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ii(e,Pi)),t.b=new Mi(e,t.a))}function Ei(t,e,n){t.b.set(e,n)}function Ti(t){return Ei(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^sn()).toString(36)),t}function xi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ii(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ki),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ki(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vi.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ii(e,Ai,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ii(e,Ai,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ii(n,"/"==n.charAt(0)?Ni:ji,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ii(n,Di)),t.join("")};var Ai=/[#\/\?@]/g,ji=/[#\?:]/g,Ni=/[#\?]/g,Pi=/[#\?@]/g,Di=/#/g;function Mi(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ri(t){t.a||(t.a=new gi,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Li(t,e){Ri(t),e=Ui(t,e),yi(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,yi((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&mi(t)))}function Fi(t,e){return Ri(t),e=Ui(t,e),yi(t.a.b,e)}function Vi(t,e,n){Li(t,e),0<n.length&&(t.c=null,t.a.set(Ui(t,e),hn(n)),t.b+=n.length)}function Ui(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ge=Mi.prototype).add=function(t,e){Ri(this),this.c=null,t=Ui(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ge.forEach=function(t,e){Ri(this),this.a.forEach(function(n,r){cn(n,function(n){t.call(e,n,r,this)},this)},this)},Ge.L=function(){Ri(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Ge.K=function(t){Ri(this);var e=[];if("string"==typeof t)Fi(this,t)&&(e=ln(e,this.a.get(Ui(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ln(e,t[n])}return e},Ge.set=function(t,e){return Ri(this),this.c=null,Fi(this,t=Ui(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ge.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ge.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var qi=function(){return function(t,e){this.b=t,this.a=e}}();function Bi(t){this.g=t||zi,t=Qe.PerformanceNavigationTiming?0<(t=Qe.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Qe.ia&&Qe.ia.ya&&Qe.ia.ya()&&Qe.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var zi=10;function Hi(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Gi(t){return t.b?1:t.a?t.a.size:0}function Ki(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function $i(t,e){t.a?t.a.add(e):t.b=e}function Qi(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Wi(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=He(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return hn(t.c)}function Ji(){}function Xi(){this.a=new Ji}function Yi(t,e,n){var r=n||"";try{pi(t,function(t,n){var i=t;Xe(t)&&(i=pr(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(im){throw e.push(r+"type="+encodeURIComponent("_badmap")),im}}function Zi(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Bi.prototype.cancel=function(){var t,e;if(this.c=Wi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=He(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ji.prototype.stringify=function(t){return Qe.JSON.stringify(t,void 0)},Ji.prototype.parse=function(t){return Qe.JSON.parse(t,void 0)};var ts=Qe.JSON.parse;function es(t){hr.call(this),this.headers=new gi,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ns,this.D=this.F=!1}on(es,hr);var ns="",rs=/^https?$/i,is=["POST","PUT"];function ss(t){return"content-type"==t.toLowerCase()}function os(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,as(t),cs(t)}function as(t){t.u||(t.u=!0,dr(t,"complete"),dr(t,"error"))}function us(t){if(t.b&&void 0!==$e&&(!t.s[1]||4!=hs(t)||2!=t.W()))if(t.l&&4==hs(t))xr(t.za,0,t);else if(dr(t,"readystatechange"),4==hs(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(bi)[1]||null;if(!s&&Qe.self&&Qe.self.location){var o=Qe.self.location.protocol;s=o.substr(0,o.length-1)}i=!rs.test(s?s.toLowerCase():"")}e=i}if(e)dr(t,"complete"),dr(t,"success");else{t.h=6;try{var a=2<hs(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",as(t)}}finally{cs(t)}}}function cs(t,e){if(t.a){ls(t);var n=t.a,r=t.s[0]?We:null;t.a=null,t.s=null,e||dr(t,"ready");try{n.onreadystatechange=r}catch(im){}}}function ls(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Qe.clearTimeout(t.m),t.m=null)}function hs(t){return t.a?t.a.readyState:0}function ds(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return vn(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ei(t,e,n))}function fs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ps(t){this.pa=0,this.g=[],this.c=new Dr,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=fs("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=fs("baseRetryDelayMs",5e3,t),this.Ra=fs("retryDelaySeedMs",1e4,t),this.Ma=fs("forwardChannelMaxRetries",2,t),this.ma=fs("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Bi(t&&t.concurrentRequestLimit),this.ka=new Xi,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function gs(t){if(ys(t),3==t.v){var e=t.R++,n=_i(t.B);Ei(n,"SID",t.J),Ei(n,"RID",e),Ei(n,"TYPE","terminate"),ws(t,n),(e=new ti(t,t.c,e,void 0)).H=2,e.i=Ti(_i(n)),n=!1,Qe.navigator&&Qe.navigator.sendBeacon&&(n=Qe.navigator.sendBeacon(e.i.toString(),"")),!n&&Qe.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ps(e.g,null),e.a.ba(e.i)),e.u=sn(),ui(e)}js(t)}function ms(t){t.a&&(Es(t),t.a.cancel(),t.a=null)}function ys(t){ms(t),t.j&&(Qe.clearTimeout(t.j),t.j=null),xs(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Qe.clearTimeout(t.h),t.h=null)}function bs(t,e){t.g.push(new qi(t.Oa++,e)),3==t.v&&vs(t)}function vs(t){Hi(t.b)||t.h||(t.h=!0,wr(t.Ba,t),t.u=0)}function _s(t,e){var n;n=e?e.f:t.R++;var r=_i(t.B);Ei(r,"SID",t.J),Ei(r,"RID",n),Ei(r,"AID",t.P),ws(t,r),t.i&&t.l&&ds(r,t.i,t.l),n=new ti(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Os(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),$i(t.b,n),ii(n,r,e)}function ws(t,e){t.f&&pi({},function(t,n){Ei(e,n,t)})}function Os(t,e,n){n=Math.min(t.g.length,n);var r=t.f?nn(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{Yi(l,o,"req"+c+"_")}catch(ho){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Cs(t){t.a||t.j||(t.T=1,wr(t.Aa,t),t.o=0)}function Ss(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Hr(nn(t.Aa,t),ks(t,t.o)),t.o++,0))}function Es(t){null!=t.s&&(Qe.clearTimeout(t.s),t.s=null)}function Ts(t){t.a=new ti(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=_i(t.la);Ei(e,"RID","rpc"),Ei(e,"SID",t.J),Ei(e,"CI",t.H?"0":"1"),Ei(e,"AID",t.P),ws(t,e),Ei(e,"TYPE","xmlhttp"),t.i&&t.l&&ds(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ti(_i(e)),n.j=null,n.I=!0,si(n,t)}function xs(t){null!=t.m&&(Qe.clearTimeout(t.m),t.m=null)}function Is(t,e){var n=null;if(t.a==e){xs(t),Es(t),t.a=null;var r=2}else{if(!Ki(t.b,e))return;n=e.s,Qi(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=sn()-e.u;var i=t.u;dr(r=Fr(),new zr(r,n,e,i)),vs(t)}else Cs(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Gi(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Hr(nn(t.Ba,t,e),ks(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ss(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:As(t,5);break;case 4:As(t,10);break;case 3:As(t,6);break;default:As(t,2)}}function ks(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function As(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=nn(t.Ya,t);n||(n=new vi("//www.google.com/images/cleardot.gif"),Qe.location&&"http"==Qe.location.protocol||wi(n,"https"),Ti(n)),function(t,e){var n=new Dr;if(Qe.Image){var r=new Image;r.onload=rn(Zi,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rn(Zi,n,r,"TestLoadImage: error",!1,e),r.onabort=rn(Zi,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rn(Zi,n,r,"TestLoadImage: timeout",!1,e),Qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Br(2);t.v=0,t.f&&t.f.ra(e),js(t),ys(t)}function js(t){t.v=0,t.I=-1,t.f&&(0==Wi(t.b).length&&0==t.g.length||(t.b.c.length=0,hn(t.g),t.g.length=0),t.f.qa())}function Ns(t,e,n){var r=function(t){return t instanceof vi?_i(t):new vi(t,void 0)}(n);if(""!=r.c)e&&Oi(r,e+"."+r.c),Ci(r,r.h);else{var i=Qe.location;r=function(t,e,n,r){var i=new vi(null,void 0);return t&&wi(i,t),e&&Oi(i,e),n&&Ci(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&vn(t.V,function(t,e){Ei(r,e,t)}),n=t.na,(e=t.A)&&n&&Ei(r,e,n),Ei(r,"VER",t.ha),ws(t,r),r}function Ps(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new es(t.Na)).F=t.C,e}function Ds(){}function Ms(){if(xn&&!(10<=Number(Fn)))throw Error("Environmental error: no available transport.")}function Rs(t,e){hr.call(this),this.a=new ps(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!dn(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!dn(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Vs(this)}function Ls(t){Xr.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Fs(){Yr.call(this),this.status=1}function Vs(t){this.a=t}(Ge=es.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Wr),this.a.onreadystatechange=nn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void os(this,s)}t=n||"";var i=new gi(this.headers);r&&pi(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=ss,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Qe.FormData&&t instanceof Qe.FormData,!(0<=un(is,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ls(this),0<this.o&&((this.D=function(t){return xn&&Ln(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=nn(this.xa,this)):this.m=xr(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){os(this,s)}},Ge.xa=function(){void 0!==$e&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,dr(this,"timeout"),this.abort(8))},Ge.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,dr(this,"complete"),dr(this,"abort"),cs(this))},Ge.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),cs(this,!0)),es.X.G.call(this)},Ge.za=function(){this.j||(this.A||this.l||this.g?us(this):this.Ua())},Ge.Ua=function(){us(this)},Ge.W=function(){try{return 2<hs(this)?this.a.status:-1}catch(En){return-1}},Ge.$=function(){try{return this.a?this.a.responseText:""}catch(En){return""}},Ge.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ts(e)}},Ge.ua=function(){return this.h},Ge.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ge=ps.prototype).ha=8,Ge.v=1,Ge.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ti(this,this.c,t,void 0),r=this.l;if(this.O&&(r?On(r=_n(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Os(this,n,e),Ei(i=_i(this.B),"RID",t),Ei(i,"CVER",22),this.A&&Ei(i,"X-HTTP-Session-Id",this.A),ws(this,i),this.i&&r&&ds(i,this.i,r),$i(this.b,n),this.Ia&&Ei(i,"TYPE","init"),this.da?(Ei(i,"$req",e),Ei(i,"SID","null"),n.U=!0,ii(n,i,null)):ii(n,i,e),this.v=2}}else 3==this.v&&(t?_s(this,t):0==this.g.length||Hi(this.b)||_s(this))},Ge.Aa=function(){if(this.j=null,Ts(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Hr(nn(this.Ta,this),t)}},Ge.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Br(10),ms(this),Ts(this))},Ge.Sa=function(){null!=this.m&&(this.m=null,ms(this),Ss(this),Br(19))},Ge.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Br(2)):(this.c.info("Failed to ping google.com"),Br(1))},(Ge=Ds.prototype).ta=function(){},Ge.sa=function(){},Ge.ra=function(){},Ge.qa=function(){},Ge.Ja=function(){},Ms.prototype.a=function(t,e){return new Rs(t,e)},on(Rs,hr),Rs.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Br(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ns(t,null,t.fa),vs(t)},Rs.prototype.close=function(){gs(this.a)},Rs.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,bs(this.a,e)}else this.l?((e={}).__data__=pr(t),bs(this.a,e)):bs(this.a,t)},Rs.prototype.G=function(){this.a.f=null,delete this.f,gs(this.a),delete this.a,Rs.X.G.call(this)},on(Ls,Xr),on(Fs,Yr),on(Vs,Ds),Vs.prototype.ta=function(){dr(this.a,"a")},Vs.prototype.sa=function(t){dr(this.a,new Ls(t))},Vs.prototype.ra=function(t){dr(this.a,new Fs(t))},Vs.prototype.qa=function(){dr(this.a,"b")},Ms.prototype.createWebChannel=Ms.prototype.a,Rs.prototype.send=Rs.prototype.h,Rs.prototype.open=Rs.prototype.g,Rs.prototype.close=Rs.prototype.close,Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,Kr.COMPLETE="complete",Qr.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",hr.prototype.listen=hr.prototype.va,es.prototype.listenOnce=es.prototype.wa,es.prototype.getLastError=es.prototype.Qa,es.prototype.getLastErrorCode=es.prototype.ua,es.prototype.getStatus=es.prototype.W,es.prototype.getResponseJson=es.prototype.Pa,es.prototype.getResponseText=es.prototype.$,es.prototype.send=es.prototype.ba;var Us=Gr,qs=Kr,Bs=Rr,zs=Qr,Hs=es,Gs=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Gs.o=-1;var Ks=new qe.b("@firebase/firestore");function $s(){return Ks.logLevel}function Qs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ks.logLevel<=qe.a.DEBUG){var r=e.map(Xs);Ks.debug.apply(Ks,Object(F.f)(["Firestore (8.3.1): "+t],r))}}function Ws(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ks.logLevel<=qe.a.ERROR){var r=e.map(Xs);Ks.error.apply(Ks,Object(F.f)(["Firestore (8.3.1): "+t],r))}}function Js(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ks.logLevel<=qe.a.WARN){var r=e.map(Xs);Ks.warn.apply(Ks,Object(F.f)(["Firestore (8.3.1): "+t],r))}}function Xs(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(im){return t}}function Ys(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw Ws(e),new Error(e)}function Zs(t,e){t||Ys()}function to(t,e){return t}function eo(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var no=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=eo(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ro(t,e){return t<e?-1:t>e?1:0}function io(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function so(t){return t+"\0"}function oo(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uo(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function co(t){return null==t}function lo(t){return 0===t&&1/t==-1/0}function ho(t){return"number"==typeof t&&Number.isInteger(t)&&!lo(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var fo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},po=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(F.c)(e,t),e}(Error),go=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ys(),void 0===n?n=t.length-e:n>t.length-e&&Ys(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new po(fo.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(go),yo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return yo.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new po(fo.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new po(fo.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new po(fo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new po(fo.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(go),vo=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(mo.fromString(e))},t.fromName=function(e){return new t(mo.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===mo.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return mo.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new mo(e.slice()))},t}(),_o=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ro(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();_o.EMPTY_BYTE_STRING=new _o("");var wo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(t){if(Zs(!!t),"string"==typeof t){var e=0,n=wo.exec(t);if(Zs(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Co(t.seconds),nanos:Co(t.nanos)}}function Co(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function So(t){return"string"==typeof t?_o.fromBase64String(t):_o.fromUint8Array(t)}var Eo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new po(fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new po(fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new po(fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new po(fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ro(this.nanoseconds,t.nanoseconds):ro(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();function To(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xo(t){var e=t.mapValue.fields.__previous_value__;return To(e)?xo(e):e}function Io(t){var e=Oo(t.mapValue.fields.__local_write_time__.timestampValue);return new Eo(e.seconds,e.nanos)}function ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?To(t)?4:10:Ys()}function Ao(t,e){var n=ko(t);if(n!==ko(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Io(t).isEqual(Io(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Oo(t.timestampValue),r=Oo(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return So(t.bytesValue).isEqual(So(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Co(t.geoPointValue.latitude)===Co(e.geoPointValue.latitude)&&Co(t.geoPointValue.longitude)===Co(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Co(t.integerValue)===Co(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Co(t.doubleValue),r=Co(e.doubleValue);return n===r?lo(n)===lo(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return io(t.arrayValue.values||[],e.arrayValue.values||[],Ao);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(oo(n)!==oo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ao(n[i],r[i])))return!1;return!0}(t,e);default:return Ys()}}function jo(t,e){return void 0!==(t.values||[]).find(function(t){return Ao(t,e)})}function No(t,e){var n=ko(t),r=ko(e);if(n!==r)return ro(n,r);switch(n){case 0:return 0;case 1:return ro(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Co(t.integerValue||t.doubleValue),r=Co(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Po(t.timestampValue,e.timestampValue);case 4:return Po(Io(t),Io(e));case 5:return ro(t.stringValue,e.stringValue);case 6:return function(t,e){var n=So(t),r=So(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=ro(n[i],r[i]);if(0!==s)return s}return ro(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ro(Co(t.latitude),Co(e.latitude));return 0!==n?n:ro(Co(t.longitude),Co(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=No(n[i],r[i]);if(s)return s}return ro(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=ro(r[o],s[o]);if(0!==a)return a;var u=No(n[r[o]],i[s[o]]);if(0!==u)return u}return ro(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Ys()}}function Po(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ro(t,e);var n=Oo(t),r=Oo(e),i=ro(n.seconds,r.seconds);return 0!==i?i:ro(n.nanos,r.nanos)}function Do(t){return Mo(t)}function Mo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Oo(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?So(t.bytesValue).toBase64():"referenceValue"in t?vo.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Mo(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Mo(t.fields[s])}return e+"}"}(t.mapValue):Ys();var e}function Ro(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Lo(t){return!!t&&"integerValue"in t}function Fo(t){return!!t&&"arrayValue"in t}function Vo(t){return!!t&&"nullValue"in t}function Uo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qo(t){return!!t&&"mapValue"in t}var Bo=function(t,e){this.key=t,this.version=e},zo=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).objectValue=r,s.hasLocalMutations=!!i.hasLocalMutations,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(F.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Bo),Ho=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(F.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bo),Go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Bo),Ko=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function $o(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Ko(t,e,n,r,i,s,o)}function Qo(t){var e=to(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Do(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),co(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=aa(e.startAt)),e.endAt&&(n+="|ub:",n+=aa(e.endAt)),e.h=n}return e.h}function Wo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ca(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Ao(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ha(t.startAt,e.startAt)&&ha(t.endAt,e.endAt)}function Jo(t){return vo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Xo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(F.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Yo(t,n,r):"array-contains"===n?new na(t,r):"in"===n?new ra(t,r):"not-in"===n?new ia(t,r):"array-contains-any"===n?new sa(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Zo(t,n):new ta(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(No(e,this.value)):null!==e&&ko(this.value)===ko(e)&&this.m(No(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ys()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Yo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=vo.fromName(r.referenceValue),i}return Object(F.c)(e,t),e.prototype.matches=function(t){var e=vo.comparator(t.key,this.key);return this.m(e)},e}(Xo),Zo=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ea(0,n),r}return Object(F.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xo),ta=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ea(0,n),r}return Object(F.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xo);function ea(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return vo.fromName(t.referenceValue)})}var na=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(F.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Fo(e)&&jo(e.arrayValue,this.value)},e}(Xo),ra=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(F.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&jo(this.value.arrayValue,e)},e}(Xo),ia=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(F.c)(e,t),e.prototype.matches=function(t){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!jo(this.value.arrayValue,e)},e}(Xo),sa=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(F.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Fo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return jo(e.value.arrayValue,t)})},e}(Xo),oa=function(t,e){this.position=t,this.before=e};function aa(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Do(t)}).join(",")}var ua=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ca(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function la(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?vo.comparator(vo.fromName(o.referenceValue),n.key):No(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ha(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ao(t.position[n],e.position[n]))return!1;return!0}var da=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function fa(t,e,n,r,i,s,o,a){return new da(t,e,n,r,i,s,o,a)}function pa(t){return new da(t)}function ga(t){return!co(t.limit)&&"F"===t.limitType}function ma(t){return!co(t.limit)&&"L"===t.limitType}function ya(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ba(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function va(t){return null!==t.collectionGroup}function _a(t){var e=to(t);if(null===e.p){e.p=[];var n=ba(e),r=ya(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new ua(n)),e.p.push(new ua(bo.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ua(bo.keyField(),u))}}}return e.p}function wa(t){var e=to(t);if(!e.T)if("F"===e.limitType)e.T=$o(e.path,e.collectionGroup,_a(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=_a(e);r<i.length;r++){var s=i[r];n.push(new ua(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new oa(e.endAt.position,!e.endAt.before):null,a=e.startAt?new oa(e.startAt.position,!e.startAt.before):null;e.T=$o(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Oa(t,e,n){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ca(t,e){return Wo(wa(t),wa(e))&&t.limitType===e.limitType}function Sa(t){return Qo(wa(t))+"|lt:"+t.limitType}function Ea(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Do(e.value);var e}).join(", ")+"]"),co(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+aa(t.startAt)),t.endAt&&(e+=", endAt: "+aa(t.endAt)),"Target("+e+")"}(wa(t))+"; limitType="+t.limitType+")"}function Ta(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):vo.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!la(t.startAt,_a(t),e)||t.endAt&&la(t.endAt,_a(t),e))}(t,e)}function xa(t){return function(e,n){for(var r=!1,i=0,s=_a(t);i<s.length;i++){var o=s[i],a=Ia(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Ia(t,e,n){var r=t.field.isKeyField()?vo.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?No(r,i):Ys()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ys()}}var ka=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Eo(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Aa=function(){function t(t){this.fields=t,t.sort(bo.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return io(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),ja=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!qo(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return Ao(this.proto,t.proto)},t}(),Na=function(){function t(t){void 0===t&&(t=ja.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===ko(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(bo.emptyPath(),this.A);return null!=t?new ja(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),s=qo(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.P(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function Pa(t){var e=[];return ao(t.fields||{},function(t,n){var r=new bo([t]);if(qo(n)){var i=Pa(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Aa(e)}function Da(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lo(e)?"-0":e}}function Ma(t){return{integerValue:""+t}}function Ra(t,e){return ho(e)?Ma(e):Da(t,e)}var La=function(){this._=void 0};function Fa(t,e,n){return t instanceof qa?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ba?za(t,e):t instanceof Ha?Ga(t,e):function(t,e){var n=Ua(t,e),r=$a(n)+$a(t.S);return Lo(n)&&Lo(t.S)?Ma(r):Da(t.D,r)}(t,e)}function Va(t,e,n){return t instanceof Ba?za(t,e):t instanceof Ha?Ga(t,e):n}function Ua(t,e){return t instanceof Ka?Lo(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var qa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e}(La),Ba=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(F.c)(e,t),e}(La);function za(t,e){for(var n=Qa(e),r=function(t){n.some(function(e){return Ao(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ha=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(F.c)(e,t),e}(La);function Ga(t,e){for(var n=Qa(e),r=function(t){n=n.filter(function(e){return!Ao(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Ka=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(F.c)(e,t),e}(La);function $a(t){return Co(t.integerValue||t.doubleValue)}function Qa(t){return Fo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Wa=function(t,e){this.field=t,this.transform=e},Ja=function(t,e){this.version=t,this.transformResults=e},Xa=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ya(t,e){return void 0!==t.updateTime?e instanceof zo&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof zo}var Za=function(){};function tu(t,e,n){return t instanceof su?function(t,e,n){var r=t.value,i=uu(t.fieldTransforms,e,n.transformResults);return r=lu(t.fieldTransforms,r,i),new zo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ou?function(t,e,n){if(!Ya(t.precondition,e))return new Go(t.key,n.version);var r=au(t,e,uu(t.fieldTransforms,e,n.transformResults));return new zo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Ho(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function eu(t,e,n){return t instanceof su?function(t,e,n){if(!Ya(t.precondition,e))return e;var r=t.value,i=cu(t.fieldTransforms,n,e);r=lu(t.fieldTransforms,r,i);var s=iu(e);return new zo(t.key,s,r,{hasLocalMutations:!0})}(t,e,n):t instanceof ou?function(t,e,n){if(!Ya(t.precondition,e))return e;var r=iu(e),i=au(t,e,cu(t.fieldTransforms,n,e));return new zo(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return Ya(t.precondition,e)?new Ho(t.key,ka.min()):e}(t,e)}function nu(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof zo?e.field(s.field):void 0,a=Ua(s.transform,o||null);null!=a&&(n=null==n?(new Na).set(s.field,a):n.set(s.field,a))}return n?n.v():null}(t.fieldTransforms,e)}function ru(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&io(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ba&&e instanceof Ba||t instanceof Ha&&e instanceof Ha?io(t.elements,e.elements,Ao):t instanceof Ka&&e instanceof Ka?Ao(t.S,e.S):t instanceof qa&&e instanceof qa}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function iu(t){return t instanceof zo?t.version:ka.min()}var su=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(F.c)(e,t),e}(Za),ou=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(F.c)(e,t),e}(Za);function au(t,e,n){var r;return r=function(t,e){var n=new Na(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof zo?e.data():ja.empty()),lu(t.fieldTransforms,r,n)}function uu(t,e,n){var r=[];Zs(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof zo&&(a=e.field(s.field)),r.push(Va(o,a,n[i]))}return r}function cu(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=null;n instanceof zo&&(u=n.field(o.field)),r.push(Fa(a,u,e))}return r}function lu(t,e,n){for(var r=new Na(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.v()}var hu,du,fu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(F.c)(e,t),e}(Za),pu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(F.c)(e,t),e}(Za),gu=function(t){this.count=t};function mu(t){switch(t){case fo.OK:return Ys();case fo.CANCELLED:case fo.UNKNOWN:case fo.DEADLINE_EXCEEDED:case fo.RESOURCE_EXHAUSTED:case fo.INTERNAL:case fo.UNAVAILABLE:case fo.UNAUTHENTICATED:return!1;case fo.INVALID_ARGUMENT:case fo.NOT_FOUND:case fo.ALREADY_EXISTS:case fo.PERMISSION_DENIED:case fo.FAILED_PRECONDITION:case fo.ABORTED:case fo.OUT_OF_RANGE:case fo.UNIMPLEMENTED:case fo.DATA_LOSS:return!0;default:return Ys()}}function yu(t){if(void 0===t)return Ws("GRPC error has no .code"),fo.UNKNOWN;switch(t){case hu.OK:return fo.OK;case hu.CANCELLED:return fo.CANCELLED;case hu.UNKNOWN:return fo.UNKNOWN;case hu.DEADLINE_EXCEEDED:return fo.DEADLINE_EXCEEDED;case hu.RESOURCE_EXHAUSTED:return fo.RESOURCE_EXHAUSTED;case hu.INTERNAL:return fo.INTERNAL;case hu.UNAVAILABLE:return fo.UNAVAILABLE;case hu.UNAUTHENTICATED:return fo.UNAUTHENTICATED;case hu.INVALID_ARGUMENT:return fo.INVALID_ARGUMENT;case hu.NOT_FOUND:return fo.NOT_FOUND;case hu.ALREADY_EXISTS:return fo.ALREADY_EXISTS;case hu.PERMISSION_DENIED:return fo.PERMISSION_DENIED;case hu.FAILED_PRECONDITION:return fo.FAILED_PRECONDITION;case hu.ABORTED:return fo.ABORTED;case hu.OUT_OF_RANGE:return fo.OUT_OF_RANGE;case hu.UNIMPLEMENTED:return fo.UNIMPLEMENTED;case hu.DATA_LOSS:return fo.DATA_LOSS;default:return Ys()}}(du=hu||(hu={}))[du.OK=0]="OK",du[du.CANCELLED=1]="CANCELLED",du[du.UNKNOWN=2]="UNKNOWN",du[du.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",du[du.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",du[du.NOT_FOUND=5]="NOT_FOUND",du[du.ALREADY_EXISTS=6]="ALREADY_EXISTS",du[du.PERMISSION_DENIED=7]="PERMISSION_DENIED",du[du.UNAUTHENTICATED=16]="UNAUTHENTICATED",du[du.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",du[du.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",du[du.ABORTED=10]="ABORTED",du[du.OUT_OF_RANGE=11]="OUT_OF_RANGE",du[du.UNIMPLEMENTED=12]="UNIMPLEMENTED",du[du.INTERNAL=13]="INTERNAL",du[du.UNAVAILABLE=14]="UNAVAILABLE",du[du.DATA_LOSS=15]="DATA_LOSS";var bu=function(){function t(t,e){this.comparator=t,this.root=e||_u.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_u.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_u.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new vu(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new vu(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new vu(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new vu(this.root,t,this.comparator,!0)},t}(),vu=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),_u=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ys();if(this.right.isRed())throw Ys();var t=this.left.check();if(t!==this.right.check())throw Ys();return t+(this.isRed()?0:1)},t}();_u.EMPTY=null,_u.RED=!0,_u.BLACK=!1,_u.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ys()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ys()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ys()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ys()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ys()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new _u(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var wu=function(){function t(t){this.comparator=t,this.data=new bu(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ou(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ou(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ou=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Cu=new bu(vo.comparator);function Su(){return Cu}function Eu(){return Su()}var Tu=new bu(vo.comparator);function xu(){return Tu}var Iu=new bu(vo.comparator);function ku(){return Iu}var Au=new wu(vo.comparator);function ju(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Au,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Nu=new wu(ro);function Pu(){return Nu}var Du=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(ka.min(),r,Pu(),Su(),ju())},t}(),Mu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_o.EMPTY_BYTE_STRING,n,ju(),ju(),ju())},t}(),Ru=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},Lu=function(t,e){this.targetId=t,this.$=e},Fu=function(t,e,n,r){void 0===n&&(n=_o.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Vu=function(){function t(){this.F=0,this.O=Bu(),this.k=_o.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=ju(),e=ju(),n=ju();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ys()}}),new Mu(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Bu()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Uu=function(){function t(t){this.X=t,this.Z=new Map,this.tt=Su(),this.et=qu(),this.nt=new wu(ro)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof zo?this.it(r,t.N):t.N instanceof Ho&&this.rt(r,t.key,t.N)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.rt(r=s[i],t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:Ys()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(Jo(i))if(0===n){var s=new vo(i.path);this.rt(e,s,new Ho(s,ka.min()))}else Zs(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var s=e.lt(i);if(s){if(r.current&&Jo(s.target)){var o=new vo(s.target.path);null!==e.tt.get(o)||e.wt(i,o)||e.rt(i,o,new Ho(o,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=ju();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Du(t,n,this.nt,this.tt,r);return this.tt=Su(),this.et=qu(),this.nt=new wu(ro),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Vu,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new wu(ro),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||Qs("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Vu),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function qu(){return new bu(vo.comparator)}function Bu(){return new bu(vo.comparator)}var zu={asc:"ASCENDING",desc:"DESCENDING"},Hu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gu=function(t,e){this.databaseId=t,this.V=e};function Ku(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function $u(t,e){return t.V?e.toBase64():e.toUint8Array()}function Qu(t,e){return Ku(t,e.toTimestamp())}function Wu(t){return Zs(!!t),ka.fromTimestamp(function(t){var e=Oo(t);return new Eo(e.seconds,e.nanos)}(t))}function Ju(t,e){return function(t){return new mo(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Xu(t){var e=mo.fromString(t);return Zs(wc(e)),e}function Yu(t,e){return Ju(t.databaseId,e.path)}function Zu(t,e){var n=Xu(e);if(n.get(1)!==t.databaseId.projectId)throw new po(fo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new po(fo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new vo(rc(n))}function tc(t,e){return Ju(t.databaseId,e)}function ec(t){var e=Xu(t);return 4===e.length?mo.emptyPath():rc(e)}function nc(t){return new mo(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rc(t){return Zs(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ic(t,e,n){return{name:Yu(t,e),fields:n.proto.mapValue.fields}}function sc(t,e,n){var r=Zu(t,e.name),i=Wu(e.updateTime),s=new ja({mapValue:{fields:e.fields}});return new zo(r,i,s,{hasCommittedMutations:!!n})}function oc(t,e){var n;if(e instanceof su)n={update:ic(t,e.key,e.value)};else if(e instanceof fu)n={delete:Yu(t,e.key)};else if(e instanceof ou)n={update:ic(t,e.key,e.data),updateMask:_c(e.fieldMask)};else{if(!(e instanceof pu))return Ys();n={verify:Yu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof qa)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ba)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ha)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ka)return{fieldPath:e.field.canonicalString(),increment:n.S};throw Ys()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Qu(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ys()}(t,e.precondition)),n}function ac(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Xa.updateTime(Wu(t.updateTime)):void 0!==t.exists?Xa.exists(t.exists):Xa.none()}(e.currentDocument):Xa.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Zs("REQUEST_TIME"===e.setToServerValue),n=new qa):"appendMissingElements"in e?n=new Ba(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ha(e.removeAllFromArray.values||[]):"increment"in e?n=new Ka(t,e.increment):Ys();var r=bo.fromServerFormat(e.fieldPath);return new Wa(r,n)}(t,e)}):[];if(e.update){var i=Zu(t,e.update.name),s=new ja({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Aa((t.fieldPaths||[]).map(function(t){return bo.fromServerFormat(t)}))}(e.updateMask);return new ou(i,s,o,n,r)}return new su(i,s,n,r)}if(e.delete){var a=Zu(t,e.delete);return new fu(a,n)}if(e.verify){var u=Zu(t,e.verify);return new pu(u,n)}return Ys()}function uc(t,e){return{documents:[tc(t,e.path)]}}function cc(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Uo(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NAN"}};if(Vo(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Uo(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NOT_NAN"}};if(Vo(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mc(t.field),op:gc(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:mc(t.field),direction:pc(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.V||co(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=dc(e.startAt)),e.endAt&&(n.structuredQuery.endAt=dc(e.endAt)),n}function lc(t){var e=ec(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Zs(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=hc(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ua(yc(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return co(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=fc(n.startAt));var l=null;return n.endAt&&(l=fc(n.endAt)),fa(e,i,a,o,u,"F",c,l)}function hc(t){return t?void 0!==t.unaryFilter?[vc(t)]:void 0!==t.fieldFilter?[bc(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return hc(t)}).reduce(function(t,e){return t.concat(e)}):Ys():[]}function dc(t){return{before:t.before,values:t.position}}function fc(t){return new oa(t.values||[],!!t.before)}function pc(t){return zu[t]}function gc(t){return Hu[t]}function mc(t){return{fieldPath:t.canonicalString()}}function yc(t){return bo.fromServerFormat(t.fieldPath)}function bc(t){return Xo.create(yc(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ys()}}(t.fieldFilter.op),t.fieldFilter.value)}function vc(t){switch(t.unaryFilter.op){case"IS_NAN":var e=yc(t.unaryFilter.field);return Xo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=yc(t.unaryFilter.field);return Xo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=yc(t.unaryFilter.field);return Xo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=yc(t.unaryFilter.field);return Xo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ys()}}function _c(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function wc(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Oc(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Sc(e)),e=Cc(t.get(n),e);return Sc(e)}function Cc(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Sc(t){return t+"\x01\x01"}function Ec(t){var e=t.length;if(Zs(e>=2),2===e)return Zs("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),mo.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&Ys(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:Ys()}s=o+2}return new mo(r)}var Tc=function(t,e){this.seconds=t,this.nanoseconds=e},xc=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};xc.store="owner",xc.key="owner";var Ic=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ic.store="mutationQueues",Ic.keyPath="userId";var kc=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};kc.store="mutations",kc.keyPath="batchId",kc.userMutationsIndex="userMutationsIndex",kc.userMutationsKeyPath=["userId","batchId"];var Ac=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Oc(e)]},t.key=function(t,e,n){return[t,Oc(e),n]},t}();Ac.store="documentMutations",Ac.PLACEHOLDER=new Ac;var jc=function(t,e){this.path=t,this.readTime=e},Nc=function(t,e){this.path=t,this.version=e},Pc=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Pc.store="remoteDocuments",Pc.readTimeIndex="readTimeIndex",Pc.readTimeIndexPath="readTime",Pc.collectionReadTimeIndex="collectionReadTimeIndex",Pc.collectionReadTimeIndexPath=["parentPath","readTime"];var Dc=function(t){this.byteSize=t};Dc.store="remoteDocumentGlobal",Dc.key="remoteDocumentGlobalKey";var Mc=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Mc.store="targets",Mc.keyPath="targetId",Mc.queryTargetsIndexName="queryTargetsIndex",Mc.queryTargetsKeyPath=["canonicalId","targetId"];var Rc=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Rc.store="targetDocuments",Rc.keyPath=["targetId","path"],Rc.documentTargetsIndex="documentTargetsIndex",Rc.documentTargetsKeyPath=["path","targetId"];var Lc=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Lc.key="targetGlobalKey",Lc.store="targetGlobal";var Fc=function(t,e){this.collectionId=t,this.parent=e};Fc.store="collectionParents",Fc.keyPath=["collectionId","parent"];var Vc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Vc.store="clientMetadata",Vc.keyPath="clientId";var Uc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Uc.store="bundles",Uc.keyPath="bundleId";var qc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qc.store="namedQueries",qc.keyPath="name";var Bc=Object(F.f)(Object(F.f)([],Object(F.f)(Object(F.f)([],Object(F.f)(Object(F.f)([],Object(F.f)(Object(F.f)([],[Ic.store,kc.store,Ac.store,Pc.store,Mc.store,xc.store,Lc.store,Rc.store]),[Vc.store])),[Dc.store])),[Fc.store])),[Uc.store,qc.store]),zc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hc=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Gc=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Kc=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ys(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),$c=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Gc,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new Jc(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=el(e.target.error);n.gt.reject(new Jc(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Jc(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(Qs("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Yc(e)},t}(),Qc=function(){function t(e,n,r){this.name=e,this.version=n,this.Tt=r,12.2===t.It(Object(Be.g)())&&Ws("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Qs("SimpleDb","Removing database:",t),Zc(window.indexedDB.deleteDatabase(t)).toPromise()},t.At=function(){if("undefined"==typeof indexedDB)return!1;if(t.Rt())return!0;var e=Object(Be.g)(),n=t.It(e),r=0<n&&n<10,i=t.bt(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Rt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.vt)},t.Pt=function(t,e){return t.store(e)},t.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Vt=function(t){return Object(F.b)(this,void 0,void 0,function(){var e,n=this;return Object(F.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Qs("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Jc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new po(fo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Jc(t,n))},i.onupgradeneeded=function(t){Qs("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Tt.St(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Qs("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},t.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(F.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(F.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(F.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Vt(t)];case 2:return a.db=h.sent(),e=$c.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Kc.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.Et];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return Qs("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Wc=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return Zc(this.xt.delete())},t}(),Jc=function(t){function e(e,n){var r=this;return(r=t.call(this,fo.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(F.c)(e,t),e}(po);function Xc(t){return"IndexedDbTransactionError"===t.name}var Yc=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Qs("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Qs("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Zc(n)},t.prototype.add=function(t){return Qs("SimpleDb","ADD",this.store.name,t,t),Zc(this.store.add(t))},t.prototype.get=function(t){var e=this;return Zc(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Qs("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Qs("SimpleDb","DELETE",this.store.name,t),Zc(this.store.delete(t))},t.prototype.count=function(){return Qs("SimpleDb","COUNT",this.store.name),Zc(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){Qs("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Kc(function(n,r){e.onerror=function(t){var e=el(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new Kc(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Wc(i),o=e(i.primaryKey,i.value,s);if(o instanceof Kc){var a=o.catch(function(t){return s.done(),Kc.reject(t)});n.push(a)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}else r()}}).next(function(){return Kc.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Zc(t){return new Kc(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=el(t.target.error);n(e)}})}var tl=!1;function el(t){var e=Qc.It(Object(Be.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new po("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return tl||(tl=!0,setTimeout(function(){throw r},0)),r}}return t}var nl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(F.c)(e,t),e}(Hc);function rl(t,e){var n=to(t);return Qc.Pt(n.Qt,e)}var il=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=tu(s,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=eu(o,e,this.localWriteTime));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=eu(o,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},ju())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,function(t,e){return ru(t,e)})&&io(this.baseMutations,t.baseMutations,function(t,e){return ru(t,e)})},t}(),sl=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Zs(e.mutations.length===r.length);for(var i=ku(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ol=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=ka.min()),void 0===s&&(s=ka.min()),void 0===o&&(o=_o.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),al=function(t){this.Kt=t};function ul(t,e){if(e.document)return sc(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=vo.fromSegments(e.noDocument.path),r=fl(e.noDocument.readTime);return new Ho(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=vo.fromSegments(e.unknownDocument.path);return r=fl(e.unknownDocument.version),new Go(i,r)}return Ys()}function cl(t,e,n){var r=ll(n),i=e.key.path.popLast().toArray();if(e instanceof zo){var s=function(t,e){return{name:Yu(t,e.key),fields:e.toProto().mapValue.fields,updateTime:Ku(t,e.version.toTimestamp())}}(t.Kt,e),o=e.hasCommittedMutations;return new Pc(null,null,s,o,r,i)}if(e instanceof Ho){var a=e.key.path.toArray(),u=dl(e.version);return o=e.hasCommittedMutations,new Pc(null,new jc(a,u),null,o,r,i)}if(e instanceof Go){var c=e.key.path.toArray(),l=dl(e.version);return new Pc(new Nc(c,l),null,null,!0,r,i)}return Ys()}function ll(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hl(t){var e=new Eo(t[0],t[1]);return ka.fromTimestamp(e)}function dl(t){var e=t.toTimestamp();return new Tc(e.seconds,e.nanoseconds)}function fl(t){var e=new Eo(t.seconds,t.nanoseconds);return ka.fromTimestamp(e)}function pl(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ac(t.Kt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return ac(t.Kt,e)}),s=Eo.fromMillis(e.localWriteTimeMs);return new il(e.batchId,s,n,i)}function gl(t){var e,n,r=fl(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?fl(t.lastLimboFreeSnapshotVersion):ka.min();return void 0!==t.query.documents?(Zs(1===(n=t.query).documents.length),e=wa(pa(ec(n.documents[0])))):e=function(t){return wa(lc(t))}(t.query),new ol(e,t.targetId,0,t.lastListenSequenceNumber,r,i,_o.fromBase64String(t.resumeToken))}function ml(t,e){var n,r=dl(e.snapshotVersion),i=dl(e.lastLimboFreeSnapshotVersion);n=Jo(e.target)?uc(t.Kt,e.target):cc(t.Kt,e.target);var s=e.resumeToken.toBase64();return new Mc(e.targetId,Qo(e.target),r,s,e.sequenceNumber,i,n)}function yl(t){var e=lc({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Oa(e,e.limit,"L"):e}var bl=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return vl(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:fl(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return vl(t).put({bundleId:(n=e).id,createTime:dl(Wu(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return _l(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:yl(e.bundledQuery),readTime:fl(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return _l(t).put(function(t){return{name:t.name,readTime:dl(Wu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function vl(t){return rl(t,Uc.store)}function _l(t){return rl(t,qc.store)}var wl=function(){function t(){this.Wt=new Ol}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Kc.resolve()},t.prototype.getCollectionParents=function(t,e){return Kc.resolve(this.Wt.getEntries(e))},t}(),Ol=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new wu(mo.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new wu(mo.comparator)).toArray()},t}(),Cl=function(){function t(){this.jt=new Ol}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var s={collectionId:r,parent:Oc(i)};return Sl(t).put(s)}return Kc.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[so(e),""],!1,!0);return Sl(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Ec(s.parent))}return n})},t}();function Sl(t){return rl(t,Fc.store)}var El={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tl=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function xl(t,e,n){var r=t.store(kc.store),i=t.store(Ac.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.qt({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){Zs(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Ac.key(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return Kc.waitFor(s).next(function(){return c})}function Il(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ys();e=t.noDocument}return JSON.stringify(e).length}Tl.DEFAULT_COLLECTION_PERCENTILE=10,Tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tl.DEFAULT=new Tl(41943040,Tl.DEFAULT_COLLECTION_PERCENTILE,Tl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tl.DISABLED=new Tl(-1,0,0);var kl=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return Zs(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jl(t).qt({index:kc.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Nl(t),o=jl(t);return o.add({}).next(function(a){Zs("number"==typeof a);for(var u=new il(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return oc(t.Kt,e)}),i=n.mutations.map(function(e){return oc(t.Kt,e)});return new kc(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new wu(function(t,e){return ro(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Ac.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,Ac.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[a]=u.keys()}),Kc.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return jl(t).get(e).next(function(t){return t?(Zs(t.userId===n.userId),pl(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Kc.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return jl(t).qt({index:kc.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Zs(e.batchId>=r),s=pl(n.D,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jl(t).qt({index:kc.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jl(t).kt(kc.userMutationsIndex,n).next(function(t){return t.map(function(t){return pl(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ac.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Nl(t).qt({range:i},function(r,i,o){var a=r[0],u=r[2],c=Ec(r[1]);if(a===n.userId&&e.path.isEqual(c))return jl(t).get(u).next(function(t){if(!t)throw Ys();Zs(t.userId===n.userId),s.push(pl(n.D,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new wu(ro),i=[];return e.forEach(function(e){var s=Ac.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Nl(t).qt({range:o},function(t,i,s){var o=t[0],a=t[2],u=Ec(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Kc.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Ac.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new wu(ro);return Nl(t).qt({range:o},function(t,e,s){var o=t[0],u=t[2],c=Ec(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Yt(t,a)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(jl(t).get(e).next(function(t){if(null===t)throw Ys();Zs(t.userId===n.userId),r.push(pl(n.D,t))}))}),Kc.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return xl(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),Kc.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Kc.resolve();var r=IDBKeyRange.lowerBound(Ac.prefixForUser(e.userId)),i=[];return Nl(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var s=Ec(t[1]);i.push(s)}else r.done()}).next(function(){Zs(0===i.length)})})},t.prototype.containsKey=function(t,e){return Al(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Pl(t).get(this.userId).next(function(t){return t||new Ic(e.userId,-1,"")})},t}();function Al(t,e,n){var r=Ac.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Nl(t).qt({range:s,Bt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function jl(t){return rl(t,kc.store)}function Nl(t){return rl(t,Ac.store)}function Pl(t){return rl(t,Ic.store)}var Dl=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),Ml=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new Dl(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return ka.fromTimestamp(new Eo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Rl(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return Zs(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Rl(t).qt(function(o,a){var u=gl(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Kc.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Rl(t).qt(function(t,n){var r=gl(n);e(r)})},t.prototype.se=function(t){return Ll(t).get(Lc.key).next(function(t){return Zs(null!==t),t})},t.prototype.ie=function(t,e){return Ll(t).put(Lc.key,e)},t.prototype.re=function(t,e){return Rl(t).put(ml(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Qo(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rl(t).qt({range:r,index:Mc.queryTargetsIndexName},function(t,n,r){var s=gl(n);Wo(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Fl(t);return e.forEach(function(e){var o=Oc(e.path);i.push(s.put(new Rc(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Kc.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Fl(t);return Kc.forEach(e,function(e){var s=Oc(e.path);return Kc.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Fl(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Fl(t),i=ju();return r.qt({range:n,Bt:!0},function(t,e,n){var r=Ec(t[1]),s=new vo(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Oc(e.path),r=IDBKeyRange.bound([n],[so(n)],!1,!0),i=0;return Fl(t).qt({index:Rc.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Rl(t).get(e).next(function(t){return t?gl(t):null})},t}();function Rl(t){return rl(t,Mc.store)}function Ll(t){return rl(t,Lc.store)}function Fl(t){return rl(t,Rc.store)}function Vl(t){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(e){if(t.code!==fo.FAILED_PRECONDITION||t.message!==zc)throw t;return Qs("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Ul(t,e){var n=t[1],r=e[1],i=ro(t[0],e[0]);return 0===i?ro(n,r):i}var ql=function(){function t(t){this.ce=t,this.buffer=new wu(Ul),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ul(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Bl=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;Qs("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(F.b)(e,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Xc(e=n.sent())?(Qs("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Vl(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),zl=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Kc.resolve(Gs.o);var r=new ql(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Qs("LruGarbageCollector","Garbage collection skipped; disabled"),Kc.resolve(El)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Qs("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),El):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Qs("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),$s()<=qe.a.DEBUG&&Qs("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Kc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Hl=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new zl(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Gl(t,n)},t.prototype.removeReference=function(t,e,n){return Gl(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Gl(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Pl(t).Ut(function(r){return Al(t,r,e).next(function(t){return t&&(n=!0),Kc.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.pe(t,function(o,a){if(a<=e){var u=n.Ee(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Fl(t).delete([0,Oc(o.path)])})});i.push(u)}}).next(function(){return Kc.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Gl(t,e)},t.prototype.pe=function(t,e){var n,r=Fl(t),i=Gs.o;return r.qt({index:Rc.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Gs.o&&e(new vo(Ec(n)),i),i=o,n=s):i=Gs.o}).next(function(){i!==Gs.o&&e(new vo(Ec(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Gl(t,e){return Fl(t).put(function(t,e){return new Rc(0,Oc(t.path),e)}(e,t.currentSequenceNumber))}var Kl=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ao(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return uo(this.inner)},t}(),$l=function(){function t(){this.changes=new Kl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:ka.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Kc.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Ql=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return Xl(t).put(Yl(e),n)},t.prototype.removeEntry=function(t,e){var n=Xl(t),r=Yl(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Xl(t).get(Yl(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return Xl(t).get(Yl(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Il(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Eu();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=Eu(),i=new bu(vo.comparator);return this.Re(t,e,function(t,e){var s=n.Ie(e);s?(r=r.insert(t,s),i=i.insert(t,Il(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Kc.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Xl(t).qt({range:r},function(t,e,r){for(var o=vo.fromSegments(t);s&&vo.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ot(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=xu(),s=e.path.length+1,o={};if(n.isEqual(ka.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=ll(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Pc.collectionReadTimeIndex}return Xl(t).qt(o,function(t,n,o){if(t.length===s){var a=ul(r.D,n);e.path.isPrefixOf(a.key.path)?a instanceof zo&&Ta(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Wl(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Jl(t).get(Dc.key).next(function(t){return Zs(!!t),t})},t.prototype.Te=function(t,e){return Jl(t).put(Dc.key,e)},t.prototype.Ie=function(t){if(t){var e=ul(this.D,t);return e instanceof Ho&&e.version.isEqual(ka.min())?null:e}return null},t}(),Wl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Kl(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(F.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new wu(function(t,e){return ro(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Se.get(s);if(o.maybeDocument){var u=cl(e.Ve.D,o.maybeDocument,e.getReadTime(s));i=i.add(s.path.popLast());var c=Il(u);r+=c-a,n.push(e.Ve.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=cl(e.Ve.D,new Ho(s,ka.min()),e.getReadTime(s));n.push(e.Ve.addEntry(t,s,l))}else n.push(e.Ve.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),Kc.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}($l);function Jl(t){return rl(t,Dc.store)}function Xl(t){return rl(t,Pc.store)}function Yl(t){return t.path.toArray()}var Zl=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;Zs(n<r&&n>=0&&r<=11);var s=new $c("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(xc.store)}(t),function(t){t.createObjectStore(Ic.store,{keyPath:Ic.keyPath}),t.createObjectStore(kc.store,{keyPath:kc.keyPath,autoIncrement:!0}).createIndex(kc.userMutationsIndex,kc.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ac.store)}(t),th(t),function(t){t.createObjectStore(Pc.store)}(t));var o=Kc.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Rc.store),t.deleteObjectStore(Mc.store),t.deleteObjectStore(Lc.store)}(t),th(t)),o=o.next(function(){return function(t){var e=t.store(Lc.store),n=new Lc(0,0,ka.min().toTimestamp(),0);return e.put(Lc.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(kc.store).kt().next(function(n){t.deleteObjectStore(kc.store),t.createObjectStore(kc.store,{keyPath:kc.keyPath,autoIncrement:!0}).createIndex(kc.userMutationsIndex,kc.userMutationsKeyPath,{unique:!0});var r=e.store(kc.store),i=n.map(function(t){return r.put(t)});return Kc.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Vc.store,{keyPath:Vc.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.De(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Dc.store)}(t),i.Ce(s)})),n<7&&r>=7&&(o=o.next(function(){return i.xe(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Ne(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Pc.store);e.createIndex(Pc.readTimeIndex,Pc.readTimeIndexPath,{unique:!1}),e.createIndex(Pc.collectionReadTimeIndex,Pc.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.$e(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(Uc.store,{keyPath:Uc.keyPath})}(t),function(t){t.createObjectStore(qc.store,{keyPath:qc.keyPath})}(t)})),o},t.prototype.Ce=function(t){var e=0;return t.store(Pc.store).qt(function(t,n){e+=Il(n)}).next(function(){var n=new Dc(e);return t.store(Dc.store).put(Dc.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Ic.store),r=t.store(kc.store);return n.kt().next(function(n){return Kc.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(kc.userMutationsIndex,i).next(function(r){return Kc.forEach(r,function(r){Zs(r.userId===n.userId);var i=pl(e.D,r);return xl(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(Rc.store),n=t.store(Pc.store);return t.store(Lc.store).get(Lc.key).next(function(t){var r=[];return n.qt(function(n,i){var s=new mo(n),o=function(t){return[0,Oc(t)]}(s);r.push(e.get(o).next(function(n){return n?Kc.resolve():function(n){return e.put(new Rc(0,Oc(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Kc.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(Fc.store,{keyPath:Fc.keyPath});var n=e.store(Fc.store),r=new Ol,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Oc(i)})}};return e.store(Pc.store).qt({Bt:!0},function(t,e){var n=new mo(t);return i(n.popLast())}).next(function(){return e.store(Ac.store).qt({Bt:!0},function(t,e){var n=Ec(t[1]);return i(n.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(Mc.store);return n.qt(function(t,r){var i=gl(r),s=ml(e.D,i);return n.put(s)})},t}();function th(t){t.createObjectStore(Rc.store,{keyPath:Rc.keyPath}).createIndex(Rc.documentTargetsIndex,Rc.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Mc.store,{keyPath:Mc.keyPath}).createIndex(Mc.queryTargetsIndexName,Mc.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Lc.store)}var eh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nh=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=s,this.window=o,this.document=a,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new po(fo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hl(this,i),this.We=n+"main",this.D=new al(u),this.je=new Qc(this.We,11,new Zl(this.D)),this.Ge=new Ml(this.referenceDelegate,this.D),this.Gt=new Cl,this.ze=function(t,e){return new Ql(t,e)}(this.D,this.Gt),this.He=new bl,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&Ws("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new po(fo.FAILED_PRECONDITION,eh);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new Gs(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(F.b)(e,void 0,void 0,function(){return Object(F.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(F.b)(e,void 0,void 0,function(){return Object(F.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(F.b)(e,void 0,void 0,function(){return Object(F.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ih(e).put(new Vc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(Xc(e))return Qs("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Qs("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return rh(t).get(xc.key).next(function(t){return Kc.resolve(e.cn(t))})},t.prototype.an=function(t){return ih(t).delete(this.clientId)},t.prototype.un=function(){return Object(F.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(F.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=rl(t,Vc.store);return e.kt().next(function(t){var n=r.ln(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Kc.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Je)for(e=0,n=t;e<n.length;e++)this.Je.removeItem(this.fn(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Kc.resolve(!0):rh(t).get(xc.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new po(fo.FAILED_PRECONDITION,eh);return!1}}return!(!e.networkEnabled||!e.inForeground)||ih(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Qs("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(F.b)(this,void 0,void 0,function(){var t=this;return Object(F.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[xc.store,Vc.store],function(e){var n=new nl(e,Gs.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return ih(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return kl.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Qs("IndexedDbPersistence","Starting transaction:",t),this.je.runTransaction(t,"readonly"===e?"readonly":"readwrite",Bc,function(s){return r=new nl(s,i.Me?i.Me.next():Gs.o),"readwrite-primary"===e?i.nn(r).next(function(t){return!!t||i.sn(r)}).next(function(e){if(!e)throw Ws("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Fe.enqueueRetryable(function(){return i.Ke(!1)}),new po(fo.FAILED_PRECONDITION,zc);return n(r)}).next(function(t){return i.on(r).next(function(){return t})}):i.pn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return rh(t).get(xc.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new po(fo.FAILED_PRECONDITION,eh)})},t.prototype.on=function(t){var e=new xc(this.clientId,this.allowTabSynchronization,Date.now());return rh(t).put(xc.key,e)},t.At=function(){return Qc.At()},t.prototype.rn=function(t){var e=this,n=rh(t);return n.get(xc.key).next(function(t){return e.cn(t)?(Qs("IndexedDbPersistence","Releasing primary lease."),n.delete(xc.key)):Kc.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ws("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return Qs("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ws("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){Ws("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function rh(t){return rl(t,xc.store)}function ih(t){return rl(t,Vc.store)}function sh(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var oh=function(t,e){this.progress=t,this.En=e},ah=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=Eu();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),s=Su();return i.forEach(function(t,e){e||(e=new Ho(t,ka.min())),s=s.insert(t,e)}),s})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return vo.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):va(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new vo(e)).next(function(t){var e=xu();return t instanceof zo&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,s=xu();return this.Gt.getCollectionParents(t,i).next(function(o){return Kc.forEach(o,function(o){var a=function(t,e){return new da(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.Sn(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.Sn=function(t,e,n){var r,i,s=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Dn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=eu(u,r.get(c),s.localWriteTime);r=l instanceof zo?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Ta(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=ju(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof ou&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof zo&&(c=c.insert(t,e))}),c})},t}(),uh=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=ju(),i=ju(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ch=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(ka.min())?this.On(t,e):this.Fn.bn(t,r).next(function(s){var o=i.kn(e,s);return(ga(e)||ma(e))&&i.Mn(e.limitType,o,r,n)?i.On(t,e):($s()<=qe.a.DEBUG&&Qs("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ea(e)),i.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new wu(xa(t));return e.forEach(function(e,r){r instanceof zo&&Ta(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return $s()<=qe.a.DEBUG&&Qs("QueryEngine","Using full collection scan to execute query:",Ea(e)),this.Fn.getDocumentsMatchingQuery(t,e,ka.min())},t}(),lh=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new bu(ro),this.qn=new Kl(function(t){return Qo(t)},Wo),this.Un=ka.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new ah(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();function hh(t,e,n,r){return new lh(t,e,n,r)}function dh(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(F.d)(this,function(o){switch(o.label){case 0:return n=to(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.Tn.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new ah(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=ju(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.bn(t,o).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),s)]}})})}function fh(t,e){var n=to(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Kc.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=e,o=n.docVersions.get(t);Zs(null!==o),(!s||s.version.compareTo(o)<0)&&(s=i.applyToRemoteDocument(t,s,n))&&r.addEntry(s,n.commitVersion)})}),o.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}function ph(t){var e=to(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function gh(t,e){var n=to(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return Zs(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.Ge.updateTargetData(t,c))}}});var a=Su();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(mh(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(ka.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Kc.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Kn.vn(t,a)})}).then(function(t){return n.Bn=i,t})}function mh(t,e,n,r,i){var s=ju();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Su();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof Ho&&o.version.isEqual(ka.min())?(e.removeEntry(n,u),s=s.insert(n,o)):null==a||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Qs("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function yh(t,e){var n=to(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}function bh(t,e){var n=to(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?Kc.resolve(r=i):n.Ge.allocateTargetId(t).next(function(i){return r=new ol(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function vh(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(F.d)(this,function(a){switch(a.label){case 0:r=to(t),i=r.Bn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Xc(o=a.sent()))throw o;return Qs("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function _h(t,e,n){var r=to(t),i=ka.min(),s=ju();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=to(t),i=r.qn.get(n);return void 0!==i?Kc.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,wa(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:ka.min(),n?s:ju())}).next(function(t){return{documents:t,jn:s}})})}function wh(t,e){var n=to(t),r=to(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function Oh(t){var e=to(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=to(t),i=Su(),s=ll(n),o=Xl(e),a=IDBKeyRange.lowerBound(s,!0);return o.qt({index:Pc.readTimeIndex,range:a},function(t,e){var n=ul(r.D,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{En:i,readTime:hl(s)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En;return e.Un=t.readTime,n})}function Ch(t){return Object(F.b)(this,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){return[2,(e=to(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Xl(t),n=ka.min();return e.qt({index:Pc.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=hl(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}function Sh(t,e,n,r){return Object(F.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,d,f;return Object(F.d)(this,function(p){switch(p.label){case 0:for(i=to(t),s=ju(),o=Su(),a=ku(),u=0,c=n;u<c.length;u++)h=e.Gn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.zn(l)),a=a.insert(h,e.Hn(l.metadata.readTime));return d=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,bh(i,function(t){return wa(pa(mo.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return mh(t,d,o,ka.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.Ge.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}function Eh(t,e,n){return void 0===n&&(n=ju()),Object(F.b)(this,void 0,void 0,function(){var r,i;return Object(F.d)(this,function(s){switch(s.label){case 0:return[4,bh(t,wa(yl(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=to(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Wu(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.He.saveNamedQuery(t,e);var o=r.withResumeToken(_o.EMPTY_BYTE_STRING,s);return i.Bn=i.Bn.insert(o.targetId,o),i.Ge.updateTargetData(t,o).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}var Th=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Kc.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:Wu(n.createTime)}),Kc.resolve()},t.prototype.getNamedQuery=function(t,e){return Kc.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:yl(t.bundledQuery),readTime:Wu(t.readTime)}}(e)),Kc.resolve()},t}(),xh=function(){function t(){this.Xn=new wu(Ih.Zn),this.ts=new wu(Ih.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ih(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Ih(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new vo(new mo([])),r=new Ih(n,t),i=new Ih(n,t+1),s=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),s.push(t.key)}),s},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new vo(new mo([])),n=new Ih(e,t),r=new Ih(e,t+1),i=ju();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ih(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ih=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return vo.comparator(t.key,e.key)||ro(t.hs,e.hs)},t.es=function(t,e){return ro(t.hs,e.hs)||vo.comparator(t.key,e.key)},t}(),kh=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new wu(Ih.Zn)}return t.prototype.checkEmpty=function(t){return Kc.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++;var s=new il(i,e,n,r);this.Tn.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.fs=this.fs.add(new Ih(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return Kc.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Kc.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.ws(e+1),r=n<0?0:n;return Kc.resolve(this.Tn.length>r?this.Tn[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Kc.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Kc.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ih(e,0),i=new Ih(e,Number.POSITIVE_INFINITY),s=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);s.push(e)}),Kc.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new wu(ro);return e.forEach(function(t){var e=new Ih(t,0),i=new Ih(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),Kc.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;vo.isDocumentKey(i)||(i=i.child(""));var s=new Ih(new vo(i),0),o=new wu(ro);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.hs)),!0)},s),Kc.resolve(this._s(o))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Zs(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Kc.forEach(e.mutations,function(i){var s=new Ih(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ih(e,0),r=this.fs.firstAfterOrEqual(n);return Kc.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Kc.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),Ah=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new bu(vo.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:o,readTime:n}),this.size+=o-s,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Kc.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Eu();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Kc.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=xu(),i=new vo(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.maybeDocument,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||u instanceof zo&&Ta(e,u)&&(r=r.insert(u.key,u))}return Kc.resolve(r)},t.prototype.ps=function(t,e){return Kc.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new jh(this)},t.prototype.getSize=function(t){return Kc.resolve(this.size)},t}(),jh=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ve=e,n}return Object(F.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),Kc.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}($l),Nh=function(){function t(t){this.persistence=t,this.Es=new Kl(function(t){return Qo(t)},Wo),this.lastRemoteSnapshotVersion=ka.min(),this.highestTargetId=0,this.Ts=0,this.Is=new xh,this.targetCount=0,this.As=Dl.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),Kc.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Kc.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Kc.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Kc.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Kc.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Dl(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Kc.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Kc.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Kc.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.Es.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Es.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Kc.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Kc.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Kc.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Kc.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Kc.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Kc.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Kc.resolve(n)},t.prototype.containsKey=function(t,e){return Kc.resolve(this.Is.containsKey(e))},t}(),Ph=function(){function t(t,e){var n=this;this.Rs={},this.Me=new Gs(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Nh(this),this.Gt=new wl,this.ze=function(t,e){return new Ah(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new al(e),this.He=new Th(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new kh(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;Qs("MemoryPersistence","Starting transaction:",t);var i=new Dh(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return Kc.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Dh=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(F.c)(e,t),e}(Hc),Mh=function(){function t(t){this.persistence=t,this.Ss=new xh,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw Ys()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Kc.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Kc.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Kc.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kc.forEach(this.xs,function(r){var i=vo.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Kc.or([function(){return Kc.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Rh=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Lh(t,e){return"firestore_clients_"+t+"_"+e}function Fh(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Vh(t,e){return"firestore_targets_"+t+"_"+e}Rh.UNAUTHENTICATED=new Rh(null),Rh.GOOGLE_CREDENTIALS=new Rh("google-credentials-uid"),Rh.FIRST_PARTY=new Rh("first-party-uid");var Uh=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new po(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(Ws("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qh=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new po(i.error.code,i.error.message)),s?new t(e,i.state,r):(Ws("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bh=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Pu(),o=0;i&&o<r.activeTargetIds.length;++o)i=ho(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(Ws("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zh=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ws("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hh=function(){function t(){this.activeTargetIds=Pu()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Gh=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new bu(ro),this.started=!1,this.Us=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Lh(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Hh),this.Ws=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(F.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(F.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(Lh(this.persistenceKey,r)))&&(s=Bh.$s(r,i))&&(this.qs=this.qs.insert(s.clientId,s));for(this.Js(),(o=this.storage.getItem(this.zs))&&(a=this.Ys(o))&&this.Xs(a),u=0,c=this.Us;u<c.length;u++)this.Bs(c[u]);return this.Us=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Vh(this.persistenceKey,t));if(n){var r=qh.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Vh(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Qs("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Qs("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Qs("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Qs("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void Ws("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(F.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(F.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(s=this.Ys(n.newValue)))return[2,this.Xs(s)]}else if(n.key===this.Ks)(o=function(t){var e=Gs.o;if(null!=t)try{var n=JSON.parse(t);Zs("number"==typeof n),e=n}catch(t){Ws("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Gs.o&&this.sequenceNumberHandler(o);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new Uh(this.currentUser,t,e,n),i=Fh(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Fh(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){this.storage.setItem(this.zs,JSON.stringify({clientId:this.Ms,onlineState:t}))},t.prototype.si=function(t,e,n){var r=Vh(this.persistenceKey,t),i=new qh(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return Bh.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]);return Uh.$s(new Rh(void 0!==n[2]?n[2]:null),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return qh.$s(r,e)},t.prototype.Ys=function(t){return zh.$s(t)},t.prototype.hi=function(t){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(Qs("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),s=this.Zs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.mi(o,a).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=Pu();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Kh=function(){function t(){this.yi=new Hh,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new Hh,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),$h=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Qh=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){Qs("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){Qs("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Wh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jh=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),Xh=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(F.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,s){var o=new Hs;o.listenOnce(qs.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Us.NO_ERROR:var e=o.getResponseJson();Qs("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Us.TIMEOUT:Qs("Connection",'RPC "'+t+'" timed out'),s(new po(fo.DEADLINE_EXCEEDED,"Request time out"));break;case Us.HTTP_ERROR:var n=o.getStatus();if(Qs("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(fo).indexOf(e)>=0?e:fo.UNKNOWN}(r.status);s(new po(a,r.message))}else s(new po(fo.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new po(fo.UNAVAILABLE,"Connection failed."));break;default:Ys()}}finally{Qs("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Ms,i=Fr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(s.initMessageHeaders,e),Object(Be.l)()||Object(Be.n)()||Object(Be.j)()||Object(Be.k)()||Object(Be.o)()||Object(Be.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Qs("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Jh({vi:function(t){c?Qs("Connection","Not sending because WebChannel is closed:",t):(u||(Qs("Connection","Opening WebChannel transport."),a.open(),u=!0),Qs("Connection","WebChannel sending:",t),a.send(t))},Pi:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,zs.EventType.OPEN,function(){c||Qs("Connection","WebChannel transport opened.")}),h(a,zs.EventType.CLOSE,function(){c||(c=!0,Qs("Connection","WebChannel transport closed"),l.$i())}),h(a,zs.EventType.ERROR,function(t){c||(c=!0,Js("Connection","WebChannel transport errored:",t),l.$i(new po(fo.UNAVAILABLE,"The operation could not be completed")))}),h(a,zs.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Zs(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Qs("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=hu[t];if(void 0!==e)return yu(e)}(i),o=r.message;void 0===s&&(s=fo.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.$i(new po(s,o)),a.close()}else Qs("Connection","WebChannel received:",n),l.Fi(n)}}),h(i,Bs.STAT_EVENT,function(t){10===t.stat?Qs("Connection","Detected buffering proxy"):11===t.stat&&Qs("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ni()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Oi=(t.ssl?"https":"http")+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);Qs("RestConnection","Sending: ",i,n);var s={};return this.Bi(s,r),this.qi(t,i,s,n).then(function(t){return Qs("RestConnection","Received: ",t),t},function(e){throw Js("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){return this.Oi+"/v1/"+e+":"+Wh[t]},t}());function Yh(){return"undefined"!=typeof window?window:null}function Zh(){return"undefined"!=typeof document?document:null}function td(t){return new Gu(t,!0)}var ed=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&Qs("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),nd=function(){function t(t,e,n,r,i,s){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new ed(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===fo.RESOURCE_EXHAUSTED?(Ws(e.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===fo.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new po(fo.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(F.b)(t,void 0,void 0,function(){return Object(F.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return Qs("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(Qs("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),rd=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).D=i,o}return Object(F.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ys()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.V?(Zs(void 0===e||"string"==typeof e),_o.fromBase64String(e||"")):(Zs(void 0===e||e instanceof Uint8Array),_o.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?fo.UNKNOWN:yu(t.code);return new po(e,t.message||"")}(a);n=new Fu(r,i,s,o||null)}else if("documentChange"in e){i=Zu(t,(r=e.documentChange).document.name),s=Wu(r.document.updateTime);var a=new ja({mapValue:{fields:r.document.fields}}),u=(o=new zo(i,s,a,{}),r.targetIds||[]);n=new Ru(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Zu(t,(r=e.documentDelete).document),s=r.readTime?Wu(r.readTime):ka.min(),a=new Ho(i,s),n=new Ru([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Zu(t,(r=e.documentRemove).document),n=new Ru([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ys();var c=e.filter;i=new gu(r=c.count||0),n=new Lu(s=c.targetId,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return ka.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?ka.min():e.readTime?Wu(e.readTime):ka.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=nc(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=Jo(r)?{documents:uc(t,r)}:{query:cc(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=$u(t,e.resumeToken):e.snapshotVersion.compareTo(ka.min())>0&&(n.readTime=Ku(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ys()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=nc(this.D),e.removeTarget=t,this.wr(e)},e}(nd),id=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).D=i,o.Rr=!1,o}return Object(F.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(Zs(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(Zs(void 0!==e),t.map(function(t){return function(t,e){var n=Wu(t.updateTime?t.updateTime:e);return n.isEqual(ka.min())&&(n=Wu(e)),new Ja(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Wu(t.commitTime);return this.listener.Pr(n,e)}return Zs(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=nc(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return oc(e.D,t)})};this.wr(n)},e}(nd),sd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(F.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new po(fo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===fo.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===fo.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),od=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(Ws(e),this.Fr=!1):Qs("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}(),ad=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(F.b)(s,void 0,void 0,function(){return Object(F.d)(this,function(t){switch(t.label){case 0:return md(this)?(Qs("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(F.b)(this,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){switch(n.label){case 0:return(e=to(t)).Qr.add(4),[4,cd(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,ud(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new od(n,r)};function ud(t){return Object(F.b)(this,void 0,void 0,function(){var e,n;return Object(F.d)(this,function(r){switch(r.label){case 0:if(!md(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function cd(t){return Object(F.b)(this,void 0,void 0,function(){var e,n;return Object(F.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ld(t,e){var n=to(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),gd(n)?pd(n):jd(n).ar()&&dd(n,e))}function hd(t,e){var n=to(t),r=jd(n);n.Ur.delete(e),r.ar()&&fd(n,e),0===n.Ur.size&&(r.ar()?r.lr():md(n)&&n.jr.set("Unknown"))}function dd(t,e){t.Gr.H(e.targetId),jd(t).Ir(e)}function fd(t,e){t.Gr.H(e),jd(t).Ar(e)}function pd(t){t.Gr=new Uu({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),jd(t).start(),t.jr.Or()}function gd(t){return md(t)&&!jd(t).cr()&&t.Ur.size>0}function md(t){return 0===to(t).Qr.size}function yd(t){t.Gr=void 0}function bd(t){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(e){return t.Ur.forEach(function(e,n){dd(t,e)}),[2]})})}function vd(t,e){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(n){return yd(t),gd(t)?(t.jr.Lr(e),pd(t)):t.jr.set("Unknown"),[2]})})}function _d(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i,s;return Object(F.d)(this,function(o){switch(o.label){case 0:if(t.jr.set("Online"),!(e instanceof Fu&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(F.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Ur.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Ur.delete(s),t.Gr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Qs("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,wd(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ru?t.Gr.st(e):e instanceof Lu?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(ka.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,ph(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(_o.EMPTY_BYTE_STRING,n.snapshotVersion)),fd(t,e);var r=new ol(n.target,e,1,n.sequenceNumber);dd(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Qs("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,wd(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function wd(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r=this;return Object(F.d)(this,function(i){switch(i.label){case 0:if(!Xc(e))throw e;return t.Qr.add(1),[4,cd(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return ph(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(F.b)(r,void 0,void 0,function(){return Object(F.d)(this,function(e){switch(e.label){case 0:return Qs("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,ud(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Od(t,e){return e().catch(function(n){return wd(t,n,e)})}function Cd(t){return Object(F.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(F.d)(this,function(o){switch(o.label){case 0:e=to(t),n=Nd(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return md(t)&&t.qr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,yh(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=Nd(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,wd(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Sd(e)&&Ed(e),[2]}})})}function Sd(t){return md(t)&&!Nd(t).cr()&&t.qr.length>0}function Ed(t){Nd(t).start()}function Td(t){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(e){return Nd(t).Sr(),[2]})})}function xd(t){return Object(F.b)(this,void 0,void 0,function(){var e,n,r;return Object(F.d)(this,function(i){for(e=Nd(t),n=0,r=t.qr;n<r.length;n++)e.vr(r[n].mutations);return[2]})})}function Id(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i;return Object(F.d)(this,function(s){switch(s.label){case 0:return r=t.qr.shift(),i=sl.from(r,e,n),[4,Od(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Cd(t)];case 2:return s.sent(),[2]}})})}function kd(t,e){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(n){switch(n.label){case 0:return e&&Nd(t).br?[4,function(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r;return Object(F.d)(this,function(i){switch(i.label){case 0:return mu(r=e.code)&&r!==fo.ABORTED?(n=t.qr.shift(),Nd(t).hr(),[4,Od(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Cd(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sd(t)&&Ed(t),[2]}})})}function Ad(t,e){return Object(F.b)(this,void 0,void 0,function(){var n;return Object(F.d)(this,function(r){switch(r.label){case 0:return n=to(t),e?(n.Qr.delete(2),[4,ud(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,cd(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function jd(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=to(t);return r.Cr(),new rd(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:bd.bind(null,t),Di:vd.bind(null,t),Tr:_d.bind(null,t)}),t.Kr.push(function(n){return Object(F.b)(e,void 0,void 0,function(){return Object(F.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),gd(t)?pd(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),yd(t),e.label=3;case 3:return[2]}})})})),t.zr}function Nd(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=to(t);return r.Cr(),new id(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:Td.bind(null,t),Di:kd.bind(null,t),Vr:xd.bind(null,t),Pr:Id.bind(null,t)}),t.Kr.push(function(n){return Object(F.b)(e,void 0,void 0,function(){return Object(F.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,Cd(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(Qs("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr}var Pd=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new po(fo.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Dd(t,e){if(Ws("AsyncQueue",e+": "+t),Xc(t))return new po(fo.UNAVAILABLE,e+": "+t);throw t}var Md=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||vo.comparator(e.key,n.key)}:function(t,e){return vo.comparator(t.key,e.key)},this.keyedMap=xu(),this.sortedSet=new bu(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Rd=function(){function t(){this.Jr=new bu(vo.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Ys():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ld=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Md.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ca(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Fd=function(){this.Xr=void 0,this.listeners=[]},Vd=function(){this.queries=new Kl(function(t){return Sa(t)},Ca),this.onlineState="Unknown",this.Zr=new Set};function Ud(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(F.d)(this,function(c){switch(c.label){case 0:if(n=to(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new Fd),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Xr=c.sent(),[3,4];case 3:return a=c.sent(),u=Dd(a,"Initialization of query '"+Ea(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.eo(n.onlineState),s.Xr&&e.no(s.Xr)&&Hd(n),[2]}})})}function qd(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(F.d)(this,function(a){return n=to(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Bd(t,e){for(var n=to(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].no(o)&&(r=!0);a.Xr=o}}r&&Hd(n)}function zd(t,e,n){var r=to(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Hd(t){t.Zr.forEach(function(t){t.next()})}var Gd=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ld(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.io?this.oo(t)&&(this.so.next(t),s=!0):this.co(t,this.onlineState)&&(this.ao(t),s=!0),this.ro=t,s},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=Ld.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),Kd=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),$d=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return Zu(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?sc(this.D,t.document,!1):new Ho(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return Wu(t)},t}();!function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new $d(this.D),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.Gn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||ju()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(F.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(F.d)(this,function(s){switch(s.label){case 0:return[4,Sh(this.localStore,new $d(this.D),this.documents,this.lo.id)];case 1:t=s.sent(),e=this.wo(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Eh(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new oh(Object.assign({},this.progress),t))]}})})}}();var Qd=function(t){this.key=t},Wd=function(t){this.key=t},Jd=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=ju(),this.mutatedKeys=ju(),this.po=xa(t),this.Eo=new Md(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Rd,i=e?e.Eo:this.Eo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=ga(this.query)&&i.size===this.query.limit?i.last():null,c=ma(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof zo?e:null;h&&(h=Ta(n.query,h)?h:null);var d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:3,doc:h}),p=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),ga(this.query)||ma(this.query))for(;o.size>this.query.limit;){var l=ga(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Eo:o,Ao:r,Mn:a,mutatedKeys:s}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var s=t.Ao.Yr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ys()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var o=e?this.vo():[],a=0===this.yo.size&&this.current?1:0,u=a!==this.mo;return this.mo=a,0!==s.length||u?{snapshot:new Ld(this.query,t.Eo,i,s,t.mutatedKeys,0===a,u,!1),Po:o}:{Po:o}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Rd,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=ju(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new Wd(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new Qd(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=ju();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return Ld.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),Xd=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Yd=function(t){this.key=t,this.Co=!1},Zd=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.xo={},this.No=new Kl(function(t){return Sa(t)},Ca),this.$o=new Map,this.Fo=new Set,this.Oo=new bu(vo.comparator),this.ko=new Map,this.Mo=new xh,this.Lo={},this.Bo=new Map,this.qo=Dl.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function tf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(F.d)(this,function(a){switch(a.label){case 0:return n=Af(t),(i=n.No.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Do(),[3,4]):[3,1];case 1:return[4,bh(n.localStore,wa(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,ef(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&ld(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function ef(t,e,n,r){return Object(F.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(F.d)(this,function(l){switch(l.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(F.b)(this,void 0,void 0,function(){var i,s,o;return Object(F.d)(this,function(a){switch(a.label){case 0:return(i=e.view.Io(n)).Mn?[4,_h(t.localStore,e.query,!1).then(function(t){return e.view.Io(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(gf(t,e.targetId,o.Po),o.snapshot)]}})})}(t,e,n,r)},[4,_h(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Jd(e,i.jn),o=s.Io(i.documents),a=Mu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),gf(t,n,u.Po),c=new Xd(e,n,s),[2,(t.No.set(e,c),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),u.snapshot)]}})})}function nf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i;return Object(F.d)(this,function(s){switch(s.label){case 0:return n=to(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!Ca(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,vh(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),hd(n.remoteStore,r.targetId),ff(n,r.targetId)}).catch(Vl)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ff(n,r.targetId),[4,vh(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function rf(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(F.d)(this,function(a){switch(a.label){case 0:r=jf(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=to(t),i=Eo.now(),s=e.reduce(function(t,e){return t.add(e.key)},ju());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=nu(c,n.get(c.key));null!=l&&o.push(new ou(c.key,l,Pa(l.proto.mapValue),Xa.exists(!0)))}return r.Tn.addMutationBatch(t,i,o,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new bu(ro)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,bf(r,i.changes)];case 3:return a.sent(),[4,Cd(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Dd(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function sf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r;return Object(F.d)(this,function(i){switch(i.label){case 0:n=to(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,gh(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(Zs(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?Zs(r.Co):t.removedDocuments.size>0&&(Zs(r.Co),r.Co=!1))}),[4,bf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Vl(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function of(t,e,n){var r=to(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=to(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].eo(e)&&(r=!0)}),r&&Hd(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function af(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(F.d)(this,function(c){switch(c.label){case 0:return(r=to(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(s=i&&i.key)?(o=(o=new bu(vo.comparator)).insert(s,new Ho(s,ka.min())),a=ju().add(s),u=new Du(ka.min(),new Map,new wu(ro),o,a),[4,sf(r,u)]):[3,2];case 1:return c.sent(),r.Oo=r.Oo.remove(s),r.ko.delete(e),yf(r),[3,4];case 2:return[4,vh(r.localStore,e,!1).then(function(){return ff(r,e,n)}).catch(Vl)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function uf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i;return Object(F.d)(this,function(s){switch(s.label){case 0:n=to(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,fh(n.localStore,e)];case 2:return i=s.sent(),df(n,r,null),hf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,bf(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Vl(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function cf(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i;return Object(F.d)(this,function(s){switch(s.label){case 0:r=to(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=to(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return Zs(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),df(r,e,n),hf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,bf(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Vl(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function lf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(F.d)(this,function(a){switch(a.label){case 0:md((n=to(t)).remoteStore)||Qs("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=to(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return s=a.sent(),o=Dd(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function hf(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function df(t,e,n){var r=to(t),i=r.Lo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function ff(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var s=i[r];t.No.delete(s),n&&t.xo.Ko(s,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||pf(t,e)})}function pf(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(hd(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),yf(t))}function gf(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Qd?(t.Mo.addReference(s.key,e),mf(t,s)):s instanceof Wd?(Qs("SyncEngine","Document no longer in limbo: "+s.key),t.Mo.removeReference(s.key,e),t.Mo.containsKey(s.key)||pf(t,s.key)):Ys()}}function mf(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(Qs("SyncEngine","New document in limbo: "+n),t.Fo.add(r),yf(t))}function yf(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new vo(mo.fromString(e)),r=t.qo.next();t.ko.set(r,new Yd(n)),t.Oo=t.Oo.insert(n,r),ld(t.remoteStore,new ol(wa(pa(n.path)),r,2,Gs.o))}}function bf(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(F.d)(this,function(a){switch(a.label){case 0:return r=to(t),i=[],s=[],o=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,a){o.push(r.Qo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=uh.Nn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.xo.Tr(i),[4,function(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(F.d)(this,function(l){switch(l.label){case 0:n=to(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Kc.forEach(e,function(e){return Kc.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Kc.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Xc(r=l.sent()))throw r;return Qs("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Bn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Bn=n.Bn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function vf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r;return Object(F.d)(this,function(i){switch(i.label){case 0:return(n=to(t)).currentUser.isEqual(e)?[3,3]:(Qs("SyncEngine","User change. New user:",e.toKey()),[4,dh(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new po(fo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,bf(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function _f(t,e){var n=to(t),r=n.ko.get(e);if(r&&r.Co)return ju().add(r.key);var i=ju(),s=n.$o.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.No.get(a[o]);i=i.unionWith(u.view.To)}return i}function wf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i;return Object(F.d)(this,function(s){switch(s.label){case 0:return[4,_h((n=to(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&gf(n,e.targetId,i.Po),i)]}})})}function Of(t){return Object(F.b)(this,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){return[2,Oh((e=to(t)).localStore).then(function(t){return bf(e,t)})]})})}function Cf(t,e,n,r){return Object(F.b)(this,void 0,void 0,function(){var i,s;return Object(F.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=to(t),r=to(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):Kc.resolve(null)})})}((i=to(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Cd(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(df(i,e,r||null),hf(i,e),function(t,e){to(to(t).Tn).Xt(e)}(i.localStore,e)):Ys(),o.label=4;case 4:return[4,bf(i,s)];case 5:return o.sent(),[3,7];case 6:Qs("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Sf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(F.d)(this,function(c){switch(c.label){case 0:return Af(n=to(t)),jf(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Ef(n,r.toArray())]);case 1:return i=c.sent(),n.Uo=!0,[4,Ad(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)ld(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(a=[],u=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return ff(n,e),vh(n.localStore,e,!0)}),hd(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Ef(n,a)];case 5:return c.sent(),function(t){var e=to(t);e.ko.forEach(function(t,n){hd(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new bu(vo.comparator)}(n),n.Uo=!1,[4,Ad(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ef(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,d,f,p;return Object(F.d)(this,function(g){switch(g.label){case 0:n=to(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.$o.get(a=o[s]))&&0!==c.length?[4,bh(n.localStore,wa(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(d=n.No.get(h[l]),[4,wf(n,d)]):[3,6];case 4:(f=g.sent()).snapshot&&i.push(f.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,wh(n.localStore,a)];case 8:return p=g.sent(),[4,bh(n.localStore,p)];case 9:return u=g.sent(),[4,ef(n,Tf(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function Tf(t){return fa(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xf(t){var e=to(t);return to(to(e.localStore).persistence).gn()}function If(t,e,n,r){return Object(F.b)(this,void 0,void 0,function(){var i,s,o;return Object(F.d)(this,function(a){switch(a.label){case 0:return(i=to(t)).Uo?(Qs("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Oh(i.localStore)];case 3:return s=a.sent(),o=Du.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,bf(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,vh(i.localStore,e,!0)];case 6:return a.sent(),ff(i,e,r),[3,8];case 7:Ys(),a.label=8;case 8:return[2]}})})}function kf(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(F.d)(this,function(d){switch(d.label){case 0:if(!(r=Af(t)).Uo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.$o.has(o=s[i])?(Qs("SyncEngine","Adding an already active target "+o),[3,5]):[4,wh(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,bh(r.localStore,a)];case 3:return u=d.sent(),[4,ef(r,Tf(a),u.targetId,!1)];case 4:d.sent(),ld(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(F.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,vh(r.localStore,t,!1).then(function(){hd(r.remoteStore,t),ff(r,t)}).catch(Vl)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Af(t){var e=to(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_f.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=af.bind(null,e),e.xo.Tr=Bd.bind(null,e.eventManager),e.xo.Ko=zd.bind(null,e.eventManager),e}function jf(t){var e=to(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cf.bind(null,e),e}var Nf=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(e){switch(e.label){case 0:return this.D=td(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return hh(this.persistence,new ch,t.initialUser,this.D)},t.prototype.Go=function(t){return new Ph(Mh.Cs,this.D)},t.prototype.jo=function(t){return new Kh},t.prototype.terminate=function(){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Pf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(F.c)(e,t),e.prototype.initialize=function(e){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Ch(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,jf(this.Jo.syncEngine)];case 4:return n.sent(),[4,Cd(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return hh(this.persistence,new ch,t.initialUser,this.D)},e.prototype.zo=function(t){return new Bl(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.Go=function(t){var e=sh(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Tl.withCacheSize(this.cacheSizeBytes):Tl.DEFAULT;return new nh(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Yh(),Zh(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new Kh},e}(Nf),Df=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(F.c)(e,t),e.prototype.initialize=function(e){return Object(F.b)(this,void 0,void 0,function(){var n,r=this;return Object(F.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Gh?(this.sharedClientState.syncEngine={wi:Cf.bind(null,n),_i:If.bind(null,n),mi:kf.bind(null,n),gn:xf.bind(null,n),di:Of.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(F.b)(r,void 0,void 0,function(){return Object(F.d)(this,function(e){switch(e.label){case 0:return[4,Sf(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=Yh();if(!Gh.At(e))throw new po(fo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sh(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Gh(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Pf),Mf=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(F.b)(this,void 0,void 0,function(){var n=this;return Object(F.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return of(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=vf.bind(null,this.syncEngine),[4,Ad(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Vd},t.prototype.createDatastore=function(t){var e=td(t.databaseInfo.databaseId),n=new Xh(t.databaseInfo);return function(t,e,n){return new sd(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return of(o.syncEngine,t,0)},s=Qh.At()?new Qh:new $h,new ad(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new Zd(t,e,n,r,i,s);return o&&(a.Uo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(F.b)(this,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){switch(n.label){case 0:return e=to(t),Qs("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,cd(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Rf=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Lf=(function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Gc,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(F.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(F.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Kd(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(F.b)(this,void 0,void 0,function(){var t,e;return Object(F.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(F.b)(this,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(F.b)(this,void 0,void 0,function(){var t,e;return Object(F.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(F.b)(this,void 0,void 0,function(){var e,n=this;return Object(F.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new po(fo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(F.d)(this,function(u){switch(u.label){case 0:return n=to(t),r=nc(n.D)+"/documents",i={documents:e.map(function(t){return Yu(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Zs(!!e.found);var n=Zu(t,e.found.name),r=Wu(e.found.updateTime),i=new ja({mapValue:{fields:e.found.fields}});return new zo(n,r,i,{})}(t,e):"missing"in e?function(t,e){Zs(!!e.missing),Zs(!!e.readTime);var n=Zu(t,e.missing),r=Wu(e.readTime);return new Ho(n,r)}(t,e):Ys()}(n.D,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());Zs(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Ho||t instanceof zo?n.recordVersion(t):Ys()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new fu(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(F.b)(this,void 0,void 0,function(){var t,e=this;return Object(F.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=vo.fromPath(n);e.mutations.push(new pu(r,e.precondition(r)))}),[4,function(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i;return Object(F.d)(this,function(s){switch(s.label){case 0:return n=to(t),r=nc(n.D)+"/documents",i={writes:e.map(function(t){return oc(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof zo)e=t.version;else{if(!(t instanceof Ho))throw Ys();e=ka.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new po(fo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Xa.updateTime(e):Xa.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ka.min()))throw new po(fo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xa.updateTime(e)}return Xa.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Ff=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new ed(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(F.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(F.d)(this,function(r){return t=new Lf(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!co(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!mu(e)}return!1},t}(),Vf=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Rh.UNAUTHENTICATED,this.clientId=no.u(),this.credentialListener=function(){},this.receivedInitialUser=new Gc,this.credentials.setChangeListener(function(t){Qs("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new po(fo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Gc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(F.b)(t,void 0,void 0,function(){var t,n;return Object(F.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Dd(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Uf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(F.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Qs("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(F.b)(i,void 0,void 0,function(){return Object(F.d)(this,function(t){switch(t.label){case 0:return[4,dh(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function qf(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r;return Object(F.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Bf(t)];case 1:return n=i.sent(),Qs("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(F.b)(this,void 0,void 0,function(){var n,r;return Object(F.d)(this,function(i){switch(i.label){case 0:return(n=to(t)).asyncQueue.verifyOperationInProgress(),Qs("RemoteStore","RemoteStore received new credentials"),r=md(n),n.Qr.add(3),[4,cd(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,ud(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function Bf(t){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Qs("FirestoreClient","Using default OfflineComponentProvider"),[4,Uf(t,new Nf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function zf(t){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Qs("FirestoreClient","Using default OnlineComponentProvider"),[4,qf(t,new Mf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Hf(t){return Bf(t).then(function(t){return t.persistence})}function Gf(t){return Bf(t).then(function(t){return t.localStore})}function Kf(t){return zf(t).then(function(t){return t.remoteStore})}function $f(t){return zf(t).then(function(t){return t.syncEngine})}function Qf(t){return Object(F.b)(this,void 0,void 0,function(){var e,n;return Object(F.d)(this,function(r){switch(r.label){case 0:return[4,zf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=tf.bind(null,e.syncEngine),n.onUnlisten=nf.bind(null,e.syncEngine),n)]}})})}function Wf(t,e,n){var r=this;void 0===n&&(n={});var i=new Gc;return t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(r,void 0,void 0,function(){var r;return Object(F.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Rf({next:function(s){e.enqueueAndForget(function(){return qd(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new po(fo.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new po(fo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new Gd(pa(n.path),s,{includeMetadataChanges:!0,uo:!0});return Ud(t,o)},[4,Qf(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Jf(t,e,n){var r=this;void 0===n&&(n={});var i=new Gc;return t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(r,void 0,void 0,function(){var r;return Object(F.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Rf({next:function(n){e.enqueueAndForget(function(){return qd(t,o)}),n.fromCache&&"server"===r.source?i.reject(new po(fo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new Gd(n,s,{includeMetadataChanges:!0,uo:!0});return Ud(t,o)},[4,Qf(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Xf=function(t,e,n,r,i,s){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=s},Yf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Zf=new Map,tp=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ep=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Rh.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),np=function(){function t(t){var e=this;this.fc=null,this.currentUser=Rh.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(Qs("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Zs("string"==typeof n.accessToken),new tp(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return Zs(null===t||"string"==typeof t),new Rh(t)},t}(),rp=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Rh.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ip=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new rp(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Rh.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function sp(t,e,n){if(!n)throw new po(fo.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function op(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new po(fo.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ap(t,e,n,r){if(!0===e&&!0===r)throw new po(fo.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function up(t){if(!vo.isDocumentKey(t))throw new po(fo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function cp(t){if(vo.isDocumentKey(t))throw new po(fo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function lp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ys()}function hp(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new po(fo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=lp(t);throw new po(fo.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function dp(t,e){if(e<=0)throw new po(fo.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var fp=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new po(fo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new po(fo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ap("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),pp=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new fp({}),this._settingsFrozen=!1,t instanceof Yf?(this._databaseId=t,this._credentials=new ep):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new po(fo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yf(t.options.projectId)}(t),this._credentials=new np(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new po(fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new po(fo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fp(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ep;switch(t.type){case"gapi":var e=t.client;return Zs(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ip(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new po(fo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Zf.get(this))&&(Qs("ComponentProvider","Removing Datastore"),Zf.delete(this),t.terminate()),Promise.resolve();var t},t}(),gp=function(t){this._delegate=t},mp=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new bp(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),yp=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),bp=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,pa(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(F.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new mp(this.firestore,null,new vo(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(yp);function vp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof gp&&(t=t._delegate),sp("collection","path",e),t instanceof pp)return cp(n=mo.fromString.apply(mo,Object(F.f)([e],r))),new bp(t,null,n);if(!(t instanceof mp||t instanceof bp))throw new po(fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cp(n=mo.fromString.apply(mo,Object(F.f)([t.path],r)).child(mo.fromString(e))),new bp(t.firestore,null,n)}function _p(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof gp&&(t=t._delegate),1===arguments.length&&(e=no.u()),sp("doc","path",e),t instanceof pp)return up(n=mo.fromString.apply(mo,Object(F.f)([e],r))),new mp(t,null,new vo(n));if(!(t instanceof mp||t instanceof bp))throw new po(fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return up(n=t._path.child(mo.fromString.apply(mo,Object(F.f)([e],r)))),new mp(t.firestore,t instanceof bp?t._converter:null,new vo(n))}function wp(t,e){return t instanceof gp&&(t=t._delegate),e instanceof gp&&(e=e._delegate),(t instanceof mp||t instanceof bp)&&(e instanceof mp||e instanceof bp)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function Op(t,e){return t instanceof gp&&(t=t._delegate),e instanceof gp&&(e=e._delegate),t instanceof yp&&e instanceof yp&&t.firestore===e.firestore&&Ca(t._query,e._query)&&t._converter===e._converter}var Cp=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new ed(this,"async_queue_retry"),this.bc=function(){var e=Zh();e&&Qs("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=Zh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=Zh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(F.b)(this,void 0,void 0,function(){var t,e=this;return Object(F.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!Xc(t=n.sent()))throw t;return Qs("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,Ws("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Pd.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&Ys()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(F.b)(this,void 0,void 0,function(){var t;return Object(F.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function Sp(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Gc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Ep=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new Cp,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(F.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||xp(this),this._firestoreClient.terminate()},e}(pp);function Tp(t){return t._firestoreClient||xp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xp(t){var e=t._freezeSettings(),n=function(t,e,n){return new Xf(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new Vf(t._credentials,t._queue,n)}function Ip(t,e,n){var r=this,i=new Gc;return t.asyncQueue.enqueue(function(){return Object(F.b)(r,void 0,void 0,function(){var r;return Object(F.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Uf(t,n)];case 1:return s.sent(),[4,qf(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===fo.FAILED_PRECONDITION||t.code===fo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function kp(t){if(t._initialized||t._terminated)throw new po(fo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ap=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new po(fo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bo(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),jp=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(_o.fromBase64String(e))}catch(e){throw new po(fo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(_o.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Np=function(t){this._methodName=t},Pp=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new po(fo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new po(fo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ro(this._lat,t._lat)||ro(this._long,t._long)},t}(),Dp=/^__.*__$/,Mp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ou(t,this.data,this.fieldMask,e,this.fieldTransforms):new su(t,this.data,e,this.fieldTransforms)},t}(),Rp=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ou(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Lp(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ys()}}var Fp=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return ig(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(Lp(this.Fc)&&Dp.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),Vp=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||td(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new Fp({Fc:t,methodName:e,Kc:n,path:bo.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function Up(t){var e=t._freezeSettings(),n=td(t._databaseId);return new Vp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qp(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Wc(s.merge||s.mergeFields?2:0,e,n,i);tg("Data must be an object, but it was:",o,r);var a,u,c=Yp(r,o);if(s.merge)a=new Aa(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=eg(e,d[h],n);if(!o.contains(f))throw new po(fo.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");sg(l,f)||l.push(f)}a=new Aa(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new Mp(new ja(c),a,u)}var Bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw t.Uc(1===t.Fc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Np);function zp(t,e,n){return new Fp({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Hp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.prototype._toFieldTransform=function(t){return new Wa(t.path,new qa)},e.prototype.isEqual=function(t){return t instanceof e},e}(Np),Gp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(F.c)(e,t),e.prototype._toFieldTransform=function(t){var e=zp(this,t,!0),n=this.jc.map(function(t){return Xp(t,e)}),r=new Ba(n);return new Wa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Np),Kp=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(F.c)(e,t),e.prototype._toFieldTransform=function(t){var e=zp(this,t,!0),n=this.jc.map(function(t){return Xp(t,e)}),r=new Ha(n);return new Wa(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Np),$p=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Gc=n,r}return Object(F.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ka(t.D,Ra(t.D,this.Gc));return new Wa(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Np);function Qp(t,e,n,r){var i=t.Wc(1,e,n);tg("Data must be an object, but it was:",i,r);var s=[],o=new Na;ao(r,function(t,r){var a=rg(e,t,n);r instanceof gp&&(r=r._delegate);var u=i.Bc(a);if(r instanceof Bp)s.push(a);else{var c=Xp(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Aa(s);return new Rp(o.v(),a,i.fieldTransforms)}function Wp(t,e,n,r,i,s){var o=t.Wc(1,e,n),a=[eg(e,r,n)],u=[i];if(s.length%2!=0)throw new po(fo.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(eg(e,s[c])),u.push(s[c+1]);for(var l=[],h=new Na,d=a.length-1;d>=0;--d)if(!sg(l,a[d])){var f=a[d],p=u[d];p instanceof gp&&(p=p._delegate);var g=o.Bc(f);if(p instanceof Bp)l.push(f);else{var m=Xp(p,g);null!=m&&(l.push(f),h.set(f,m))}}var y=new Aa(l);return new Rp(h.v(),y,o.fieldTransforms)}function Jp(t,e,n,r){return void 0===r&&(r=!1),Xp(n,t.Wc(r?4:3,e))}function Xp(t,e){if(t instanceof gp&&(t=t._delegate),Zp(t))return tg("Unsupported field value:",e,t),Yp(t,e);if(t instanceof Np)return function(t,e){if(!Lp(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Xp(s[i],e.qc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof gp&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ra(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Eo.fromDate(t);return{timestampValue:Ku(e.D,n)}}if(t instanceof Eo)return n=new Eo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Ku(e.D,n)};if(t instanceof Pp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jp)return{bytesValue:$u(e.D,t._byteString)};if(t instanceof mp){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ju(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+lp(t))}(t,e)}function Yp(t,e){var n={};return uo(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,function(t,r){var i=Xp(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Zp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Eo||t instanceof Pp||t instanceof jp||t instanceof mp||t instanceof Np)}function tg(t,e,n){if(!Zp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=lp(n);throw e.Uc("an object"===r?t+" a custom object":t+" "+r)}}function eg(t,e,n){if(e instanceof gp&&(e=e._delegate),e instanceof Ap)return e._internalPath;if("string"==typeof e)return rg(t,e);throw ig("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ng=new RegExp("[~\\*/\\[\\]]");function rg(t,e,n){if(e.search(ng)>=0)throw ig("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ap.bind.apply(Ap,Object(F.f)([void 0],e.split(".")))))._internalPath}catch(r){throw ig("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ig(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new po(fo.INVALID_ARGUMENT,(a+=". ")+t+u)}function sg(t,e){return t.some(function(t){return t.isEqual(e)})}var og=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new mp(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ag(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(ug("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ag=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(og);function ug(t,e){return"string"==typeof e?rg(t,e):e instanceof gp?e._delegate._internalPath:e._internalPath}var cg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),lg=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(F.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new hg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(ug("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(og),hg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(lg),dg=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new cg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new hg(n._firestore,n._userDataWriter,r.key,r,new cg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new po(fo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new hg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new cg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new hg(t._firestore,t._userDataWriter,e.doc.key,e.doc,new cg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:fg(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function fg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ys()}}function pg(t,e){return t instanceof lg&&e instanceof lg?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof dg&&e instanceof dg&&t._firestore===e._firestore&&Op(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function gg(t){if(ma(t)&&0===t.explicitOrderBy.length)throw new po(fo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mg=function(){};function yg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var bg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(F.c)(e,t),e.prototype._apply=function(t){var e=Up(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new po(fo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Eg(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Sg(r,t,l[c]));a={arrayValue:{values:u}}}else a=Sg(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Eg(o,s),a=Jp(n,"where",o,"in"===s||"not-in"===s);var h=Xo.create(i,s,a);return function(t,e){if(e.g()){var n=ba(t);if(null!==n&&!n.isEqual(e.field))throw new po(fo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ya(t);null!==r&&Tg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new po(fo.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new yp(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(mg),vg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(F.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new po(fo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new po(fo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ua(e,n);return function(t,e){if(null===ya(t)){var n=ba(t);null!==n&&Tg(0,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new yp(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new da(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(mg),_g=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(F.c)(e,t),e.prototype._apply=function(t){return new yp(t.firestore,t._converter,Oa(t._query,this.Xc,this.Zc))},e}(mg),wg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(F.c)(e,t),e.prototype._apply=function(t){var e=Cg(t,this.type,this.ta,this.ea);return new yp(t.firestore,t._converter,function(t,e){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(mg),Og=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(F.c)(e,t),e.prototype._apply=function(t){var e=Cg(t,this.type,this.ta,this.ea);return new yp(t.firestore,t._converter,function(t,e){return new da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(mg);function Cg(t,e,n,r){if(n[0]instanceof gp&&(n[0]=n[0]._delegate),n[0]instanceof og)return function(t,e,n,r,i){if(!r)throw new po(fo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=_a(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(Ro(e,r.key));else{var c=r.field(u.field);if(To(c))throw new po(fo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new po(fo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new oa(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Up(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new po(fo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new po(fo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!va(t)&&-1!==c.indexOf("/"))throw new po(fo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(mo.fromString(c));if(!vo.isDocumentKey(l))throw new po(fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new vo(l);a.push(Ro(e,h))}else{var d=Jp(n,r,c);a.push(d)}}return new oa(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Sg(t,e,n){if(n instanceof gp&&(n=n._delegate),"string"==typeof n){if(""===n)throw new po(fo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!va(e)&&-1!==n.indexOf("/"))throw new po(fo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(mo.fromString(n));if(!vo.isDocumentKey(r))throw new po(fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ro(t,new vo(r))}if(n instanceof mp)return Ro(t,n._key);throw new po(fo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+lp(n)+".")}function Eg(t,e){if(!Array.isArray(t)||0===t.length)throw new po(fo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new po(fo.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Tg(t,e,n){if(!n.isEqual(e))throw new po(fo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var xg=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ko(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Co(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(So(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ys()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ao(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Pp(Co(t.latitude),Co(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=xo(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Io(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Oo(t);return new Eo(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=mo.fromString(t);Zs(wc(n));var r=new Yf(n.get(1),n.get(3)),i=new vo(n.popFirst(5));return r.isEqual(e)||Ws("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Ig(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var kg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(F.c)(e,t),e.prototype.convertBytes=function(t){return new jp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new mp(this.firestore,null,e)},e}(xg),Ag=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Up(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=jg(t,this._firestore),i=Ig(r._converter,e,n),s=qp(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,Xa.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=jg(t,this._firestore);return e instanceof gp&&(e=e._delegate),s="string"==typeof e||e instanceof Ap?Wp(this._dataReader,"WriteBatch.update",o._key,e,n,r):Qp(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Xa.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=jg(t,this._firestore);return this._mutations=this._mutations.concat(new fu(e._key,Xa.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new po(fo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function jg(t,e){if(t instanceof gp&&(t=t._delegate),t.firestore!==e)throw new po(fo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ng=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(F.c)(e,t),e.prototype.convertBytes=function(t){return new jp(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new mp(this.firestore,null,e)},e}(xg);function Pg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=hp(t,mp);var s=hp(t.firestore,Ep),o=Up(s);return e instanceof gp&&(e=e._delegate),Mg(s,[("string"==typeof e||e instanceof Ap?Wp(o,"updateDoc",t._key,e,n,r):Qp(o,"updateDoc",t._key,e)).toMutation(t._key,Xa.exists(!0))])}function Dg(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof gp&&(t=t._delegate);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Sp(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Sp(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof mp)c=hp(t.firestore,Ep),l=pa(t._key.path),u={next:function(e){i[a]&&i[a](Rg(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=hp(t,yp);c=hp(f.firestore,Ep),l=f._query;var p=new Ng(c);u={next:function(t){i[a]&&i[a](new dg(c,p,f,t))},error:i[a+1],complete:i[a+2]},gg(t._query)}return function(t,e,n,r){var i=this,s=new Rf(r),o=new Gd(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(i,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){switch(n.label){case 0:return e=Ud,[4,Qf(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(i,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){switch(n.label){case 0:return e=qd,[4,Qf(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Tp(c),l,h,u)}function Mg(t,e){return function(t,e){var n=this,r=new Gc;return t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(n,void 0,void 0,function(){var n;return Object(F.d)(this,function(i){switch(i.label){case 0:return n=rf,[4,$f(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Tp(t),e)}function Rg(t,e,n){var r=n.docs.get(e._key),i=new Ng(t);return new lg(t,i,e._key,r,new cg(n.hasPendingWrites,n.fromCache),e._converter)}var Lg=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(F.c)(e,t),e.prototype.get=function(e){var n=this,r=jg(e,this._firestore),i=new Ng(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new lg(n._firestore,i,r._key,t._document,new cg(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Up(t)}return t.prototype.get=function(t){var e=this,n=jg(t,this._firestore),r=new kg(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ys();var i=t[0];if(i instanceof Ho)return new og(e._firestore,r,n._key,null,n._converter);if(i instanceof zo)return new og(e._firestore,r,i.key,i,n._converter);throw Ys()})},t.prototype.set=function(t,e,n){var r=jg(t,this._firestore),i=Ig(r._converter,e,n),s=qp(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=jg(t,this._firestore);return e instanceof gp&&(e=e._delegate),s="string"==typeof e||e instanceof Ap?Wp(this._dataReader,"Transaction.update",o._key,e,n,r):Qp(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=jg(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Fg(){if("undefined"==typeof Uint8Array)throw new po(fo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Vg(){if("undefined"==typeof atob)throw new po(fo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ug=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.fromBase64String=function(t){return Vg(),new e(jp.fromBase64String(t))},e.fromUint8Array=function(t){return Fg(),new e(jp.fromUint8Array(t))},e.prototype.toBase64=function(){return Vg(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Fg(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(gp),qg=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){kp(t=hp(t,Ep));var n=Tp(t),r=t._freezeSettings(),i=new Mf;return Ip(n,i,new Pf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){kp(t=hp(t,Ep));var e=Tp(t),n=t._freezeSettings(),r=new Mf;return Ip(e,r,new Df(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new po(fo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Gc;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(F.b)(e,void 0,void 0,function(){var e;return Object(F.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(F.b)(this,void 0,void 0,function(){return Object(F.d)(this,function(e){switch(e.label){case 0:return Qc.At()?[4,Qc.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(sh(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Bg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Yf||(i.sa=e),i}return Object(F.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=hp(t,pp))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&Js("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(F.b)(e,void 0,void 0,function(){var e,n;return Object(F.d)(this,function(r){switch(r.label){case 0:return[4,Hf(t)];case 1:return e=r.sent(),[4,Kf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=to(t);return e.Qr.delete(0),ud(e)}(n))]}})})})}(Tp(hp(this._delegate,Ep)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(F.b)(e,void 0,void 0,function(){var e,n;return Object(F.d)(this,function(r){switch(r.label){case 0:return[4,Hf(t)];case 1:return e=r.sent(),[4,Kf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(F.b)(this,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){switch(n.label){case 0:return(e=to(t)).Qr.add(0),[4,cd(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(Tp(hp(this._delegate,Ep)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ap("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Gc;return t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(e,void 0,void 0,function(){var e;return Object(F.d)(this,function(r){switch(r.label){case 0:return e=lf,[4,$f(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Tp(hp(this._delegate,Ep)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Rf(e);return t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(n,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){to(t).Zr.add(e),e.next()},[4,Qf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(n,void 0,void 0,function(){var e;return Object(F.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){to(t).Zr.delete(e)},[4,Qf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Tp(t=hp(t,Ep)),Sp(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new po(fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new nm(this,vp(this._delegate,t))}catch(t){throw Qg(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new $g(this,_p(this._delegate,t))}catch(t){throw Qg(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Zg(this,function(t,e){if(t=hp(t,pp),sp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new po(fo.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new yp(t,null,function(t){return new da(mo.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Qg(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Gc;return t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(n,void 0,void 0,function(){var n;return Object(F.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return zf(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Ff(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Tp(t),function(n){return e(new Lg(t,n))})}(this._delegate,function(n){return t(new Hg(e,n))})},e.prototype.batch=function(){var t=this;return Tp(this._delegate),new Gg(new Ag(this._delegate,function(e){return Mg(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new po(fo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new po(fo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(gp),zg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(F.c)(e,t),e.prototype.convertBytes=function(t){return new Ug(new jp(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return $g.ia(e,this.firestore,null)},e}(xg),Hg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new zg(e),r}return Object(F.c)(e,t),e.prototype.get=function(t){var e=this,n=rm(t);return this._delegate.get(n).then(function(t){return new Xg(e._firestore,new lg(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=rm(t);return n?(op("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=rm(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(F.f)([o,e,n],i)),this},e.prototype.delete=function(t){var e=rm(t);return this._delegate.delete(e),this},e}(gp),Gg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.prototype.set=function(t,e,n){var r=rm(t);return n?(op("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=rm(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(F.f)([o,e,n],i)),this},e.prototype.delete=function(t){var e=rm(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(gp),Kg=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(F.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new hg(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Yg(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new zg(t),n),i.set(n,s)),s},e}(gp);Kg.oa=new WeakMap;var $g=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new zg(e),r}return Object(F.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new po(fo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new mp(n._delegate,r,new vo(t)))},e.ia=function(t,n,r){return new e(n,new mp(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new nm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new nm(this.firestore,vp(this._delegate,t))}catch(t){throw Qg(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof gp&&(t=t._delegate),t instanceof mp&&wp(this._delegate,t)},e.prototype.set=function(t,e){e=op("DocumentReference.set",e);try{return function(t,e,n){t=hp(t,mp);var r=hp(t.firestore,Ep),i=Ig(t._converter,e,n);return Mg(r,[qp(Up(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Xa.none())])}(this._delegate,t,e)}catch(t){throw Qg(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Pg(this._delegate,t):Pg.apply(void 0,Object(F.f)([this._delegate,t,e],n))}catch(t){throw Qg(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Mg(hp((t=this._delegate).firestore,Ep),[new fu(t._key,Xa.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Wg(e),i=Jg(e,function(e){return new Xg(t.firestore,new lg(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return Dg(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=hp(t,mp);var e=hp(t.firestore,Ep),n=Tp(e),r=new Ng(e);return function(t,e){var n=this,r=new Gc;return t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(n,void 0,void 0,function(){var n;return Object(F.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i;return Object(F.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=to(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof zo?n.resolve(i):i instanceof Ho?n.resolve(null):n.reject(new po(fo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Dd(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Gf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new lg(e,r,t._key,n,new cg(n instanceof zo&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=hp(t,mp);var e=hp(t.firestore,Ep);return Wf(Tp(e),t._key,{source:"server"}).then(function(n){return Rg(e,t,n)})}(this._delegate):function(t){t=hp(t,mp);var e=hp(t.firestore,Ep);return Wf(Tp(e),t._key).then(function(n){return Rg(e,t,n)})}(this._delegate)).then(function(t){return new Xg(e.firestore,new lg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Kg.ra(this.firestore,t):null))},e}(gp);function Qg(t,e,n){return t.message=t.message.replace(e,n),t}function Wg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Sp(r))return r}return{}}function Jg(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Sp(t[0])?t[0]:Sp(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Xg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(F.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new $g(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return pg(this._delegate,t._delegate)},e}(gp),Yg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Xg),Zg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new zg(e),r}return Object(F.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,yg(this._delegate,function(t,e,n){var r=e,i=ug("where",t);return new bg(i,r,n)}(t,n,r)))}catch(t){throw Qg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,yg(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ug("orderBy",t);return new vg(r,n)}(t,n)))}catch(t){throw Qg(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,yg(this._delegate,function(t){return dp("limit",t),new _g("limit",t,"F")}(t)))}catch(t){throw Qg(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,yg(this._delegate,function(t){return dp("limitToLast",t),new _g("limitToLast",t,"L")}(t)))}catch(t){throw Qg(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,yg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wg("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Qg(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,yg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new wg("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Qg(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,yg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Og("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Qg(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,yg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Og("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Qg(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Op(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=hp(t,yp);var e=hp(t.firestore,Ep),n=Tp(e),r=new Ng(e);return function(t,e){var n=this,r=new Gc;return t.asyncQueue.enqueueAndForget(function(){return Object(F.b)(n,void 0,void 0,function(){var n;return Object(F.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(F.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(F.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,_h(t,e,!0)];case 1:return a=u.sent(),r=new Jd(e,a.jn),i=r.Io(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Dd(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Gf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new dg(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=hp(t,yp);var e=hp(t.firestore,Ep),n=Tp(e),r=new Ng(e);return Jf(n,t._query,{source:"server"}).then(function(n){return new dg(e,r,t,n)})}(this._delegate):function(t){t=hp(t,yp);var e=hp(t.firestore,Ep),n=Tp(e),r=new Ng(e);return gg(t._query),Jf(n,t._query).then(function(n){return new dg(e,r,t,n)})}(this._delegate)).then(function(t){return new em(e.firestore,new dg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Wg(e),i=Jg(e,function(e){return new em(t.firestore,new dg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Dg(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Kg.ra(this.firestore,t):null))},e}(gp),tm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(F.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Yg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(gp),em=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r}return Object(F.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Zg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Yg(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new tm(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Yg(n._firestore,r))})},e.prototype.isEqual=function(t){return pg(this._delegate,t._delegate)},e}(gp),nm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(F.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new $g(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new $g(this.firestore,void 0===t?_p(this._delegate):_p(this._delegate,t))}catch(t){throw Qg(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=hp(t.firestore,Ep),r=_p(t),i=Ig(t._converter,e);return Mg(n,[qp(Up(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Xa.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new $g(e.firestore,t)})},e.prototype.isEqual=function(t){return wp(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Kg.ra(this.firestore,t):null))},e}(Zg);function rm(t){return t instanceof gp&&(t=t._delegate),hp(t,mp)}var im,sm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Ap.bind.apply(Ap,Object(F.f)([void 0],e))))||this}return Object(F.c)(e,t),e.documentId=function(){return new e(bo.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof gp&&(t=t._delegate),t instanceof Ap&&this._delegate._internalPath.isEqual(t._internalPath)},e}(gp),om=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(F.c)(e,t),e.serverTimestamp=function(){var t=new Hp("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Bp("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gp("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Kp("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new $p("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(gp),am=n("/6Yf"),um={Firestore:Bg,GeoPoint:Pp,Timestamp:Eo,Blob:Ug,Transaction:Hg,WriteBatch:Gg,DocumentReference:$g,DocumentSnapshot:Xg,Query:Zg,QueryDocumentSnapshot:Yg,QuerySnapshot:em,CollectionReference:nm,FieldPath:sm,FieldValue:om,setLogLevel:function(t){Ks.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function cm(t,e){return function(t,e=Ae.a){return new U.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function lm(t,e){return cm(t,e).pipe(Object(B.a)(t=>({payload:t,type:"query"})))}function hm(t,e){return lm(t,e).pipe(Object(je.a)(void 0),Pe(),Object(B.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function dm(t,e,n){return hm(t,n).pipe(Object(Re.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return fm(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return fm(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fm(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Le(void 0,void 0)),Object(B.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function fm(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function pm(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new am.a("firestore",function(t){return function(t,e){return new Bg(t,new Ep(t,e),new qg)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},um)))})(im=Ue.a),im.registerVersion("@firebase/firestore","2.2.1");class gm{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=hm(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(B.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Object(je.a)(void 0),Pe(),Object(_e.a)(([t,e])=>e.length>0||!t),Object(B.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Re.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=pm(t);return dm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return lm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(B.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(V.a)(this.query.get(t)).pipe(Object(le.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new mm(this.ref.doc(t),this.afs)}}class mm{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Om(n,e);return new gm(r,i,this.afs)}snapshotChanges(){return cm(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(je.a)(void 0),Pe(),Object(B.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(B.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(V.a)(this.ref.get(t)).pipe(Object(le.b)(this.afs.schedulers.insideAngular))}}class ym{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?hm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(B.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(_e.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):hm(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Re.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=pm(t);return dm(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return lm(this.query,this.afs.schedulers.outsideAngular).pipe(Object(B.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(V.a)(this.query.get(t)).pipe(Object(le.b)(this.afs.schedulers.insideAngular))}}const bm=new i.r("angularfire2.enableFirestorePersistence"),vm=new i.r("angularfire2.firestore.persistenceSettings"),_m=new i.r("angularfire2.firestore.settings"),wm=new i.r("angularfire2.firestore.use-emulator");function Om(t,e=(t=>t)){return{query:e(t),ref:t}}let Cm=(()=>{class t{constructor(t,e,n,i,s,o,a,u,c){this.schedulers=new we.d(o),this.keepUnstableUntilFirst=Object(we.h)(this.schedulers);const l=Object(we.g)(t,o,e);!Ve.a.auth&&c&&Object(we.j)();const h=u;[this.firestore,this.persistenceEnabled$]=Object(we.f)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const t=o.runOutsideAngular(()=>l.firestore());if(i&&t.settings(i),h&&t.useEmulator(...h),n&&!Object(r.o)(s)){const e=()=>{try{return Object(V.a)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(im){return"undefined"!=typeof console&&console.warn(im),Object(ae.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(ae.a)(!1)]},[i,h,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Om(n,e),s=this.schedulers.ngZone.run(()=>r);return new gm(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ym(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new mm(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(we.c),i.Sb(we.b,8),i.Sb(bm,8),i.Sb(_m,8),i.Sb(i.C),i.Sb(i.A),i.Sb(vm,8),i.Sb(wm,8),i.Sb(Oe,8))},t.\u0275prov=Object(i.Hb)({factory:function(){return new t(Object(i.Sb)(we.c),Object(i.Sb)(we.b,8),Object(i.Sb)(bm,8),Object(i.Sb)(_m,8),Object(i.Sb)(i.C),Object(i.Sb)(i.A),Object(i.Sb)(vm,8),Object(i.Sb)(wm,8),Object(i.Sb)(Oe,8))},token:t,providedIn:"any"}),t})(),Sm=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:bm,useValue:!0},{provide:vm,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({providers:[Cm]}),t})(),Em=(()=>{class t{constructor(t,e){this.afAuth=t,this.afs=e,this.user$=this.afAuth.authState.pipe(Object(se.a)(t=>t?this.afs.doc(`users/${t.uid}`).valueChanges():Object(ae.a)(null)))}login(t,e){return Object(F.b)(this,void 0,void 0,function*(){try{const{user:n}=yield this.afAuth.signInWithEmailAndPassword(t,e);return n}catch(n){console.log(n)}})}registro(t,e){return Object(F.b)(this,void 0,void 0,function*(){try{const{user:n}=yield this.afAuth.createUserWithEmailAndPassword(t,e);return this.updateUserData(n),n}catch(n){console.log(n)}})}logout(){return Object(F.b)(this,void 0,void 0,function*(){try{yield this.afAuth.signOut()}catch(t){console.log(t)}})}getUsuario(){return this.afAuth.authState.pipe(Object(oe.a)()).toPromise()}updateUserData(t){return this.afs.doc(`user/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,myCustomData:"lola"},{merge:!0})}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(Ie),i.Sb(Cm))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Tm=[{path:"",component:(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.loginForm=new Rt({email:new Mt(""),password:new Mt("")}),this.seleccion="",this.usuario="",this.clave=""}ngOnInit(){}onLogin(){return Object(F.b)(this,void 0,void 0,function*(){const{email:t,password:e}=this.loginForm.value;try{this.authSvc.login(t,e)&&this.router.navigate(["/home"])}catch(n){console.log(n)}})}onChange(t){switch(t){case"admin":this.loginForm.setValue({email:"usuario@usuario.com",password:"123456"}),console.log(this.loginForm.value);break;case"fulanito":this.loginForm.setValue({email:"mail@hola.com",password:"clave123"})}}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(Em),i.Lb(M.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-login"]],features:[i.zb([Em])],decls:30,vars:4,consts:[[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"car"],[1,"card-body"],[1,"tetx-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control",3,"value"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"form-group","mt-3"],["routerLink","/registro",1,"button"],["for","usuarios"],["value","seleccione","okText","Seleccionar","name","usuarios","cancelText","Cancelar",1,"form-control",3,"ngModel","ngModelChange","change"],["value","admin"],["value","fulanito"]],template:function(t,e){1&t&&(i.Ob(0,"div",0),i.Ob(1,"div",1),i.Ob(2,"div",2),i.Ob(3,"div",3),i.Ob(4,"h1",4),i.kc(5,"Login"),i.Nb(),i.Ob(6,"form",5),i.Vb("ngSubmit",function(){return e.onLogin()}),i.Ob(7,"div",6),i.Ob(8,"label",7),i.kc(9,"Email"),i.Nb(),i.Mb(10,"input",8),i.Nb(),i.Ob(11,"div",6),i.Ob(12,"label",9),i.kc(13,"Clave"),i.Nb(),i.Mb(14,"input",10),i.Nb(),i.Ob(15,"button",11),i.kc(16,"Ingresar"),i.Nb(),i.Nb(),i.Ob(17,"div",12),i.Ob(18,"p"),i.kc(19,"\xbfNo tienes una cuenta? "),i.Ob(20,"a",13),i.kc(21,"Registro de usuario"),i.Nb(),i.Nb(),i.Nb(),i.Ob(22,"div",12),i.Ob(23,"label",14),i.kc(24,"Seleccione usuario "),i.Nb(),i.Ob(25,"select",15),i.Vb("ngModelChange",function(t){return e.seleccion=t})("change",function(){return e.onChange(e.seleccion)}),i.Ob(26,"option",16),i.kc(27,"admin"),i.Nb(),i.Ob(28,"option",17),i.kc(29,"Fulanito"),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb()),2&t&&(i.Ab(6),i.ac("formGroup",e.loginForm),i.Ab(4),i.bc("value",e.usuario),i.Ab(4),i.bc("value",e.clave),i.Ab(11),i.ac("ngModel",e.seleccion))},directives:[qt,pt,Gt,W,ft,$t,M.c,Jt,Ut,Xt,ee],styles:["h1[_ngcontent-%COMP%], label[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#f0f8ff}"]}),t})()},{path:"home",component:L},{path:"quiensoy",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-quien-soy"]],decls:37,vars:0,consts:[[1,"row"],["id","quiwn",1,"col-md-6","text-center"],[1,"margin"],["src","./assets/imagenes/quiensoy.jpg","alt","Bird","width","350","height","350",1,"img-responsive","img-circle","margin",2,"display","inline"],["id","que",1,"col-md-6","text-center"],["src","./assets/imagenes/grilla1.png",1,"juego"],["src","./assets/imagenes/Flecha_tesela.svg",1,"flecha"],["src","./assets/imagenes/grilla2.png",1,"juego"],["id","donde",1,"container-fluid","bg-3","text-center"],[1,"col-sm-4"],["src","./assets/imagenes/quiensoy1.jpg","alt","Image",1,"img-responsive","margin","imagenDeQuienSoy"],["src","./assets/imagenes/quiensoy2.jpg","alt","Image",1,"img-responsive","margin","imagenDeQuienSoy"],["src","./assets/imagenes/quiensoy3.png","alt","Image",1,"img-responsive","margin","imagenDeQuienSoy"],[1,"container-fluid","bg-4","text-center"],["href","https://www.blablabla.com.ar"]],template:function(t,e){1&t&&(i.Ob(0,"div",0),i.Ob(1,"div",1),i.Ob(2,"h3",2),i.kc(3,"\xbfQui\xe9n Soy?"),i.Nb(),i.Mb(4,"img",3),i.Ob(5,"h3"),i.kc(6,"Soy Un alumno de la UTN FRA, Vanina Quezada"),i.Nb(),i.Nb(),i.Ob(7,"div",4),i.Ob(8,"h2",2),i.kc(9,"Juego: Rompecabezas de numeros"),i.Nb(),i.Ob(10,"p"),i.kc(11,"El objetivo del juego es mover los casilleros de manera tal que los n\xfameros queden ordenados del 1 al 8, quedando el casillero vac\xedo \xfaltimo."),i.Nb(),i.Mb(12,"img",5),i.Mb(13,"img",6),i.Mb(14,"img",7),i.Nb(),i.Nb(),i.Ob(15,"div",8),i.Ob(16,"h3",2),i.kc(17,"\xbfD\xf3nde Funciona?"),i.Nb(),i.Mb(18,"br"),i.Ob(19,"div",0),i.Ob(20,"div",9),i.Mb(21,"img",10),i.Ob(22,"p"),i.kc(23,"Con las tecnologias WEB que permiten desarrollar aplicaciones multiplataforma"),i.Nb(),i.Nb(),i.Ob(24,"div",9),i.Mb(25,"img",11),i.Ob(26,"p"),i.kc(27,"Principalmente orientada a la experiencia del usuario, garantizando que su funcionamieto sea fluido y pensado en el comportamiento del usuario y en la funcionalidad."),i.Nb(),i.Nb(),i.Ob(28,"div",9),i.Mb(29,"img",12),i.Ob(30,"p"),i.kc(31,"Para los sistemas operativos lideres en el mercado del consumo masivo"),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Ob(32,"footer",13),i.Ob(33,"p"),i.kc(34,"Modificado por "),i.Ob(35,"a",14),i.kc(36,"https://www.blablabla.com.ar"),i.Nb(),i.Nb(),i.Nb())},styles:[".imagenDeQuienSoy[_ngcontent-%COMP%]{width:400px;height:250px}body[_ngcontent-%COMP%]{font:20px Montserrat,sans-serif;line-height:1.8;color:#f5f6f7}p[_ngcontent-%COMP%]{font-size:16px}.margin[_ngcontent-%COMP%]{margin-bottom:45px}.bg-1[_ngcontent-%COMP%]{background-color:#1abc9c;color:#fff}.bg-2[_ngcontent-%COMP%]{background-color:#474e5d;color:#fff}.bg-3[_ngcontent-%COMP%]{background-color:#fff;color:#555}.bg-4[_ngcontent-%COMP%]{background-color:#3a0447;color:#fff;height:20%}.container-fluid[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.navbar[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px;border:0;border-radius:0;margin-bottom:0;font-size:12px;letter-spacing:5px}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1abc9c!important}nav[_ngcontent-%COMP%]{display:flex;background-color:#0e3aff;color:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.active[_ngcontent-%COMP%]{background-color:#f3f3f3;border:solid;border-radius:25px;border-color:#328afd}.active[_ngcontent-%COMP%], .row[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{color:#fff}.row[_ngcontent-%COMP%]{background-color:#18066b;padding:30px}#que[_ngcontent-%COMP%]{margin-top:60px}.juego[_ngcontent-%COMP%]{height:250px}.flecha[_ngcontent-%COMP%]{height:80px;margin:15px}"]}),t})()},{path:"chat",component:R},{path:"registro",component:(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.registerForm=new Rt({email:new Mt(""),password:new Mt("")})}ngOnInit(){}onRegister(){return Object(F.b)(this,void 0,void 0,function*(){const{email:t,password:e}=this.registerForm.value;try{this.authSvc.registro(t,e)&&this.router.navigate(["/home"])}catch(n){}})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(Em),i.Lb(M.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-registro"]],features:[i.zb([Em])],decls:22,vars:1,consts:[[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"car"],[1,"card-body"],[1,"tetx-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"form-group","mt-3"],["routerLink","/",1,"button"]],template:function(t,e){1&t&&(i.Ob(0,"div",0),i.Ob(1,"div",1),i.Ob(2,"div",2),i.Ob(3,"div",3),i.Ob(4,"h1",4),i.kc(5,"Registro de Usuario"),i.Nb(),i.Ob(6,"form",5),i.Vb("ngSubmit",function(){return e.onRegister()}),i.Ob(7,"div",6),i.Ob(8,"label",7),i.kc(9,"Email"),i.Nb(),i.Mb(10,"input",8),i.Nb(),i.Ob(11,"div",6),i.Ob(12,"label",9),i.kc(13,"Clave"),i.Nb(),i.Mb(14,"input",10),i.Nb(),i.Ob(15,"button",11),i.kc(16,"Registrar"),i.Nb(),i.Nb(),i.Ob(17,"div",12),i.Ob(18,"p"),i.kc(19,"\xbfYa tienes una cuenta? "),i.Ob(20,"a",13),i.kc(21,"Login"),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb(),i.Nb()),2&t&&(i.Ab(6),i.ac("formGroup",e.registerForm))},directives:[qt,pt,Gt,W,ft,$t,M.c],styles:["h1[_ngcontent-%COMP%], label[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#f0f8ff}"]}),t})()},{path:"juegos",loadChildren:()=>Promise.resolve().then(n.bind(null,"RSv/")).then(t=>t.JuegosModule)}];let xm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({imports:[[M.d.forRoot(Tm)],M.d]}),t})();function Im(t,e){1&t&&(i.Ob(0,"li",11),i.Ob(1,"a",14),i.kc(2,"Chat general"),i.Nb(),i.Nb())}function km(t,e){1&t&&(i.Ob(0,"li",11),i.Ob(1,"a",15),i.kc(2,"Juegos"),i.Nb(),i.Nb())}function Am(t,e){if(1&t&&(i.Ob(0,"li",11),i.Ob(1,"span",16),i.kc(2),i.Nb(),i.Nb()),2&t){const t=i.Xb().ngIf;i.Ab(2),i.lc(null==t?null:t.email)}}function jm(t,e){if(1&t){const t=i.Pb();i.Ob(0,"li",11),i.Ob(1,"a",17),i.Vb("click",function(){return i.fc(t),i.Xb(2).logOut()}),i.kc(2,"Logout"),i.Nb(),i.Nb()}}function Nm(t,e){if(1&t&&(i.Ob(0,"ul",7),i.Ob(1,"li",8),i.Ob(2,"a",9),i.kc(3,"Home "),i.Ob(4,"span",10),i.kc(5,"(current)"),i.Nb(),i.Nb(),i.Nb(),i.Ob(6,"li",11),i.Ob(7,"a",12),i.kc(8,"\xbfQuien Soy?"),i.Nb(),i.Nb(),i.ic(9,Im,3,0,"li",13),i.ic(10,km,3,0,"li",13),i.ic(11,Am,3,1,"li",13),i.ic(12,jm,3,0,"li",13),i.Nb()),2&t){const t=e.ngIf;i.Ab(9),i.ac("ngIf",t),i.Ab(1),i.ac("ngIf",t),i.Ab(1),i.ac("ngIf",t),i.Ab(1),i.ac("ngIf",t)}}function Pm(t,e){1&t&&(i.Ob(0,"ul",7),i.Ob(1,"li",11),i.Ob(2,"a",18),i.kc(3,"Login"),i.Nb(),i.Nb(),i.Ob(4,"li",11),i.Ob(5,"a",19),i.kc(6,"Registro"),i.Nb(),i.Nb(),i.Nb())}let Dm=(()=>{class t{constructor(t,e){this.authSvc=t,this.router=e,this.user$=this.authSvc.afAuth.user}ngOnInit(){}logOut(){return Object(F.b)(this,void 0,void 0,function*(){try{yield this.authSvc.logout(),this.router.navigate(["/"])}catch(t){console.log(t)}})}}return t.\u0275fac=function(e){return new(e||t)(i.Lb(Em),i.Lb(M.a))},t.\u0275cmp=i.Fb({type:t,selectors:[["app-navbar"]],features:[i.zb([Em])],decls:10,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["routerLink","/home",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarColor02","aria-controls","navbarColor02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor02",1,"collapse","navbar-collapse"],["class","navbar-nav mr-auto",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","/home",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["routerLink","/quiensoy",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/chat",1,"nav-link"],["routerLink","/juegos",1,"nav-link"],[1,"nav-link"],[1,"nav-link",3,"click"],["routerLink","/",1,"nav-link"],["routerLink","/registro",1,"nav-link"]],template:function(t,e){if(1&t&&(i.Ob(0,"nav",0),i.Ob(1,"a",1),i.kc(2,"Sala de Juegos"),i.Nb(),i.Ob(3,"button",2),i.Mb(4,"span",3),i.Nb(),i.Ob(5,"div",4),i.ic(6,Nm,13,4,"ul",5),i.Yb(7,"async"),i.ic(8,Pm,7,0,"ng-template",null,6,i.jc),i.Nb(),i.Nb()),2&t){const t=i.ec(9);i.Ab(6),i.ac("ngIf",i.Zb(7,2,e.user$))("ngIfElse",t)}},directives:[M.c,r.k],pipes:[r.b],styles:[""]}),t})(),Mm=(()=>{class t{constructor(){this.title="sala-de-juegos"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Fb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(i.Mb(0,"app-navbar"),i.Mb(1,"router-outlet"))},directives:[Dm,M.e],styles:["html[_ngcontent-%COMP%]{height:100%;width:100%;background:#111}"]}),t})();class Rm{}const Lm="*";function Fm(t,e=null){return{type:2,steps:t,options:e}}function Vm(t){return{type:6,styles:t,offset:null}}function Um(t){Promise.resolve(null).then(t)}class qm{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Um(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Bm{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Um(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function zm(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hm(t){switch(t.length){case 0:return new qm;case 1:return t[0];default:return new Bm(t)}}function Gm(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case Lm:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Km(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&$m(n,"start",t)));break;case"done":t.onDone(()=>r(n&&$m(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&$m(n,"destroy",t)))}}function $m(t,e,n){const r=n.totalTime,i=Qm(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Qm(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Wm(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Jm(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Xm=(t,e)=>!1,Ym=(t,e)=>!1,Zm=(t,e,n)=>[];const ty=zm();(ty||"undefined"!=typeof Element)&&(Xm=(t,e)=>t.contains(e),Ym=(()=>{if(ty||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ym}})(),Zm=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let ey=null,ny=!1;function ry(t){ey||(ey=("undefined"!=typeof document?document.body:null)||{},ny=!!ey.style&&"WebkitAppearance"in ey.style);let e=!0;return ey.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in ey.style,!e&&ny)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ey.style),e}const iy=Ym,sy=Xm,oy=Zm;function ay(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let uy=(()=>{class t{validateStyleProperty(t){return ry(t)}matchesElement(t,e){return iy(t,e)}containsElement(t,e){return sy(t,e)}query(t,e,n){return oy(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new qm(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})(),cy=(()=>{class t{}return t.NOOP=new uy,t})();const ly="ng-enter",hy="ng-leave",dy="ng-trigger",fy=".ng-trigger",py="ng-animating",gy=".ng-animating";function my(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yy(parseFloat(e[1]),e[2])}function yy(t,e){switch(e){case"s":return 1e3*t;default:return t}}function by(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=yy(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=yy(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function vy(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function _y(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else vy(t,n);return n}function wy(t,e,n){return n?e+":"+n+";":""}function Oy(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=wy(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=wy(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Cy(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=jy(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),zm()&&Oy(t))}function Sy(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=jy(e);t.style[n]=""}),zm()&&Oy(t))}function Ey(t){return Array.isArray(t)?1==t.length?t[0]:Fm(t):t}const Ty=new RegExp("{{\\s*(.+?)\\s*}}","g");function xy(t){let e=[];if("string"==typeof t){let n;for(;n=Ty.exec(t);)e.push(n[1]);Ty.lastIndex=0}return e}function Iy(t,e,n){const r=t.toString(),i=r.replace(Ty,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function ky(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Ay=/-+([a-z0-9])/g;function jy(t){return t.replace(Ay,(...t)=>t[1].toUpperCase())}function Ny(t,e){return 0===t||0===e}function Py(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=My(t,e)})}}return e}function Dy(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function My(t,e){return window.getComputedStyle(t)[e]}const Ry="*";function Ly(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(Uy(i,o)),"<"!=s[0]||i==Ry&&o==Ry||e.push(Uy(o,i))}(t,n,e)):n.push(t),n}const Fy=new Set(["true","1"]),Vy=new Set(["false","0"]);function Uy(t,e){const n=Fy.has(t)||Vy.has(t),r=Fy.has(e)||Vy.has(e);return(i,s)=>{let o=t==Ry||t==i,a=e==Ry||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?Fy.has(t):Vy.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?Fy.has(e):Vy.has(e)),o&&a}}const qy=new RegExp("s*:selfs*,?","g");function By(t,e,n){return new zy(t).build(e,n)}class zy{constructor(t){this._driver=t}build(t,e){const n=new Hy(e);return this._resetContextStyleTimingState(n),Dy(this,Ey(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Gy(t)){const e=t;Object.keys(e).forEach(t=>{xy(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=ky(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Dy(this,Ey(t.animation),e);return{type:1,matchers:Ly(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ky(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Dy(this,t,e)),options:Ky(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Dy(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Ky(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return $y(by(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=$y(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||by(r,e),$y(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Vm({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Vm(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Lm?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Gy(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=xy(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Gy(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Gy(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Dy(this,Ey(t.animation),e),options:Ky(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ky(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ky(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(qy,"")),[t=t.replace(/@\*/g,fy).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,gy),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Wm(e.collectedStyles,e.currentQuerySelector,{});const o=Dy(this,Ey(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Ky(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:by(t.timings,e.errors,!0);return{type:12,animation:Dy(this,Ey(t.animation),e),timings:n,options:null}}}class Hy{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Gy(t){return!Array.isArray(t)&&"object"==typeof t}function Ky(t){var e;return t?(t=vy(t)).params&&(t.params=(e=t.params)?vy(e):null):t={},t}function $y(t,e,n){return{duration:t,delay:e,easing:n}}function Qy(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Wy{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Jy=new RegExp(":enter","g"),Xy=new RegExp(":leave","g");function Yy(t,e,n,r,i,s={},o={},a,u,c=[]){return(new Zy).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class Zy{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new Wy;const l=new eb(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Dy(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Qy(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?my(n.duration):null,s=null!=n.delay?my(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Dy(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=tb);const t=my(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Dy(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?my(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Dy(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return by(e.params?Iy(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?my(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=tb);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Dy(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Dy(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const tb={};class eb{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=tb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new nb(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=my(n.duration)),null!=n.delay&&(r.delay=my(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Iy(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new eb(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=tb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new rb(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Jy,"."+this._enterClassName)).replace(Xy,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class nb{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new nb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Lm,this._currentKeyframe[t]=Lm}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Lm})):_y(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Iy(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Lm),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=_y(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==Lm&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?ky(t.values()):[],s=e.size?ky(e.values()):[];if(n){const t=r[0],e=vy(t);t.offset=0,e.offset=1,r=[t,e]}return Qy(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class rb extends nb{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=_y(t[0],!1);a.offset=0,i.push(a);const u=_y(t[0],!1);u.offset=ib(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=_y(t[r],!1);o.offset=ib((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Qy(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ib(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class sb{}class ob extends sb{normalizePropertyName(t,e){return jy(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(ab[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const ab=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ub(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const cb={};class lb{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||cb,d=this.buildStyles(n,o&&o.params||cb,l),f=a&&a.params||cb,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=c?[]:Yy(t,e,this.ast.animation,i,s,d,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return ub(e,this._triggerName,n,r,b,d,p,[],[],m,y,w,l);_.forEach(t=>{const n=t.element,r=Wm(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Wm(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const O=ky(g.values());return ub(e,this._triggerName,n,r,b,d,p,_,O,m,y,w)}}class hb{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=vy(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=Iy(s,r,e)),n[t]=s})}}),n}}class db{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new hb(t.style,t.options&&t.options.params||{})}),fb(this.states,"true","1"),fb(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new lb(t,e,this.states))}),this.fallbackTransition=new lb(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function fb(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const pb=new Wy;class gb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=By(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Gm(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Yy(this._driver,e,i,ly,hy,{},{},n,pb,r),s.forEach(t=>{const e=Wm(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Lm)})});const a=Hm(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Qm(e,"","","");return Km(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const mb="ng-animate-queued",yb="ng-animate-disabled",bb=".ng-animate-disabled",vb=[],_b={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wb={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Ob{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=vy(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Cb="void",Sb=new Ob(Cb);class Eb{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Nb(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Wm(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Wm(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Nb(t,dy),Nb(t,"ng-trigger-"+e),a[e]=Sb),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new xb(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Nb(t,dy),Nb(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Ob(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Sb),u.value!==Cb&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Sy(t,n),Cy(t,r)})}return}const c=Wm(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(Nb(t,mb),s.onStart(()=>{Pb(t,mb)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,fy,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Cb,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Hm(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||Sb,a=new Ob(Cb),u=new xb(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==_b||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Nb(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Qm(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Km(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Tb{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Eb(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Ib(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Ib(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Nb(t,yb)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Pb(t,yb))}removeNode(t,e,n,r){if(Ib(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Ib(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,fy,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,gy,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Hm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=_b,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,bb)&&this.markElementAsDisabled(t,!1),this.driver.query(t,bb,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Nb(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Hm(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Wy,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=jb(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=ly+p++;f.set(e,n),t.forEach(t=>Nb(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const b=new Map,v=jb(h,Array.from(m));v.forEach((t,e)=>{const n=hy+p++;b.set(e,n),t.forEach(t=>Nb(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Pb(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>Pb(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Sy(i,p.fromStyles)),e.onDestroy(()=>Cy(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Sy(i,p.fromStyles)),e.onDestroy(()=>Cy(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Wm(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,C=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Wm(O,e,[]).push(t),t.destroy()})});const S=g.filter(t=>Rb(t,a,u)),E=new Map;Ab(E,this.driver,y,u,Lm).forEach(t=>{Rb(t,a,u)&&S.push(t)});const T=new Map;d.forEach((t,e)=>{Ab(T,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=E.get(t),n=T.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const x=[],I=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>Cy(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,O,i,T,E);if(s.setRealPlayer(n),t===k)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Hm(e)),r.push(s)}}else Sy(e,o.fromStyles),s.onDestroy(()=>Cy(e,o.toStyles)),I.push(s),c.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Hm(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t.__ng_removed;if(Pb(t,hy),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,gy,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Db(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Cb;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Wm(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Sy(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new qm(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return Mb(t,e),e}((n.get(h)||vb).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Gm(0,this._normalizer,0,e.keyframes,g,m),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new xb(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Wm(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Nb(t,py));const d=Hm(h);return d.onDestroy(()=>{c.forEach(t=>Pb(t,py)),Cy(a,e.toStyles)}),l.forEach(t=>{Wm(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new qm(t.duration,t.delay)}}class xb{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new qm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Km(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Wm(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ib(t){return t&&1===t.nodeType}function kb(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ab(t,e,n,r,i){const s=[];n.forEach(t=>s.push(kb(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=wb,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>kb(t,s[a++])),o}function jb(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function Nb(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Pb(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Db(t,e,n){Hm(n).onDone(()=>t.processLeaveNode(e))}function Mb(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Bm?Mb(r.players,e):e.push(r)}}function Rb(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Lb{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Tb(t,e,n),this._timelineEngine=new gb(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=By(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new db(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Jm(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Jm(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Fb(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Ub(e[0]),e.length>1&&(r=Ub(e[e.length-1]))):e&&(n=Ub(e)),n||r?new Vb(t,n,r):null}let Vb=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Cy(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Cy(this._element,this._initialStyles),this._endStyles&&(Cy(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Sy(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sy(this._element,this._endStyles),this._endStyles=null),Cy(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Ub(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];qb(i)&&(e=e||{},e[i]=t[i])}return e}function qb(t){return"display"===t||"position"===t}const Bb="animation",zb="animationend";class Hb{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Jb(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Wb(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Qb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Gb(this._element,this._name,"paused")}resume(){Gb(this._element,this._name,"running")}setPosition(t){const e=Kb(this._element,this._name);this._position=t*this._duration,Wb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Qb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Jb(t,"").split(","),r=$b(n,e);r>=0&&(n.splice(r,1),Wb(t,"",n.join(",")))}(this._element,this._name))}}function Gb(t,e,n){Wb(t,"PlayState",n,Kb(t,e))}function Kb(t,e){const n=Jb(t,"");return n.indexOf(",")>0?$b(n.split(","),e):$b([n],e)}function $b(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Qb(t,e,n){n?t.removeEventListener(zb,e):t.addEventListener(zb,e)}function Wb(t,e,n,r){const i=Bb+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Jb(t,e){return t.style[Bb+e]||""}class Xb{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Hb(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:My(this.element,n))})}this.currentSnapshot=t}}class Yb extends qm{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=ay(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Zb{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return ry(t)}matchesElement(t,e){return iy(t,e)}containsElement(t,e){return sy(t,e)}query(t,e,n){return oy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>ay(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Xb),u={};Ny(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Py(t,e,u));if(0==n)return new Yb(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=Fb(t,e),f=new Xb(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class tv{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:My(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ev{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(nv().toString()),this._cssKeyframesDriver=new Zb}validateStyleProperty(t){return ry(t)}matchesElement(t,e){return iy(t,e)}containsElement(t,e){return sy(t,e)}query(t,e,n){return oy(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof tv);Ny(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Fb(t,e=Py(t,e=e.map(t=>_y(t,!1)),u));return new tv(t,e,a,l)}}function nv(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let rv=(()=>{class t extends Rm{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Fm(t):t;return ov(this._renderer,null,e,"register",[n]),new iv(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(i.F),i.Sb(r.d))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();class iv extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new sv(this._id,t,e||{},this._renderer)}}class sv{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ov(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function ov(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const av="@",uv="@.disabled";let cv=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new lv("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new hv(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(i.F),i.Sb(Lb),i.Sb(i.A))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();class lv{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==av&&e==uv?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class hv extends lv{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==av?"."==e.charAt(1)&&e==uv?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==av){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=av&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let dv=(()=>{class t extends Lb{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Sb(r.d),i.Sb(cy),i.Sb(sb))},t.\u0275prov=i.Hb({token:t,factory:t.\u0275fac}),t})();const fv=[{provide:cy,useFactory:function(){return"function"==typeof nv()?new ev:new Zb}},{provide:new i.r("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Rm,useClass:rv},{provide:sb,useFactory:function(){return new ob}},{provide:Lb,useClass:dv},{provide:i.F,useFactory:function(t,e,n){return new cv(t,e,n)},deps:[w,Lb,i.A]}];let pv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Jb({type:t}),t.\u0275inj=i.Ib({providers:fv,imports:[D]}),t})();const gv={apiKey:"AIzaSyDaDxkZHkwvJy0N7o_DVcmMXIx_6vPSZ7I",authDomain:"tplab4-45942.firebaseapp.com",databaseURL:"https://tplab4-45942.firebaseio.com",projectId:"tplab4-45942",storageBucket:"tplab4-45942.appspot.com",messagingSenderId:"544089026720",appId:"1:544089026720:web:12140e7d4d8c437ea759c5"};var mv=n("RSv/"),yv=n("tk/3");let bv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Jb({type:t,bootstrap:[Mm]}),t.\u0275inj=i.Ib({providers:[],imports:[[D,re,xm,we.a.initializeApp(gv),ke,M.d,pv,mv.JuegosModule,ie,yv.b,Sm]]}),t})();Object(i.T)(),N().bootstrapModule(bv).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);